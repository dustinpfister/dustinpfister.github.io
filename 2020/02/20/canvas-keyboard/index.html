<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  
  <title>Canvas input keyboard events and input in general | Dustin John Pfister at github pages</title>
  
  <!-- no index tag or blank here -->
  
  
  <link rel="canonical" href="https://dustinpfister.github.io/2020/02/20/canvas-keyboard/" />

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="When working out a javaScript project canvas keyboard events might sometimes need to be used with mouse and touch events when working out a user interface. Of course these days touch and mouse events">
<meta property="og:type" content="article">
<meta property="og:title" content="Canvas input keyboard events and input in general">
<meta property="og:url" content="https://dustinpfister.github.io/2020/02/20/canvas-keyboard/index.html">
<meta property="og:site_name" content="Dustin John Pfister at github pages">
<meta property="og:description" content="When working out a javaScript project canvas keyboard events might sometimes need to be used with mouse and touch events when working out a user interface. Of course these days touch and mouse events">
<meta property="og:updated_time" content="2020-04-16T15:36:09.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Canvas input keyboard events and input in general">
<meta name="twitter:description" content="When working out a javaScript project canvas keyboard events might sometimes need to be used with mouse and touch events when working out a user interface. Of course these days touch and mouse events">
  
    <link rel="alternate" href="/atom.xml" title="Dustin John Pfister at github pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-83195184-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  <!-- structured data set in structured-data.ejs -->
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "email": "distin.pfister@gmail.com",
    "givenName": "Dustin",
    "familyName" : "Pfister",
    "additionalName": "John",
    "name": "Dustin John Pfister",
    "gender": "Male"
}
</script>
<!-- end structured data -->
  
  <!-- adsense if indexed -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1658284027672315",
    enable_page_level_ads: true
  });
  </script>
  
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <!-- added the image-->
        <div class="selfimage"></div>
        <!--<a href="/" id="logo">Dustin John Pfister at github pages</a>-->
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <!-- removed rss link-->
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dustinpfister.github.io"></form>
      </div>
    </div>
  </div>
</header>

<!-- adding my canvas thing ( Dustin ) -->
<script src="/js/the_matrix.js"></script>
      <div class="outer">
        <section id="main"><article itemscope itemtype="http://schema.org/Blog" id="post-canvas-keyboard" class="article article-type-post" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/02/20/canvas-keyboard/" class="article-date"> Published:
  <time datetime="2020-02-21T02:31:00.000Z" itemprop="datePublished">2020-02-20</time>
</a>

    <!-- other info (dustin) -->
    <a href="/2020/02/20/canvas-keyboard/" class="article-date"> Modified:
  <time datetime="2020-04-16T15:36:09.000Z" itemprop="dateModified">2020-04-16</time>
</a>

    <span class="article-date">V1.23</span>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/canvas/">canvas</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Canvas input keyboard events and input in general
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="text">
      
        <p>When working out a javaScript project <a href="https://developer.mozilla.org/en-US/docs/Games/Techniques/Control_mechanisms/Desktop_with_mouse_and_keyboard" target="_blank" rel="external">canvas keyboard events</a> might sometimes need to be used with mouse and touch events when working out a user interface. Of course these days touch and mouse events should always be used first and foremost when working out an interface, however keyboard support would still be nice for some projects.</p>
<p>Keyboard events in client side javaScript involve attaching event handlers to the window object, because these kinds of events have to do with key presses in general, and not just touch events that have to do with just a canvas element. </p>
<p>There are two main events of interest the keydown and keyup events, the names of which should speak for themselves. I often use the key down event to set a boolean value to true, and then the key up to set it back to false, then use those boolean values to change things in an update loop. Another approach would be to make something that is more event driven with or without an update loop.</p>
<p>There is also using keyboard events in conjunction with rather than a replacement for touch events, and working out a general system for capturing use input. So lets look at some examples of canvas keyboard events, and input in general with canvas and javaScript.</p>
<a id="more"></a>
<h2 id="1-The-basics-of-Canvas-keyboard-events"><a href="#1-The-basics-of-Canvas-keyboard-events" class="headerlink" title="1 - The basics of Canvas keyboard events"></a>1 - The basics of Canvas keyboard events</h2><p>The basic idea of canvas and keyboard events is that one or more event listeners should be attached to the window object using something like the add event listener method of the window object. When doing so I use the key down or key up event types, and attach a handler method where I define some logic as to what to do when such an event occurs. In this section I will be going over a few basic examples that should work out okay as starting points for canvas and keyboard events.</p>
<h3 id="1-1-canvas-keyboard-example-with-key-up-and-key-down-events"><a href="#1-1-canvas-keyboard-example-with-key-up-and-key-down-events" class="headerlink" title="1.1 - canvas keyboard example with key up and key down events"></a>1.1 - canvas keyboard example with key up and key down events</h3><p>So here I have a basic copy and past example where the html and javaScript are all wrapped up together. The result of this is a canvas example where the keydown property of a very basic state object is displayed in the center of the canvas. When any key is pressed the value of the keydown state property is set true and the canvas is redrawn. When any key is released the value of the keydown state object property is set back to false, and the canvas is redrawn yet again.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>canvas keyboard<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"the-canvas"</span> <span class="attr">width</span>=<span class="string">"320"</span> <span class="attr">height</span>=<span class="string">"240"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">'the-canvas'</span>),</div><div class="line">ctx = canvas.getContext(<span class="string">'2d'</span>);</div><div class="line">ctx.fillStyle = <span class="string">'red'</span>;</div><div class="line"><span class="keyword">var</span> draw = <span class="function"><span class="keyword">function</span>(<span class="params">ctx, canvas, state</span>)</span>&#123;</div><div class="line">   ctx.fillStyle = <span class="string">'black'</span>;</div><div class="line">   ctx.fillRect(<span class="number">0</span>,<span class="number">0</span>,canvas.width, canvas.height);</div><div class="line">   ctx.fillStyle = <span class="string">'white'</span>;</div><div class="line">   ctx.textBaseline = <span class="string">'middle'</span>;</div><div class="line">   ctx.textAlign = <span class="string">'center'</span>;</div><div class="line">   ctx.font = <span class="string">'60px courier'</span>;</div><div class="line">   ctx.fillText(state.keydown, canvas.width/ <span class="number">2</span>, canvas.height/<span class="number">2</span>);</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> state = &#123;</div><div class="line">    <span class="attr">keydown</span>: <span class="literal">false</span></div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> keyDown = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">   state.keydown = <span class="literal">true</span>;</div><div class="line">   draw(ctx, canvas, state);</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> keyUp = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">   state.keydown = <span class="literal">false</span>;</div><div class="line">   draw(ctx, canvas, state);</div><div class="line">&#125;;</div><div class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'keydown'</span>, keyDown);</div><div class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'keyup'</span>, keyUp);</div><div class="line">draw(ctx, canvas, state);</div><div class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Very basic and crude, and there is a lot more that needs to be done until I have something that can be called an actual project of some kind. However the basic idea of having something happen when a key is pressed, and something else when it is released is there. This can also be thought of as an event driven kind of example, where user interaction is the only driving force for change of the application state, however getting into the more would be off topic.</p>
<p>Now that we have the basic idea of keydown and keyup events out of the way lest take a look at some of the properties of interest in the event object of a keyboard event.</p>
<h3 id="1-2-The-keyCode-and-key-properties-of-a-keyboard-event-object"><a href="#1-2-The-keyCode-and-key-properties-of-a-keyboard-event-object" class="headerlink" title="1.2 - The keyCode and key properties of a keyboard event object"></a>1.2 - The keyCode and key properties of a keyboard event object</h3><p>In the body of the event handler as with just about any other event hander the first argument given is an event object. This event object has many properties that are the same as with any other event object in client side javaScript, however there are some properties that are unique to keyboard events. The main properties of interest with keyboard events might be the key and keyCode properties.</p>
<p>Here I have some javaScript that is not all that also just displayed the current values of a state object in a canvas element. However now I am not just displaying if the key is down or up, but also the current key that was pressed.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">'the-canvas'</span>),</div><div class="line">ctx = canvas.getContext(<span class="string">'2d'</span>);</div><div class="line">ctx.fillStyle = <span class="string">'red'</span>;</div><div class="line"><span class="keyword">var</span> draw = <span class="function"><span class="keyword">function</span>(<span class="params">ctx, canvas, state</span>)</span>&#123;</div><div class="line">   ctx.fillStyle = <span class="string">'black'</span>;</div><div class="line">   ctx.fillRect(<span class="number">0</span>,<span class="number">0</span>,canvas.width, canvas.height);</div><div class="line">   ctx.fillStyle = <span class="string">'white'</span>;</div><div class="line">   ctx.textBaseline = <span class="string">'middle'</span>;</div><div class="line">   ctx.textAlign = <span class="string">'center'</span>;</div><div class="line">   ctx.font = <span class="string">'20px courier'</span>;</div><div class="line">   ctx.fillText(state.key + <span class="string">'('</span> +state.code + <span class="string">')'</span>, canvas.width/ <span class="number">2</span>, canvas.height/<span class="number">2</span>);</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> state = &#123;</div><div class="line">    <span class="attr">keydown</span>: <span class="literal">false</span>,</div><div class="line">    <span class="attr">code</span>: <span class="number">-1</span>,</div><div class="line">    <span class="attr">key</span>: <span class="string">''</span></div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> keyDown = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">   state.keydown = <span class="literal">true</span>;</div><div class="line">   state.code = e.keyCode;</div><div class="line">   state.key = e.key;</div><div class="line">   draw(ctx, canvas, state);</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> keyUp = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">   state.keydown = <span class="literal">false</span>;</div><div class="line">   state.code = <span class="number">-1</span>;</div><div class="line">   state.key = <span class="string">''</span>;</div><div class="line">   draw(ctx, canvas, state);</div><div class="line">&#125;;</div><div class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'keydown'</span>, keyDown);</div><div class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'keyup'</span>, keyUp);</div><div class="line">draw(ctx, canvas, state);</div></pre></td></tr></table></figure>
<h2 id="2-Multi-key-canvas-keyboard-input"><a href="#2-Multi-key-canvas-keyboard-input" class="headerlink" title="2 -  Multi key canvas keyboard input"></a>2 -  Multi key canvas keyboard input</h2><p>One way to get going with multi key input with client side javaScript I just need to have an array of boolean variables for each key. I can then have an event handler that will set the boolean value for a key to true if it is a key down event, and false if it is a key up event. This array of boolean values could then be used to update the state of an object in different ways depending on the combination of keys pressed.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">'the-canvas'</span>),</div><div class="line">ctx = canvas.getContext(<span class="string">'2d'</span>);</div><div class="line"> </div><div class="line"><span class="comment">// Draw</span></div><div class="line"><span class="keyword">var</span> draw = <span class="function"><span class="keyword">function</span> (<span class="params">ctx, canvas, state</span>) </span>&#123;</div><div class="line">    ctx.fillStyle = <span class="string">'black'</span>;</div><div class="line">    ctx.fillRect(<span class="number">0</span>, <span class="number">0</span>, canvas.width, canvas.height);</div><div class="line">    ctx.fillStyle = <span class="string">'white'</span>;</div><div class="line">    ctx.fillText(<span class="string">'dir: '</span> + state.dir, <span class="number">20</span>, <span class="number">20</span>);</div><div class="line">    ctx.fillText(<span class="string">'dir: '</span> + state.dir, <span class="number">20</span>, <span class="number">20</span>);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="keyword">var</span> state = &#123;</div><div class="line">    <span class="attr">keys</span>: &#123;&#125;,</div><div class="line">    <span class="attr">dir</span>: <span class="number">0</span>,</div><div class="line">    <span class="attr">maxDir</span>: <span class="number">8</span></div><div class="line">&#125;;</div><div class="line"><span class="comment">// modulo that works okay with negative numbers</span></div><div class="line"><span class="keyword">var</span> mod = <span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (a &lt; <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> b - <span class="built_in">Math</span>.abs(a) % b;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> a % b;</div><div class="line">&#125;;</div><div class="line"><span class="comment">// set direction</span></div><div class="line"><span class="keyword">var</span> setDir = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (state.keys.a) &#123;</div><div class="line">        state.dir -= <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (state.keys.d) &#123;</div><div class="line">        state.dir += <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"><span class="comment">// key handler</span></div><div class="line"><span class="keyword">var</span> keyHandler = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">    <span class="comment">// toggle a boolean for the key</span></div><div class="line">    state.keys[e.key] = e.type === <span class="string">'keyup'</span> ? <span class="literal">false</span> : <span class="literal">true</span>;</div><div class="line">    setDir();</div><div class="line">    draw(ctx, canvas, state);</div><div class="line">&#125;;</div><div class="line"><span class="comment">// attach event handler</span></div><div class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'keydown'</span>, keyHandler);</div><div class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'keyup'</span>, keyHandler);</div><div class="line">draw(ctx, canvas, state);</div></pre></td></tr></table></figure>
<h2 id="3-Starting-a-comprehensive-keyboard-mouse-and-touch-control-module"><a href="#3-Starting-a-comprehensive-keyboard-mouse-and-touch-control-module" class="headerlink" title="3 - Starting a comprehensive keyboard, mouse and touch control module"></a>3 - Starting a comprehensive keyboard, mouse and touch control module</h2><p>In many projects I might want to use some kind of javaScript module or framework that abstracts away all of this stuff when it comes to keyboard events, as well as mouse and touch events. Many popular game and front end frameworks do just that of course. However the appeal of using vanilla javaScript is to have control, over well, control. So with that said in this section I will be going over a module that is the beginnings of a module that handles input in general from keys, and pointer events and presets it as a standard object containing a key code array, and a single pointer position object.</p>
<h3 id="3-1-Control-js"><a href="#3-1-Control-js" class="headerlink" title="3.1 - Control.js"></a>3.1 - Control.js</h3><p>For this kind of project I started out with a main control.js file that creates a single global variable and returns a single public function to it <a href="/2020/02/04/js-iife/">from within an IIFE</a>. Inside the body of the IIFE I have some private methods including a <a href="/2020/03/04/canvas-get-point-relative-to-canvas/">get canvas relative method</a> that I worked out in another post that I made after starting this post. This method just helps with getting a point that is relative to the upper left corner of the canvas rather than the window of the browser.</p>
<p>I then Have additional helpers that are used to create an input state object, as well as attach event handers to the canvas that is given when calling the main public method that is returned.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> controlMod = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line"> </div><div class="line">    <span class="keyword">var</span> getCanvasRelative = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> canvas = e.target,</div><div class="line">        bx = canvas.getBoundingClientRect();</div><div class="line">        <span class="keyword">return</span> &#123;</div><div class="line">            <span class="attr">x</span>: (e.changedTouches ? e.changedTouches[<span class="number">0</span>].clientX : e.clientX) - bx.left,</div><div class="line">            <span class="attr">y</span>: (e.changedTouches ? e.changedTouches[<span class="number">0</span>].clientY : e.clientY) - bx.top,</div><div class="line">            <span class="attr">bx</span>: bx</div><div class="line">        &#125;;</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="keyword">var</span> createInputState = <span class="function"><span class="keyword">function</span> (<span class="params">canvas, win</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> input = &#123;</div><div class="line">            <span class="attr">canvas</span>: canvas,</div><div class="line">            <span class="attr">win</span>: win,</div><div class="line">            <span class="attr">pointerDown</span>: <span class="literal">false</span>,</div><div class="line">            <span class="attr">keys</span>: &#123;&#125;,</div><div class="line">            <span class="attr">pos</span>: &#123;</div><div class="line">                <span class="attr">x</span>: <span class="literal">null</span>,</div><div class="line">                <span class="attr">y</span>: <span class="literal">null</span></div><div class="line">            &#125;,</div><div class="line">            <span class="attr">keys</span>: []</div><div class="line">        &#125;;</div><div class="line">        <span class="keyword">return</span> input;</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="comment">// handers</span></div><div class="line">    <span class="keyword">var</span> handlers = &#123;</div><div class="line">        <span class="attr">pointerStart</span>: <span class="function"><span class="keyword">function</span> (<span class="params">pos, input, e</span>) </span>&#123;</div><div class="line">            input.pointerDown = <span class="literal">true</span>;</div><div class="line">            input.pos.x = pos.x;</div><div class="line">            input.pos.y = pos.y;</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">pointerMove</span>: <span class="function"><span class="keyword">function</span> (<span class="params">pos, input, e</span>) </span>&#123;</div><div class="line">            <span class="comment">// update pos only if pointer is down</span></div><div class="line">            <span class="keyword">if</span> (input.pointerDown) &#123;</div><div class="line">                input.pos.x = pos.x;</div><div class="line">                input.pos.y = pos.y;</div><div class="line">            &#125;</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">pointerEnd</span>: <span class="function"><span class="keyword">function</span> (<span class="params">pos, input, e</span>) </span>&#123;</div><div class="line">            input.pointerDown = <span class="literal">false</span>;</div><div class="line">            input.pos.x = <span class="literal">null</span>;</div><div class="line">            input.pos.y = <span class="literal">null</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="comment">// set an event handler for the given input state, DOMType, and type in handlers</span></div><div class="line">    <span class="keyword">var</span> setPointerHandler = <span class="function"><span class="keyword">function</span> (<span class="params">input, DOMType, type</span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(input.canvas);</div><div class="line">        input.canvas.addEventListener(DOMType, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">            <span class="keyword">var</span> pos = getCanvasRelative(e);</div><div class="line">            e.preventDefault();</div><div class="line">            handlers[type](pos, input, e);</div><div class="line">        &#125;);</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="keyword">var</span> setKeyHandler = <span class="function"><span class="keyword">function</span> (<span class="params">input, DOMType</span>) </span>&#123;</div><div class="line">        input.win.addEventListener(DOMType, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">            input.keys[e.keyCode] = e.type === <span class="string">'keydown'</span>;</div><div class="line">        &#125;);</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">canvas, win</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> input = createInputState(canvas, win || <span class="built_in">window</span>);</div><div class="line">        <span class="comment">// mouse</span></div><div class="line">        setPointerHandler(input, <span class="string">'mousedown'</span>, <span class="string">'pointerStart'</span>);</div><div class="line">        setPointerHandler(input, <span class="string">'mousemove'</span>, <span class="string">'pointerMove'</span>);</div><div class="line">        setPointerHandler(input, <span class="string">'mouseup'</span>, <span class="string">'pointerEnd'</span>);</div><div class="line"> </div><div class="line">        <span class="comment">// touch</span></div><div class="line">        setPointerHandler(input, <span class="string">'touchstart'</span>, <span class="string">'pointerStart'</span>);</div><div class="line">        setPointerHandler(input, <span class="string">'touchmove'</span>, <span class="string">'pointerMove'</span>);</div><div class="line">        setPointerHandler(input, <span class="string">'touchend'</span>, <span class="string">'pointerEnd'</span>);</div><div class="line"> </div><div class="line">        <span class="comment">// keyboard</span></div><div class="line">        setKeyHandler(input, <span class="string">'keydown'</span>);</div><div class="line">        setKeyHandler(input, <span class="string">'keyup'</span>);</div><div class="line">        <span class="keyword">return</span> input;</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">&#125;</div><div class="line">    ());</div></pre></td></tr></table></figure>
<p>When using this module as expected the result is an object that can be used in the body of an update method to know the current status of things when it comes to keys, and a general pointer object that can be updated by mouse or touch events.</p>
<h3 id="3-2-trying-this-out-with-draw-js-main-js-and-some-html"><a href="#3-2-trying-this-out-with-draw-js-main-js-and-some-html" class="headerlink" title="3.2 - trying this out with draw.js, main.js and some html"></a>3.2 - trying this out with draw.js, main.js and some html</h3><p>Now it is time to try out my control.js module to see if things work as expected.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Draw</span></div><div class="line"><span class="keyword">var</span> draw = &#123;&#125;;</div><div class="line">draw.back = <span class="function"><span class="keyword">function</span> (<span class="params">ctx, canvas</span>) </span>&#123;</div><div class="line">    ctx.fillStyle = <span class="string">'black'</span>;</div><div class="line">    ctx.fillRect(<span class="number">0</span>, <span class="number">0</span>, canvas.width, canvas.height);</div><div class="line">&#125;;</div><div class="line">draw.debugInput = <span class="function"><span class="keyword">function</span> (<span class="params">ctx, input</span>) </span>&#123;</div><div class="line">    ctx.fillStyle = <span class="string">'white'</span>;</div><div class="line">    ctx.textBaseline = <span class="string">'top'</span>;</div><div class="line">    ctx.font = <span class="string">'10px arial'</span>;</div><div class="line">    ctx.fillText(<span class="string">'input.pointerDown: '</span> + input.pointerDown, <span class="number">10</span>, <span class="number">10</span>);</div><div class="line">    ctx.fillText(<span class="string">'input.pos: '</span> + input.pos.x + <span class="string">','</span> + input.pos.y, <span class="number">10</span>, <span class="number">20</span>);</div><div class="line">    ctx.fillText(<span class="string">'input.keys[87] (w): '</span> + input.keys[<span class="number">87</span>], <span class="number">10</span>, <span class="number">40</span>);</div><div class="line">    ctx.fillText(<span class="string">'input.keys[65] (a): '</span> + input.keys[<span class="number">65</span>], <span class="number">10</span>, <span class="number">50</span>);</div><div class="line">    ctx.fillText(<span class="string">'input.keys[83] (s): '</span> + input.keys[<span class="number">83</span>], <span class="number">10</span>, <span class="number">60</span>);</div><div class="line">    ctx.fillText(<span class="string">'input.keys[68] (d): '</span> + input.keys[<span class="number">68</span>], <span class="number">10</span>, <span class="number">70</span>);</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">'the-canvas'</span>),</div><div class="line">ctx = canvas.getContext(<span class="string">'2d'</span>);</div><div class="line"> </div><div class="line"><span class="keyword">var</span> input = controlMod(canvas);</div><div class="line"> </div><div class="line"><span class="keyword">var</span> loop = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line"> </div><div class="line">    requestAnimationFrame(loop);</div><div class="line"> </div><div class="line">    draw.back(ctx, canvas);</div><div class="line">    draw.debugInput(ctx, input);</div><div class="line"> </div><div class="line">&#125;;</div><div class="line"> </div><div class="line">loop();</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>canvas keyboard<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"the-canvas"</span> <span class="attr">width</span>=<span class="string">"320"</span> <span class="attr">height</span>=<span class="string">"240"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./lib/control.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./lib/draw.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./main.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="4-Conclusion"><a href="#4-Conclusion" class="headerlink" title="4 - Conclusion"></a>4 - Conclusion</h2><p>Although pointer events are what I should always start out with some projects just work better with keyboard input, or some kind of game pad input.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dustinpfister.github.io/2020/02/20/canvas-keyboard/" data-id="ckbpnvqin0094m8v1r6q7xpza" class="article-share-link">Share</a>
      
        <a href="https://dustinpfister.github.io/2020/02/20/canvas-keyboard/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/canvas/">canvas</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/02/27/js-javascript-example-tax-brackets/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          javaScript example tax brackets
        
      </div>
    </a>
  
  
    <a href="/2020/02/19/canvas-example-animation-fractal/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Basic Canvas fractal example</div>
    </a>
  
</nav>

  
</article>



<section id="comments">

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://dustinpfister.github.io/2020/02/20/canvas-keyboard/index.html';
    this.page.identifier = '617';
    this.page.title = 'Canvas input keyboard events and input in general';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://dustinpfister-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular/">angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/api/">api</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/backbone/">backbone</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/discovery/">discovery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/games/">games</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/grunt/">grunt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hapi/">hapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/heroku/">heroku</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jquery/">jquery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lodash/">lodash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node-js/">node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/phaser/">phaser</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/statistics/">statistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/three-js/">three.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backbone/">backbone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/corejs/">corejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deterministic/">deterministic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discovery/">discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejs/">ejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hapi/">hapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jimp/">jimp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js13k/">js13k</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/structured-data/">structured-data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/themes/">themes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three-js/">three.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JSON/" style="font-size: 12.63px;">JSON</a> <a href="/tags/SEO/" style="font-size: 10.53px;">SEO</a> <a href="/tags/angular/" style="font-size: 14.21px;">angular</a> <a href="/tags/animation/" style="font-size: 12.11px;">animation</a> <a href="/tags/automation/" style="font-size: 12.11px;">automation</a> <a href="/tags/backbone/" style="font-size: 12.63px;">backbone</a> <a href="/tags/blog/" style="font-size: 15.26px;">blog</a> <a href="/tags/canvas/" style="font-size: 18.95px;">canvas</a> <a href="/tags/corejs/" style="font-size: 13.16px;">corejs</a> <a href="/tags/deterministic/" style="font-size: 10px;">deterministic</a> <a href="/tags/discovery/" style="font-size: 11.05px;">discovery</a> <a href="/tags/ejs/" style="font-size: 11.58px;">ejs</a> <a href="/tags/express/" style="font-size: 17.37px;">express</a> <a href="/tags/games/" style="font-size: 17.89px;">games</a> <a href="/tags/git/" style="font-size: 11.58px;">git</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hapi/" style="font-size: 15.79px;">hapi</a> <a href="/tags/heroku/" style="font-size: 13.68px;">heroku</a> <a href="/tags/hexo/" style="font-size: 14.74px;">hexo</a> <a href="/tags/jimp/" style="font-size: 10.53px;">jimp</a> <a href="/tags/jquery/" style="font-size: 11.58px;">jquery</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/js13k/" style="font-size: 10px;">js13k</a> <a href="/tags/linux/" style="font-size: 13.16px;">linux</a> <a href="/tags/lodash/" style="font-size: 18.95px;">lodash</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mongodb/" style="font-size: 14.74px;">mongodb</a> <a href="/tags/node-js/" style="font-size: 19.47px;">node.js</a> <a href="/tags/phaser/" style="font-size: 18.42px;">phaser</a> <a href="/tags/statistics/" style="font-size: 12.63px;">statistics</a> <a href="/tags/structured-data/" style="font-size: 10px;">structured-data</a> <a href="/tags/themes/" style="font-size: 10px;">themes</a> <a href="/tags/three-js/" style="font-size: 16.84px;">three.js</a> <a href="/tags/vuejs/" style="font-size: 16.32px;">vuejs</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/06/18/js-function-pure/">javaScript and pure functions</a>
          </li>
        
          <li>
            <a href="/2020/06/17/js-array-push/">JS Array push and other ways of adding elements to an array</a>
          </li>
        
          <li>
            <a href="/2020/06/16/js-array-map/">JS Array map method examples</a>
          </li>
        
          <li>
            <a href="/2020/06/15/js-math-round/">JS Math round method and precision</a>
          </li>
        
          <li>
            <a href="/2020/06/10/js-array-of/">JS Array of method for creating an array from arguments</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Dustin Pfister<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      <br>
      <a href="/privacy.html" target="_blank">Privacy Policy</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'dustinpfister-github-io';
  
  var disqus_url = 'https://dustinpfister.github.io/2020/02/20/canvas-keyboard/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


  </div>
</body>
</html>