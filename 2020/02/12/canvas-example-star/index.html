<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <!-- disqus image-->
  <meta property="og:image" content="https://dustinpfister.github.io/css/images/banner.jpg">
  
  <title>Drawing a canvas star with javaScript | Dustin John Pfister at github pages</title>
  
  <!-- no index tag or blank here -->
  
  
  <link rel="canonical" href="https://dustinpfister.github.io/2020/02/12/canvas-example-star/" />

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Time for yet another canvas example this time I think I will do a quick example of drawing a star using javaScript and canvas just for the sake of doing something fun. One thing that comes to mind is">
<meta property="og:type" content="article">
<meta property="og:title" content="Drawing a canvas star with javaScript">
<meta property="og:url" content="https://dustinpfister.github.io/2020/02/12/canvas-example-star/index.html">
<meta property="og:site_name" content="Dustin John Pfister at github pages">
<meta property="og:description" content="Time for yet another canvas example this time I think I will do a quick example of drawing a star using javaScript and canvas just for the sake of doing something fun. One thing that comes to mind is">
<meta property="og:updated_time" content="2021-03-23T19:07:47.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Drawing a canvas star with javaScript">
<meta name="twitter:description" content="Time for yet another canvas example this time I think I will do a quick example of drawing a star using javaScript and canvas just for the sake of doing something fun. One thing that comes to mind is">
  
    <link rel="alternate" href="/atom.xml" title="Dustin John Pfister at github pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <!-- Google Analytics -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y8XLNG6JRW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Y8XLNG6JRW');
</script>
<!-- End Google Analytics -->


  <!-- structured data set in structured-data.ejs -->
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "email": "distin.pfister@gmail.com",
    "givenName": "Dustin",
    "familyName" : "Pfister",
    "additionalName": "John",
    "name": "Dustin John Pfister",
    "gender": "Male"
}
</script>
<!-- end structured data -->
  
  <!-- adsense if indexed -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1658284027672315",
    enable_page_level_ads: true
  });
  </script>
  
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <!-- added the image-->
        <div class="selfimage"></div>
        <!--<a href="/" id="logo">Dustin John Pfister at github pages</a>-->
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/2021/02/19/threejs-examples/">ThreeJS-Examples</a>
        
          <a class="main-nav-link" href="/2020/03/23/canvas-example/">Canvas-Examples</a>
        
          <a class="main-nav-link" href="https://github.com/dustinpfister">Github</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <!-- removed rss link-->
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dustinpfister.github.io"></form>
      </div>
    </div>
  </div>
</header>

<!-- adding my canvas thing ( Dustin ) -->
<script src="/js/the_matrix.js"></script>
      <div class="outer">
        <section id="main"><article itemscope itemtype="http://schema.org/Blog" id="post-canvas-example-star" class="article article-type-post" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/02/12/canvas-example-star/" class="article-date"> Published:
  <time datetime="2020-02-12T20:17:00.000Z" itemprop="datePublished">2020-02-12</time>
</a>

    <!-- other info (dustin) -->
    <a href="/2020/02/12/canvas-example-star/" class="article-date"> Modified:
  <time datetime="2021-03-23T19:07:47.000Z" itemprop="dateModified">2021-03-23</time>
</a>

    <span class="article-date">V1.51</span>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/canvas/">canvas</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Drawing a canvas star with javaScript
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="text">
      
        <p>Time for yet another <a href="/2020/03/23/canvas-example/">canvas example</a> this time I think I will do a quick example of <a href="https://stackoverflow.com/questions/25837158/how-to-draw-a-star-by-using-canvas-html5" target="_blank" rel="external">drawing a star using javaScript and canvas</a> just for the sake of doing something fun. One thing that comes to mind is just drawing stars, and making a few different ways of going about doing so, to gain a sense of the best ways to go about doing so. In the process I might learn more about how to go about drawing things in general when it comes to a little javaScript used with canvas elements.</p>
<p>There are many ways of drawing a star with a canvas element and a little javaScript, many solutions that I see involve making a draw method that will draw a star directly to the canvas. They are like the built in 2d context methods like that of the arc method where one just passes some arguments and a star is drawn to the canvas. Although these kinds of solutions work I think a better way of doing so is to create a method that will create an array of points, and then have a draw method that will just render that array of points to the canvas. That way the process of drawing a star is just a matter of working out logic that will create an array of points that are to be rendered in a connect the dots type fashion. By doing so I am also pulling the state of these points away from logic that is used to render the state of such points to the canvas.</p>
<p>There is also taking a moment to just have a little fun with canvas and stars for once. Canvas elements are a part of front end javaScript that are a great example of fun, and creative rather than dull and boring javaScript. With that said in this example I think I will also be touching base on a wide range of other topics that come up when create a canvas project from the ground up, such as object pools, moving an object by way of system time rather than stepping on each loop, and more. There is a lot that can be done when it comes to getting creative with this kind of thing, so this post should be a little fun for once.</p>
<a id="more"></a>
<p><div id="canvas-app"></div></p>
<script src="/js/canvas-examples/star/0.1.0/pkg.js"></script>

<h2 id="1-The-star-module"><a href="#1-The-star-module" class="headerlink" title="1 - The star module"></a>1 - The star module</h2><p>First off there is the module that I worked out that creates arrays of points that when drawn in order end up drawing stars. There is more than one method provided by this module to create these point arrays, and some internal helper methods to parse options and get a point when given a radian, and radius from a given origin.</p>
<p>One method that creates an array of points that makes up a star I called just simply create1. This method works by having not one but to radius from a center point. There is one set of points at one radius, and another set of points at another radius, and both sets of points are spaced out between each other half way. When the array of points is drawn the line will be drawn from a point at one radius to the next point at the other radius, thus forming a star like shape that way.</p>
<p>The other method that I worked out is called just create2, this method creates an array of points by way of having a single set of points at a single given radius, the order in which points are added to the array is just set by a point skip argument that defaults to 2. This method does not work so great as of this writing when it comes to stars that have an even number of points, the eventual work around would have to be something that involves create collections of points or some other kind of system to help with this. I will be keeping the current state of both methods in the module as i continue working on this no matter what though.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> starMod = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">// get a point with a given radian, radius, and origin point</span></div><div class="line">    <span class="keyword">var</span> getPoint = <span class="function"><span class="keyword">function</span> (<span class="params">radian, radius, ox, oy</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> &#123;</div><div class="line">            <span class="attr">x</span>: <span class="built_in">Math</span>.cos(radian) * radius + ox,</div><div class="line">            <span class="attr">y</span>: <span class="built_in">Math</span>.sin(radian) * radius + oy</div><div class="line">        &#125;;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// parse options</span></div><div class="line">    <span class="keyword">var</span> parseOptions = <span class="function"><span class="keyword">function</span> (<span class="params">opt</span>) </span>&#123;</div><div class="line">        opt = opt || &#123;&#125;;</div><div class="line">        opt.pointCount = opt.pointCount || <span class="number">5</span>;</div><div class="line">        opt.radius = opt.radius === <span class="literal">undefined</span> ? <span class="number">50</span> : opt.radius;</div><div class="line">        opt.radiusInner = opt.radiusInner === <span class="literal">undefined</span> ? <span class="number">25</span> : opt.radiusInner;</div><div class="line">        opt.radianAjust = opt.radianAjust === <span class="literal">undefined</span> ? <span class="number">0</span> : opt.radianAjust;</div><div class="line">        opt.ox = opt.ox || <span class="number">0</span>;</div><div class="line">        opt.oy = opt.oy || <span class="number">0</span>;</div><div class="line">        opt.pointSkip = opt.pointSkip || <span class="number">2</span>;</div><div class="line">        <span class="keyword">return</span> opt;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// public API</span></div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        <span class="comment">// create a star points array by pointCount, and inner and outer radius</span></div><div class="line">        create1: <span class="function"><span class="keyword">function</span> (<span class="params">opt</span>) </span>&#123;</div><div class="line">            opt = parseOptions(opt);</div><div class="line">            <span class="keyword">var</span> i = <span class="number">0</span>,</div><div class="line">            pt,</div><div class="line">            r,</div><div class="line">            rd = <span class="built_in">Math</span>.PI * <span class="number">2</span> / opt.pointCount,</div><div class="line">            points = [];</div><div class="line">            <span class="keyword">while</span> (i &lt; opt.pointCount) &#123;</div><div class="line">                pt = getPoint(rd * i + opt.radianAjust, opt.radius, opt.ox, opt.oy);</div><div class="line">                points.push(pt.x, pt.y);</div><div class="line">                pt = getPoint(rd * i + rd / <span class="number">2</span> + opt.radianAjust, opt.radiusInner, opt.ox, opt.oy);</div><div class="line">                points.push(pt.x, pt.y);</div><div class="line">                i += <span class="number">1</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> points;</div><div class="line">        &#125;,</div><div class="line">        <span class="comment">// create a star by point count radius and point skip</span></div><div class="line">        create2: <span class="function"><span class="keyword">function</span> (<span class="params">opt</span>) </span>&#123;</div><div class="line">            opt = parseOptions(opt);</div><div class="line">            <span class="keyword">var</span> i = <span class="number">0</span>,</div><div class="line">            pt,</div><div class="line">            r,</div><div class="line">            rd = <span class="built_in">Math</span>.PI * <span class="number">2</span> / opt.pointCount * opt.pointSkip,</div><div class="line">            points = [];</div><div class="line">            <span class="keyword">while</span> (i &lt; opt.pointCount) &#123;</div><div class="line">                pt = getPoint(rd * i + opt.radianAjust, opt.radius, opt.ox, opt.oy);</div><div class="line">                points.push(pt.x, pt.y);</div><div class="line">                i += <span class="number">1</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> points;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">    ());</div></pre></td></tr></table></figure>
<p>This is not the end of the line when it comes to using this star module or any other module like this. The idea here is to create a collection of point locations and that is it. When it comes to drawing this to the canvas that will be the responsibility of the draw module for this example. Also when it comes to creating a collection of these points that in turn will also be the responsibility of another module that I will be getting to that has to do with creating and update a pool of display objects.</p>
<h2 id="2-The-utils-module"><a href="#2-The-utils-module" class="headerlink" title="2 - The utils module"></a>2 - The utils module</h2><p>As with many other canvas examples I have a general utility module, this is where I park methods that I will likely be using across two or more modules, or might use in other canvas examples. So it is nice to have them in one place, and keep them in a pure function like state if possible where there is just the arguments and the returned result. I do not just use a single utils.js module for all canvas examples, so the state of this kind of module will change a little from one example to another depending on what I will be doing in the example.</p>
<p>In this canvas example of stars I have a distance and mathematical modulo methods that I will be using in my pool library for this example. I could get into detail about these methods here, but simply put the distance formula is just so I can get a distance between two points, and the mathematical modulo is just another way of doing what the built in javaScript modulo operator does only it works better with negative numbers.</p>
<p>Just like all my other canvas examples I also have my usual create canvas method that I am now using in all of them more or less as a way to just keep everything in line with a certain standard. Simply put any basic thing that I want to do to any canvas element I place in this simple copy and paste method that I can take with me to any other canvas example. However in some cases I might make a few project specific tweaks to the function.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> utils = &#123;&#125;;</div><div class="line"><span class="comment">// distance</span></div><div class="line">utils.distance = <span class="function"><span class="keyword">function</span> (<span class="params">x1, y1, x2, y2</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.sqrt(<span class="built_in">Math</span>.pow(x1 - x2, <span class="number">2</span>) + <span class="built_in">Math</span>.pow(y1 - y2, <span class="number">2</span>));</div><div class="line">&#125;;</div><div class="line"><span class="comment">// mathematical modulo</span></div><div class="line">utils.mod = <span class="function"><span class="keyword">function</span> (<span class="params">x, m</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (x % m + m) % m;</div><div class="line">&#125;;</div><div class="line"><span class="comment">// radian to degree helper</span></div><div class="line">utils.radianToDegree = <span class="function"><span class="keyword">function</span>(<span class="params">radian</span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.floor(radian / (<span class="built_in">Math</span>.PI * <span class="number">2</span>) * <span class="number">360</span>);</div><div class="line">&#125;;</div><div class="line"><span class="comment">// create a canvas</span></div><div class="line">utils.createCanvas = <span class="function"><span class="keyword">function</span>(<span class="params">opt</span>)</span>&#123;</div><div class="line">    opt = opt || &#123;&#125;;</div><div class="line">    opt.container = opt.container || <span class="built_in">document</span>.getElementById(<span class="string">'canvas-app'</span>) || <span class="built_in">document</span>.body;</div><div class="line">    opt.canvas = <span class="built_in">document</span>.createElement(<span class="string">'canvas'</span>);</div><div class="line">    opt.ctx = opt.canvas.getContext(<span class="string">'2d'</span>);</div><div class="line">    <span class="comment">// assign the 'canvas_example' className</span></div><div class="line">    opt.canvas.className = <span class="string">'canvas_example'</span>;</div><div class="line">    <span class="comment">// set native width</span></div><div class="line">    opt.canvas.width = opt.width === <span class="literal">undefined</span> ? <span class="number">320</span> : opt.width;</div><div class="line">    opt.canvas.height = opt.height === <span class="literal">undefined</span> ? <span class="number">240</span> : opt.height;</div><div class="line">    <span class="comment">// translate by 0.5, 0.5</span></div><div class="line">    opt.ctx.translate(<span class="number">0.5</span>, <span class="number">0.5</span>);</div><div class="line">    <span class="comment">// disable default action for onselectstart</span></div><div class="line">    opt.canvas.onselectstart = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="literal">false</span>; &#125;</div><div class="line">    opt.canvas.style.imageRendering = <span class="string">'pixelated'</span>;</div><div class="line">    opt.ctx.imageSmoothingEnabled = <span class="literal">false</span>;</div><div class="line">    <span class="comment">// append canvas to container</span></div><div class="line">    opt.container.appendChild(opt.canvas);</div><div class="line">    <span class="keyword">return</span> opt;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>As of this writing there is nothing new that I have parked in the utils method. these are all methods that I have in other canvas example modules, it is just that this is the set of methods that I am su far just using with this example only.</p>
<h2 id="3-The-pool-module"><a href="#3-The-pool-module" class="headerlink" title="3 - The pool module"></a>3 - The pool module</h2><p>Here I have an object pool module which is just a fixed collection of objects that I use over an over again. I made another module in my <a href="/2020/07/20/canvas-example-object-pool/">canvas example on object pools</a> where I get into this topic a little deeper, but for this canvas example I made my own custom cut solution for this very example, rather than something that might be a little more reusable that I worked out in that post. Which is something that I often do so when and where needed anyway with these examples as I like to keep each of them there own independent thing.</p>
<p>This module has two main public functions one to create a pool state object, and the other to update such an object by a given number of seconds. It is in the body of update method that I create a pool of points for a display object in the pool, and the create methods is where I create this pool of objects and call the update method for the first time. The update method will then be called outside of this in a main app loop function in the main javaScript file of the example that I will be getting to later.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> pool = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">// public API</span></div><div class="line">    <span class="keyword">var</span> api = &#123;&#125;;</div><div class="line">    <span class="comment">// set color</span></div><div class="line">    <span class="keyword">var</span> colors = [<span class="string">'blue'</span>, <span class="string">'red'</span>, <span class="string">'white'</span>, <span class="string">'green'</span>, <span class="string">'lime'</span>, <span class="string">'orange'</span>]</div><div class="line">    <span class="keyword">var</span> setColor = <span class="function"><span class="keyword">function</span>(<span class="params">state, obj</span>)</span>&#123;</div><div class="line">        obj.color = colors[<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * colors.length)];</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// set alpha</span></div><div class="line">    <span class="keyword">var</span> setAlpha = <span class="function"><span class="keyword">function</span>(<span class="params">state, obj</span>)</span>&#123;</div><div class="line">        obj.alpha = <span class="number">1</span> - obj.d / state.maxDist;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// set the distance between a star and the center</span></div><div class="line">    <span class="keyword">var</span> setDistance = <span class="function"><span class="keyword">function</span>(<span class="params">state, obj</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> cx = state.canvas.width / <span class="number">2</span>,</div><div class="line">        cy = state.canvas.height / <span class="number">2</span>;</div><div class="line">        obj.d = utils.distance(obj.x, obj.y, cx, cy);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// set the size of a star</span></div><div class="line">    <span class="keyword">var</span> setSize = <span class="function"><span class="keyword">function</span>(<span class="params">state, obj</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> per = <span class="number">1</span> - obj.d / state.maxDist,</div><div class="line">        maxDelta = state.starSizeMax - state.starSizeMin,</div><div class="line">        delta1 = maxDelta * <span class="number">0.25</span> + maxDelta * <span class="number">0.75</span> * per,</div><div class="line">        delta2 = maxDelta * <span class="number">0.25</span> * per;</div><div class="line">        obj.r1 = state.starSizeMin + delta1 * per;</div><div class="line">        obj.r2 = state.starSizeMin + delta2 * per;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// appy bounds</span></div><div class="line">    <span class="keyword">var</span> bounds = <span class="function"><span class="keyword">function</span>(<span class="params">state, obj</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> cx = state.canvas.width / <span class="number">2</span>,</div><div class="line">        cy = state.canvas.height / <span class="number">2</span>;</div><div class="line">        <span class="keyword">if</span>(obj.d &gt; state.maxDist)&#123;</div><div class="line">            <span class="keyword">var</span> a = <span class="built_in">Math</span>.atan(cy - obj.y, cx - obj.x);</div><div class="line">            obj.x = cx + <span class="built_in">Math</span>.cos(a) * ( state.maxDist - <span class="number">10</span> );</div><div class="line">            obj.y = cy + <span class="built_in">Math</span>.sin(a) * ( state.maxDist - <span class="number">10</span> );</div><div class="line">            setDistance(state, obj);</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// update a state object</span></div><div class="line">    api.update = <span class="function"><span class="keyword">function</span> (<span class="params">state, secs</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> i = state.pool.length,</div><div class="line">        cx = state.canvas.width / <span class="number">2</span>,</div><div class="line">        cy = state.canvas.height / <span class="number">2</span>,</div><div class="line">        obj;</div><div class="line">        <span class="keyword">while</span> (i--) &#123;</div><div class="line">            obj = state.pool[i];</div><div class="line">            <span class="comment">// move by heading and pps</span></div><div class="line">            obj.x += <span class="built_in">Math</span>.cos(obj.heading) * obj.pps * secs;</div><div class="line">            obj.y += <span class="built_in">Math</span>.sin(obj.heading) * obj.pps * secs;</div><div class="line">            setDistance(state, obj); <span class="comment">// set distance</span></div><div class="line">            bounds(state, obj);      <span class="comment">// do a bounds check</span></div><div class="line">            setAlpha(state, obj);    <span class="comment">// set the alpha value</span></div><div class="line">            setSize(state, obj);     <span class="comment">// set the size</span></div><div class="line">            obj.facing += obj.facingDelta * secs;</div><div class="line">            obj.facing = utils.mod(obj.facing, <span class="built_in">Math</span>.PI * <span class="number">2</span>);</div><div class="line">            obj.points = starMod.create1(&#123;</div><div class="line">                <span class="attr">pointCount</span>: obj.pointCount,</div><div class="line">                <span class="attr">radius</span>: obj.r1,</div><div class="line">                <span class="attr">radiusInner</span>: obj.r2,</div><div class="line">                <span class="attr">radianAjust</span>: obj.heading</div><div class="line">            &#125;);</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// create a state object</span></div><div class="line">    api.createState = <span class="function"><span class="keyword">function</span> (<span class="params">opt</span>) </span>&#123;</div><div class="line">        opt = opt || &#123;&#125;;</div><div class="line">        <span class="keyword">var</span> state = &#123;</div><div class="line">            <span class="attr">ver</span>: <span class="string">'0.1.0'</span>,</div><div class="line">            <span class="attr">debugMode</span>: <span class="literal">false</span>,</div><div class="line">            <span class="attr">count</span>: opt.count || <span class="number">5</span>,</div><div class="line">            <span class="attr">starPPSMax</span>: opt.starPPSMax || <span class="number">64</span>,</div><div class="line">            <span class="attr">starPPSMin</span>: opt.starPPSMin || <span class="number">32</span>,</div><div class="line">            <span class="attr">starSizeMax</span>: opt.starSizeMax || <span class="number">20</span>,</div><div class="line">            <span class="attr">starSizeMin</span>: opt.starSizeMin || <span class="number">10</span>,</div><div class="line">            <span class="attr">maxDist</span>: opt.maxDist || <span class="number">50</span>,</div><div class="line">            <span class="attr">canvas</span>: opt.canvas,</div><div class="line">            <span class="attr">pool</span>: []</div><div class="line">        &#125;;</div><div class="line">        <span class="keyword">var</span> i = <span class="number">0</span>, star,</div><div class="line">        len = state.count;</div><div class="line">        <span class="keyword">while</span> (i &lt; len) &#123;</div><div class="line">            star = &#123;</div><div class="line">                <span class="attr">x</span>: state.canvas.width / <span class="number">2</span>,</div><div class="line">                <span class="attr">y</span>: state.canvas.height / <span class="number">2</span>,</div><div class="line">                <span class="attr">pointCount</span>: <span class="number">5</span> + <span class="built_in">Math</span>.round(<span class="number">15</span> * <span class="built_in">Math</span>.random()),</div><div class="line">                <span class="attr">r1</span>: state.starSizeMax,</div><div class="line">                <span class="attr">r2</span>: state.starSizeMin,</div><div class="line">                <span class="attr">heading</span>: <span class="built_in">Math</span>.PI * <span class="number">2</span> * <span class="built_in">Math</span>.random(),</div><div class="line">                <span class="attr">facing</span>: <span class="number">0</span>,</div><div class="line">                <span class="attr">facingDelta</span>: <span class="number">-1</span> + <span class="number">2</span> * <span class="built_in">Math</span>.random(),</div><div class="line">                <span class="attr">pps</span>: state.starPPSMin + (state.starPPSMax - state.starPPSMin) * <span class="built_in">Math</span>.random(),</div><div class="line">                <span class="attr">alpha</span>: <span class="number">1</span>,</div><div class="line">                <span class="attr">color</span>: <span class="string">'blue'</span>,</div><div class="line">                <span class="attr">points</span>: []</div><div class="line">            &#125;;</div><div class="line">            setColor(state, star);</div><div class="line">            state.pool.push(star);</div><div class="line">            pool.update(state, <span class="number">0</span>);</div><div class="line">            i += <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> state;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// return the public api</span></div><div class="line">    <span class="keyword">return</span> api;</div><div class="line">&#125;());</div></pre></td></tr></table></figure>
<p>In this module I also have a number of helper methods that have to do with things like what to do when a display object moves out of bounds, and how should a color property be set for a display object. For example I have a helper method that will use my utils distance method to set the distance between the current position of a start to the center of the canvas. The bounds helper is then called to check to see if the star has reached max distance, if so it will use Math.atan2 to get an angle from the center and use it to set the position of the star to a location at the other side of a circle area that is defined by the max distance state property.</p>
<h2 id="4-The-draw-module"><a href="#4-The-draw-module" class="headerlink" title="4 - The draw module"></a>4 - The draw module</h2><p>I then have some draw methods that I worked out that I made as part of an additional module following just th simple object literal pattern. For now this module is to just draw a background for the example, and also of course this contains my draw points method that is used to draw an array of points to a canvas such as you guessed it an array of points that draws a star.</p>
<p>In version 0.1.0 of this example I added a draw method that does not draw to the canvas, but it does use the 2d context of a canvas element to create and return a linear gradient. This can the be used as a style such as the style of the background of the canvas. I have <a href="/2020/02/05/canvas-gradient/">wrote a post on the this 2d context method</a> or course, and I also created another <a href="/2020/03/26/canvas-example-grid-gradient/">canvas example that is another kind of gradient</a> type project. It is nice to make use of this kind of method to create a background that is at least a little more interesting than just a solid color background.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> draw = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">// draw direction helper</span></div><div class="line">    <span class="keyword">var</span> strokeDirHelper = <span class="function"><span class="keyword">function</span>(<span class="params">ctx, obj, dir, radiusBegin, radiusEnd</span>)</span>&#123;</div><div class="line">        radiusBegin = radiusBegin === <span class="literal">undefined</span> ? obj.r2 : radiusBegin;</div><div class="line">        radiusEnd = radiusEnd === <span class="literal">undefined</span> ? obj.r1 : radiusEnd;</div><div class="line">        ctx.beginPath();</div><div class="line">        ctx.moveTo(</div><div class="line">            obj.x + <span class="built_in">Math</span>.cos(dir) * radiusBegin, </div><div class="line">            obj.y + <span class="built_in">Math</span>.sin(dir) * radiusBegin);</div><div class="line">        ctx.lineTo(</div><div class="line">            obj.x + <span class="built_in">Math</span>.cos(dir) * radiusEnd,</div><div class="line">            obj.y + <span class="built_in">Math</span>.sin(dir) * radiusEnd);</div><div class="line">        ctx.stroke();</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// draw star info</span></div><div class="line">    <span class="keyword">var</span> drawStarInfo = <span class="function"><span class="keyword">function</span>(<span class="params">ctx, obj</span>)</span>&#123;</div><div class="line">        ctx.fillStyle = <span class="string">'rgba(0,0,0,0.5)'</span>;</div><div class="line">        ctx.font = <span class="string">'10px arial'</span>;</div><div class="line">        ctx.textBaseline = <span class="string">'top'</span>;</div><div class="line">        ctx.textAlign = <span class="string">'left'</span>;</div><div class="line">        ctx.fillText(<span class="string">'pos: '</span> + <span class="built_in">Math</span>.floor(obj.x) + <span class="string">', '</span> + <span class="built_in">Math</span>.floor(obj.y), obj.x + <span class="number">10</span>, obj.y + <span class="number">10</span>);</div><div class="line">        ctx.fillText(<span class="string">'pps: '</span> + <span class="built_in">Math</span>.floor(obj.pps), obj.x + <span class="number">10</span>, obj.y + <span class="number">20</span>);</div><div class="line">        ctx.fillText(<span class="string">'heading: '</span> + utils.radianToDegree(obj.heading), obj.x + <span class="number">10</span>, obj.y + <span class="number">30</span>);</div><div class="line">        ctx.fillText(<span class="string">'facing: '</span> + utils.radianToDegree(obj.facing), obj.x + <span class="number">10</span>, obj.y + <span class="number">40</span>);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// start public api</span></div><div class="line">    <span class="keyword">var</span> api = &#123;&#125;;</div><div class="line">    <span class="comment">// draw background</span></div><div class="line">    api.createBackground = <span class="function"><span class="keyword">function</span>(<span class="params">ctx, canvas</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> gradient = ctx.createLinearGradient(<span class="number">0</span>, <span class="number">0</span>, canvas.width, canvas.height);</div><div class="line">        <span class="comment">// Add color stops</span></div><div class="line">        gradient.addColorStop(<span class="number">0</span>, <span class="string">'red'</span>);</div><div class="line">        gradient.addColorStop(<span class="number">0.2</span>, <span class="string">'orange'</span>);</div><div class="line">        gradient.addColorStop(<span class="number">0.4</span>, <span class="string">'yellow'</span>);</div><div class="line">        gradient.addColorStop(<span class="number">0.6</span>, <span class="string">'blue'</span>);</div><div class="line">        gradient.addColorStop(<span class="number">0.8</span>, <span class="string">'cyan'</span>);</div><div class="line">        gradient.addColorStop(<span class="number">1</span>, <span class="string">'lime'</span>);</div><div class="line">        <span class="keyword">return</span> gradient;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// create a background</span></div><div class="line">    api.background = <span class="function"><span class="keyword">function</span> (<span class="params">ctx, canvas, style</span>) </span>&#123;</div><div class="line">        ctx.fillStyle = style || <span class="string">'black'</span>;</div><div class="line">        ctx.fillRect(<span class="number">0</span>, <span class="number">0</span>, canvas.width, canvas.height);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// draw a star</span></div><div class="line">    api.star = <span class="function"><span class="keyword">function</span>(<span class="params">ctx, obj, state</span>)</span>&#123;</div><div class="line">        ctx.fillStyle = obj.color || <span class="string">'green'</span>;</div><div class="line">        ctx.strokeStyle = <span class="string">'black'</span>;</div><div class="line">        ctx.lineWidth = <span class="number">6</span>;</div><div class="line">        ctx.globalAlpha = obj.alpha;</div><div class="line">        ctx.save();</div><div class="line">        ctx.translate(obj.x, obj.y);</div><div class="line">        ctx.rotate(obj.facing);</div><div class="line">        api.points(ctx, obj.points, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">        ctx.restore();</div><div class="line">        <span class="comment">// draw dir lines for heading and facing</span></div><div class="line">        ctx.lineWidth = <span class="number">2</span>;</div><div class="line">        ctx.strokeStyle = <span class="string">'rgba(255,255,255,0.4)'</span>;</div><div class="line">        strokeDirHelper(ctx, obj, obj.heading, obj.r1 * <span class="number">0.5</span>, obj.r1);</div><div class="line">        strokeDirHelper(ctx, obj, obj.facing, <span class="number">0</span>, obj.r1 * <span class="number">0.5</span>);</div><div class="line">        ctx.globalAlpha = <span class="number">1</span>;</div><div class="line">        <span class="keyword">if</span>(state.debugMode)&#123;</div><div class="line">            drawStarInfo(ctx, obj);</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// draw points</span></div><div class="line">    api.points = <span class="function"><span class="keyword">function</span> (<span class="params">ctx, points, cx, cy</span>) </span>&#123;</div><div class="line">        cx = cx === <span class="literal">undefined</span> ? <span class="number">0</span> : cx;</div><div class="line">        cy = cy === <span class="literal">undefined</span> ? <span class="number">0</span> : cy;</div><div class="line">        ctx.save();</div><div class="line">        ctx.translate(cx, cy);</div><div class="line">        <span class="keyword">var</span> i = <span class="number">2</span>,</div><div class="line">        len = points.length;</div><div class="line">        ctx.beginPath();</div><div class="line">        ctx.moveTo(points[<span class="number">0</span>], points[<span class="number">1</span>]);</div><div class="line">        <span class="keyword">while</span> (i &lt; len) &#123;</div><div class="line">            ctx.lineTo(points[i], points[i + <span class="number">1</span>])</div><div class="line">            i += <span class="number">2</span>;</div><div class="line">        &#125;</div><div class="line">        ctx.closePath();</div><div class="line">        ctx.stroke();</div><div class="line">        ctx.fill();</div><div class="line">        ctx.restore();</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// draw version number</span></div><div class="line">    api.ver = <span class="function"><span class="keyword">function</span>(<span class="params">ctx, state</span>)</span>&#123;</div><div class="line">        ctx.fillStyle = <span class="string">'black'</span>;</div><div class="line">        ctx.font = <span class="string">'10px arial'</span>;</div><div class="line">        ctx.textBaseline = <span class="string">'top'</span>;</div><div class="line">        ctx.textAlign = <span class="string">'left'</span>;</div><div class="line">        ctx.fillText(<span class="string">'v'</span> + state.ver, <span class="number">5</span>, state.canvas.height - <span class="number">15</span>);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// return public api</span></div><div class="line">    <span class="keyword">return</span> api;</div><div class="line">&#125;());</div></pre></td></tr></table></figure>
<p>I also have additional helpers for this draw method that have to do with drawing debug info about a star, drawing lines that show the current heading and facing directions. This is a common practice when it comes to canvas examples as i am alwys working on them and I like to have methods for drawing the current state of various state proprieties.</p>
<p>Like all of my canvas examples I also like to have a draw version number method so that I know what version is deployed here at the website. This canvas example like all my others is still very much a work in progress, and I do get around to adding features, improved features in place, and creating new versions.</p>
<h2 id="5-The-Main-js-file"><a href="#5-The-Main-js-file" class="headerlink" title="5 - The Main.js file"></a>5 - The Main.js file</h2><p>Here in the main.js file of my star canvas example I am making use of all of the modules that I have covered to make a finished canvas project of sorts that looks kind of cool. At the top of this fine I have some constants for the various options of the pool state object, these are hard coded settings for the speed and size of stars, in time I am sure that this list of constants will grow. </p>
<p>The utils create canvas element method is then what I want to use to create a canvas element with all the various properties of the canvas set up just the way that I like it. When doing so I can also set the actual display width of the canvas, but not the scaled size of the canvas, that I like to do with CSS.</p>
<p>I then use my pool module to create a new main state object with a few properties that I have set with some hard coded settings, and I pass a reference to the canvas element while I am at it. After that I have my main app loop in which I am drawing the current state of the main pool state object, and calling the update method of the pool module to update that state.</p>
<p>As of 0.1.0 I now have a single event listener attached to the canvas that for now I am using to just toggle a debug mode on and off each time the canvas is clicked. In the debug mode I am not displaying detailed into about each star, in future versions this might change to something else that displayed into about the state of the example over all, but that is something that I will be writing about more when and if i get to it.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">// CONSTANTS</span></div><div class="line">    <span class="keyword">var</span> STAR_COUNT = <span class="number">20</span>,</div><div class="line">    STAR_PPS_MIN = <span class="number">64</span>,</div><div class="line">    STAR_PPS_MAX = <span class="number">200</span>,</div><div class="line">    STAR_SIZE_MIN = <span class="number">37.5</span>,</div><div class="line">    STAR_SIZE_MAX = <span class="number">150</span>;</div><div class="line">    <span class="comment">// create canvas</span></div><div class="line">    <span class="keyword">var</span> canvasObj = utils.createCanvas(&#123;</div><div class="line">        <span class="attr">width</span>: <span class="number">640</span>,</div><div class="line">        <span class="attr">height</span>: <span class="number">480</span></div><div class="line">    &#125;),</div><div class="line">    canvas = canvasObj.canvas,</div><div class="line">    ctx = canvasObj.ctx;</div><div class="line">    <span class="comment">// main state object</span></div><div class="line">    <span class="keyword">var</span> state = pool.createState(&#123;</div><div class="line">        <span class="attr">count</span>: STAR_COUNT,</div><div class="line">        <span class="attr">starSizeMax</span>: STAR_SIZE_MAX,</div><div class="line">        <span class="attr">starSizeMin</span>: STAR_SIZE_MIN,</div><div class="line">        <span class="attr">starPPSMax</span>: STAR_PPS_MAX,</div><div class="line">        <span class="attr">starPPSMin</span>: STAR_PPS_MIN,</div><div class="line">        <span class="attr">maxDist</span>: canvas.width / <span class="number">2</span>,</div><div class="line">        <span class="attr">canvas</span>: canvas</div><div class="line">    &#125;),</div><div class="line">    lt = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">    <span class="comment">// background</span></div><div class="line">    state.background = draw.createBackground(ctx, canvas)</div><div class="line">    <span class="comment">// main app loop</span></div><div class="line">    <span class="keyword">var</span> loop = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">        t = now - lt,</div><div class="line">        secs = t / <span class="number">1000</span>;</div><div class="line">        requestAnimationFrame(loop);</div><div class="line">        draw.background(ctx, canvas, state.background);</div><div class="line">        state.pool.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">obj</span>)</span>&#123;</div><div class="line">            draw.star(ctx, obj, state);</div><div class="line">        &#125;);</div><div class="line">        draw.ver(ctx, state);</div><div class="line">        pool.update(state, secs);</div><div class="line">        lt = now;</div><div class="line">    &#125;;</div><div class="line">    loop();</div><div class="line">    <span class="comment">// click event</span></div><div class="line">    state.canvas.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">        state.debugMode = !state.debugMode;</div><div class="line">    &#125;);</div><div class="line">&#125;());</div></pre></td></tr></table></figure>
<p>When this is up and running I get a bunch of stars moving around the canvas with all kinds of different properties for the number of points a star has as well as the color, facing direction, heading direction, and so forth. There are all kinds of additional things that come to mind with this so there might be some additional updates coming at some point in the future with this one.</p>
<h2 id="6-Conclusion"><a href="#6-Conclusion" class="headerlink" title="6 - Conclusion"></a>6 - Conclusion</h2><p>So this canvas example of a star module worked out pretty well, it was a nice little exercise at making stars for use in a canvas element. There is more than one method for making them both of which have to do with Math.cos and Math.sin that are used to find out points around a given origin point. I also have come to find that making a system that will work not just with stars alone, but arrays of points in general, is the best way to go about drawing stars. There is also come up with more than one system for the same thing, I used to like one way of drawing stars, but have come to find that I now like a whole other system for doing so.</p>
<p>In this post I also touched basic on a number of other topics also, such as separating a module from a view by having the star module septate from the model that is used to draw the array of points to the canvas. With that said I hope that you picked up one or two more interesting things when it comes to canvas, and javaScriopt in general that can be applied to your own projects in the future. </p>
<p>New versions of this will be coming out sooner or later, there is more work to do on this one for sure as there is code that I am not using when it comes to the create2 method for example, I would like to do more with user input with this one also, I have some things drafted out but it might be a while until I get to it. I do have a lot of other canvas examples that also need a lot more work also after all.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dustinpfister.github.io/2020/02/12/canvas-example-star/" data-id="cl6s6cycx008ftgv11itb589i" class="article-share-link">Share</a>
      
        <a href="https://dustinpfister.github.io/2020/02/12/canvas-example-star/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/canvas/">canvas</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/02/13/canvas-example-game-breakout/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          A javaScript breakout canvas example
        
      </div>
    </a>
  
  
    <a href="/2020/02/11/js-javascript-form/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Basic javaScript form examples including simple full stack code</div>
    </a>
  
</nav>

  
</article>



<section id="comments">

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://dustinpfister.github.io/2020/02/12/canvas-example-star/index.html';
    this.page.identifier = '611';
    this.page.title = 'Drawing a canvas star with javaScript';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://dustinpfister-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular/">angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/api/">api</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/backbone/">backbone</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/discovery/">discovery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/electronjs/">electronjs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/games/">games</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/grunt/">grunt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hapi/">hapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/heroku/">heroku</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jquery/">jquery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lodash/">lodash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node-js/">node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/phaser/">phaser</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/statistics/">statistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/three-js/">three.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backbone/">backbone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/corejs/">corejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deterministic/">deterministic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discovery/">discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejs/">ejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/electronjs/">electronjs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hapi/">hapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jimp/">jimp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js13k/">js13k</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/structured-data/">structured-data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/themes/">themes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three-js/">three.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JSON/" style="font-size: 12.5px;">JSON</a> <a href="/tags/SEO/" style="font-size: 10.5px;">SEO</a> <a href="/tags/angular/" style="font-size: 13.5px;">angular</a> <a href="/tags/animation/" style="font-size: 12px;">animation</a> <a href="/tags/automation/" style="font-size: 12px;">automation</a> <a href="/tags/backbone/" style="font-size: 12.5px;">backbone</a> <a href="/tags/blog/" style="font-size: 15px;">blog</a> <a href="/tags/canvas/" style="font-size: 18.5px;">canvas</a> <a href="/tags/corejs/" style="font-size: 13px;">corejs</a> <a href="/tags/deterministic/" style="font-size: 10px;">deterministic</a> <a href="/tags/discovery/" style="font-size: 11px;">discovery</a> <a href="/tags/ejs/" style="font-size: 11.5px;">ejs</a> <a href="/tags/electronjs/" style="font-size: 13px;">electronjs</a> <a href="/tags/express/" style="font-size: 16.5px;">express</a> <a href="/tags/games/" style="font-size: 17px;">games</a> <a href="/tags/git/" style="font-size: 13px;">git</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hapi/" style="font-size: 15px;">hapi</a> <a href="/tags/heroku/" style="font-size: 12px;">heroku</a> <a href="/tags/hexo/" style="font-size: 14.5px;">hexo</a> <a href="/tags/jimp/" style="font-size: 10.5px;">jimp</a> <a href="/tags/jquery/" style="font-size: 11.5px;">jquery</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/js13k/" style="font-size: 10px;">js13k</a> <a href="/tags/linux/" style="font-size: 17.5px;">linux</a> <a href="/tags/lodash/" style="font-size: 18.5px;">lodash</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mongodb/" style="font-size: 14.5px;">mongodb</a> <a href="/tags/node-js/" style="font-size: 19.5px;">node.js</a> <a href="/tags/phaser/" style="font-size: 18px;">phaser</a> <a href="/tags/python/" style="font-size: 15.5px;">python</a> <a href="/tags/statistics/" style="font-size: 14px;">statistics</a> <a href="/tags/structured-data/" style="font-size: 10px;">structured-data</a> <a href="/tags/themes/" style="font-size: 10px;">themes</a> <a href="/tags/three-js/" style="font-size: 19px;">three.js</a> <a href="/tags/vuejs/" style="font-size: 16px;">vuejs</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/08/12/threejs-cylinder-geometry/">Cylinder Geometry threejs example</a>
          </li>
        
          <li>
            <a href="/2022/08/05/threejs-examples-camera-kit/">Camera Kit module threejs example</a>
          </li>
        
          <li>
            <a href="/2022/07/29/threejs-examples-aplerp/">An advanced Lerping module threejs example</a>
          </li>
        
          <li>
            <a href="/2022/07/22/threejs-capsule-geometry/">Capsule geometry in threejs</a>
          </li>
        
          <li>
            <a href="/2022/07/15/threejs-examples-object-grid-wrap-land/">THREEJS Looping land animation using the Object grid wrap module</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 Dustin Pfister<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      <br>
      <a href="/privacy.html" target="_blank">Privacy Policy</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/2021/02/19/threejs-examples/" class="mobile-nav-link">ThreeJS-Examples</a>
  
    <a href="/2020/03/23/canvas-example/" class="mobile-nav-link">Canvas-Examples</a>
  
    <a href="https://github.com/dustinpfister" class="mobile-nav-link">Github</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'dustinpfister-github-io';
  
  var disqus_url = 'https://dustinpfister.github.io/2020/02/12/canvas-example-star/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


  </div>
</body>
</html>