<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <!-- disqus image-->
  <meta property="og:image" content="https://dustinpfister.github.io/css/images/banner.jpg">
  
  <title>Canvas example of exploding binary particles | Dustin John Pfister at github pages</title>
  
  <!-- no index tag or blank here -->
  
  
  <link rel="canonical" href="https://dustinpfister.github.io/2020/03/18/canvas-example-particles-binary/" />

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="I like the Die Hard move franchise, and in the third movie there are several scenes that involve the use of a bomb that is composed of a binary liquid. One chemical component by itself is not dangerou">
<meta property="og:type" content="article">
<meta property="og:title" content="Canvas example of exploding binary particles">
<meta property="og:url" content="https://dustinpfister.github.io/2020/03/18/canvas-example-particles-binary/index.html">
<meta property="og:site_name" content="Dustin John Pfister at github pages">
<meta property="og:description" content="I like the Die Hard move franchise, and in the third movie there are several scenes that involve the use of a bomb that is composed of a binary liquid. One chemical component by itself is not dangerou">
<meta property="og:updated_time" content="2021-02-17T17:09:09.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Canvas example of exploding binary particles">
<meta name="twitter:description" content="I like the Die Hard move franchise, and in the third movie there are several scenes that involve the use of a bomb that is composed of a binary liquid. One chemical component by itself is not dangerou">
  
    <link rel="alternate" href="/atom.xml" title="Dustin John Pfister at github pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <!-- Google Analytics -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y8XLNG6JRW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Y8XLNG6JRW');
</script>
<!-- End Google Analytics -->


  <!-- structured data set in structured-data.ejs -->
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "email": "distin.pfister@gmail.com",
    "givenName": "Dustin",
    "familyName" : "Pfister",
    "additionalName": "John",
    "name": "Dustin John Pfister",
    "gender": "Male"
}
</script>
<!-- end structured data -->
  
  <!-- adsense if indexed -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1658284027672315",
    enable_page_level_ads: true
  });
  </script>
  
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <!-- added the image-->
        <div class="selfimage"></div>
        <!--<a href="/" id="logo">Dustin John Pfister at github pages</a>-->
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/2021/02/19/threejs-examples/">ThreeJS-Examples</a>
        
          <a class="main-nav-link" href="/2020/03/23/canvas-example/">Canvas-Examples</a>
        
          <a class="main-nav-link" href="https://github.com/dustinpfister">Github</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <!-- removed rss link-->
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dustinpfister.github.io"></form>
      </div>
    </div>
  </div>
</header>

<!-- adding my canvas thing ( Dustin ) -->
<script src="/js/the_matrix.js"></script>
      <div class="outer">
        <section id="main"><article itemscope itemtype="http://schema.org/Blog" id="post-canvas-example-particles-binary" class="article article-type-post" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/03/18/canvas-example-particles-binary/" class="article-date"> Published:
  <time datetime="2020-03-18T20:21:00.000Z" itemprop="datePublished">2020-03-18</time>
</a>

    <!-- other info (dustin) -->
    <a href="/2020/03/18/canvas-example-particles-binary/" class="article-date"> Modified:
  <time datetime="2021-02-17T17:09:09.000Z" itemprop="dateModified">2021-02-17</time>
</a>

    <span class="article-date">V1.27</span>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/canvas/">canvas</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Canvas example of exploding binary particles
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="text">
      
        <p>I like the Die Hard move franchise, and in the third movie there are several scenes that involve the use of a bomb that is composed of a <a href="https://en.wikipedia.org/wiki/Binary_liquid" target="_blank" rel="external">binary liquid</a>. One chemical component by itself is not dangerous at all, however if mixed with another, it becomes unstable and can very easily explode.</p>
<p>So the binary liquid bomb thing in Die Hard inspired me to make a <a href="/2020/03/23/canvas-example/">canvas example</a> that consists of a bunch of particles moving around the canvas. Each particle is of one type or another, they can overlap if they are the same type, but if two of two different types combine they will result in another particle type that will result in an explosion.</p>
<p>This canvas example will then be yet another example of several canvas examples now that have to do with what is often called a particle. The term particle seems to be a generic term for a single display object of a collection of such display objects that move around the canvas. There are many other terms that might come up for this kind of object though such a sprite, or display object.</p>
<a id="more"></a>
<p><div id="canvas-app"></div></p>
<script src="/js/canvas-examples/particles-binary/0.1.0/pkg.js"></script>

<h2 id="1-The-utils-module-for-this-binary-particles-canvas-example"><a href="#1-The-utils-module-for-this-binary-particles-canvas-example" class="headerlink" title="1 - The utils module for this binary particles canvas example"></a>1 - The utils module for this binary particles canvas example</h2><p>So to start off I will want a utility library for this canvas example. For this example I will just want a distance formula, and a mathematical modulo function. As of version 0.1.0 of this example I now also added my standard create canvas method that I am starting to use in all of my canvas examples as usual. The idea here is that this library is a custom cut utility library for this example alone, there might be some functions that I use across all examples, but even then I might make some example specific changes to the function.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// UTILS</span></div><div class="line"><span class="keyword">var</span> u = &#123;&#125;;</div><div class="line">u.distance = <span class="function"><span class="keyword">function</span> (<span class="params">x1, y1, x2, y2</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.sqrt(<span class="built_in">Math</span>.pow(x1 - x2, <span class="number">2</span>) + <span class="built_in">Math</span>.pow(y1 - y2, <span class="number">2</span>));</div><div class="line">&#125;;</div><div class="line"><span class="comment">// Math mod and angle methods from</span></div><div class="line"><span class="comment">// https://github.com/infusion/Angles.js/blob/master/angles.js</span></div><div class="line">u.mod = <span class="function"><span class="keyword">function</span> <span class="title">mod</span>(<span class="params">x, m</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (x % m + m) % m;</div><div class="line">&#125;;</div><div class="line"><span class="comment">// create a canvas element</span></div><div class="line">u.createCanvas = <span class="function"><span class="keyword">function</span>(<span class="params">opt</span>)</span>&#123;</div><div class="line">    opt = opt || &#123;&#125;;</div><div class="line">    opt.container = opt.container || <span class="built_in">document</span>.getElementById(<span class="string">'canvas-app'</span>) || <span class="built_in">document</span>.body;</div><div class="line">    opt.canvas = <span class="built_in">document</span>.createElement(<span class="string">'canvas'</span>);</div><div class="line">    opt.ctx = opt.canvas.getContext(<span class="string">'2d'</span>);</div><div class="line">    <span class="comment">// assign the 'canvas_example' className</span></div><div class="line">    opt.canvas.className = <span class="string">'canvas_example'</span>;</div><div class="line">    <span class="comment">// set native width</span></div><div class="line">    opt.canvas.width = opt.width === <span class="literal">undefined</span> ? <span class="number">320</span> : opt.width;</div><div class="line">    opt.canvas.height = opt.height === <span class="literal">undefined</span> ? <span class="number">240</span> : opt.height;</div><div class="line">    <span class="comment">// translate by 0.5, 0.5</span></div><div class="line">    opt.ctx.translate(<span class="number">0.5</span>, <span class="number">0.5</span>);</div><div class="line">    <span class="comment">// disable default action for onselectstart</span></div><div class="line">    opt.canvas.onselectstart = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="literal">false</span>; &#125;</div><div class="line">    <span class="comment">// append canvas to container</span></div><div class="line">    opt.container.appendChild(opt.canvas);</div><div class="line">    <span class="keyword">return</span> opt;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>The distance formula as the name suggests is for just finding the distance between two points. The modulo method is just another way to go about getting the remainder of two numbers that works a little differentially from that of the built in javaScript modulo method. I wrote a <a href="/2017/09/02/js-whats-wrong-with-modulo/">post on this mathematical modulo method</a> as it seems to be called a while back if you want to read up more on it, and why you might want to use if with certain projects.</p>
<h2 id="1-The-particles-module-for-this-canvas-example"><a href="#1-The-particles-module-for-this-canvas-example" class="headerlink" title="1 - The particles module for this canvas example"></a>1 - The particles module for this canvas example</h2><p>I will then want a particles library that I can use to create a state object, and update a state object for this binary particles canvas example. In fact that is the two public methods that this module provides, just a create an update method. However there is of course everything else going on inside of it so lets take a look.</p>
<h3 id="1-1-The-start-of-the-module-and-a-random-heading-helper"><a href="#1-1-The-start-of-the-module-and-a-random-heading-helper" class="headerlink" title="1.1 - The start of the module and a random heading helper"></a>1.1 - The start of the module and a random heading helper</h3><p>At the top of the module I start off with the beginnings of an IIFE that will return a public API of two methods at the end of the module. After the start of the IIFE I have a few properties for the pool size, and other defaults for particles that I use in the body of code to come. In addition I also have a single helper method that will return a random radian value between a min and max degree given as arguments. This method will come into play just a litter latter when I get into the Particle class.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> paricles = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line"> </div><div class="line">    <span class="keyword">var</span> DEFAULT_POOL_SIZE = <span class="number">100</span>,</div><div class="line">    PARTICLE_MIN_RADIUS = <span class="number">6</span>,</div><div class="line">    PARTICLE_MAX_RADIUS = <span class="number">64</span>,</div><div class="line">    PARTICLE_MAX_LIFE = <span class="number">3000</span>,</div><div class="line"> </div><div class="line">    PARTICLE_UPDATE_METHODS = &#123;</div><div class="line">        <span class="comment">// no nothing (go by initial values only for heading, and pps)</span></div><div class="line">        noop: <span class="function"><span class="keyword">function</span>(<span class="params">part, pool, secs</span>)</span>&#123;</div><div class="line">        &#125;,</div><div class="line">        <span class="comment">// use whatever the part.degreesPerSecond value is to change heading</span></div><div class="line">        fixed_heading_change: <span class="function"><span class="keyword">function</span>(<span class="params">part, state, secs</span>)</span>&#123;</div><div class="line">            part.degreesPerSecond = u.mod(part.degreesPerSecond + <span class="number">90</span>, <span class="number">180</span>) - <span class="number">90</span>;</div><div class="line">            part.heading += <span class="built_in">Math</span>.PI / <span class="number">180</span> * part.degreesPerSecond * secs;</div><div class="line">        &#125;,</div><div class="line">        <span class="comment">// </span></div><div class="line">        DPS_change: <span class="function"><span class="keyword">function</span>(<span class="params">part, state, secs</span>)</span>&#123;</div><div class="line">            <span class="keyword">var</span> roll = <span class="built_in">Math</span>.random();</div><div class="line">            <span class="keyword">var</span> dir = roll &lt; <span class="number">0.5</span> ? <span class="number">-1</span> : <span class="number">1</span>;</div><div class="line">            part.degreesPerSecond += <span class="number">360</span> * secs * dir;</div><div class="line">            <span class="keyword">this</span>.fixed_heading_change(part, state, secs)</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="comment">// random reading</span></div><div class="line">    <span class="keyword">var</span> randomHeading = <span class="function"><span class="keyword">function</span> (<span class="params">min, max</span>) </span>&#123;</div><div class="line">        min = min === <span class="literal">undefined</span> ? <span class="number">0</span> : min;</div><div class="line">        max = max === <span class="literal">undefined</span> ? <span class="number">359</span> : max;</div><div class="line">        <span class="keyword">var</span> degree = min + <span class="built_in">Math</span>.random() * (max - min);</div><div class="line">        <span class="keyword">return</span> <span class="built_in">Math</span>.PI / <span class="number">180</span> * degree;</div><div class="line">    &#125;;</div></pre></td></tr></table></figure>
<p>An addition that I made as of 0.1.0 was an array of PARTICLE UPDATE METHODS that I started playing around with. In future versions if and when I get to it I think this is something that I should expand on and improve. It would be nice to have an update method that will act as a way to make a particle of one type seek out and move to a particle of the other type for example.</p>
<h3 id="1-2-The-Particle-Class"><a href="#1-2-The-Particle-Class" class="headerlink" title="1.2 - The Particle Class"></a>1.2 - The Particle Class</h3><p>I have decided to work of a Class for each particle object in the pool object of the state object. There are just two prototype methods for this class that are used to activate an inactive particle, and another to set it back to that state.</p>
<p>Each Particle object has an x and y property that is the current location of the particle in the canvas matrix. There is a heading value that is of course the direction that the particle is heading in radians, as well as a pixels per second value that is the number of pixels that the particle will move in the span of a second.</p>
<p>The life, radius, and per values are used for when a particle enters a state in which it exists as a combination of both types of particles. When this is the case its position will be set to an average between the two points that have resulted in it entering this state, and it will begin to loose life, as the life value decrees the radius will increases, resulting in an explosion like effect.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Particle Class</span></div><div class="line"><span class="keyword">var</span> Particle = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.x = <span class="number">-1</span>;</div><div class="line">    <span class="keyword">this</span>.y = <span class="number">-1</span>;</div><div class="line">    <span class="keyword">this</span>.degreesPerSecond = <span class="number">-90</span> + <span class="number">180</span> * <span class="built_in">Math</span>.random();</div><div class="line">    <span class="keyword">this</span>.updateKey = <span class="string">'DPS_change'</span>; <span class="comment">// the method to use in PARTICLE_UPDATE_METHODS</span></div><div class="line">    <span class="keyword">this</span>.heading = <span class="number">0</span>;</div><div class="line">    <span class="keyword">this</span>.bits = <span class="string">'00'</span>; <span class="comment">// [0,0] inactive, [1,0] // blue, [0,1] red, [1,1] // explode</span></div><div class="line">    <span class="keyword">this</span>.pps = <span class="number">32</span>; <span class="comment">// pixels per second</span></div><div class="line">    <span class="keyword">this</span>.life = PARTICLE_MAX_LIFE; <span class="comment">// life left in milliseconds when in explode mode</span></div><div class="line">    <span class="keyword">this</span>.radius = PARTICLE_MIN_RADIUS;</div><div class="line">    <span class="keyword">this</span>.per = <span class="number">1</span>;</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// Particle prototype methods for activating an deactivating a particle</span></div><div class="line">Particle.prototype.activate = <span class="function"><span class="keyword">function</span> (<span class="params">side, canvas</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.bits = side === <span class="number">1</span> ? <span class="string">'10'</span> : <span class="string">'01'</span>;</div><div class="line">    <span class="keyword">this</span>.x = canvas.width / <span class="number">2</span>;</div><div class="line">    <span class="keyword">this</span>.y = side === <span class="number">1</span> ? <span class="number">0</span> : canvas.height - <span class="number">1</span>;</div><div class="line">    <span class="keyword">this</span>.heading = side === <span class="number">1</span> ? randomHeading(<span class="number">45</span>, <span class="number">135</span>) : randomHeading(<span class="number">225</span>, <span class="number">315</span>);</div><div class="line">    <span class="keyword">this</span>.pps = <span class="number">32</span> + <span class="number">128</span> * <span class="built_in">Math</span>.random();</div><div class="line">    <span class="keyword">this</span>.life = PARTICLE_MAX_LIFE;</div><div class="line">    <span class="keyword">this</span>.radius = PARTICLE_MIN_RADIUS;</div><div class="line">    <span class="keyword">this</span>.per = <span class="number">1</span>;</div><div class="line">&#125;;</div><div class="line">Particle.prototype.deactivate = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.bits = <span class="string">'00'</span>;</div><div class="line">    <span class="keyword">this</span>.x = <span class="number">-1</span>;</div><div class="line">    <span class="keyword">this</span>.y = <span class="number">-1</span>;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>So there are four states that a particle can be in a ‘00’ or inactive state, a ‘10’ and ‘01’ state there are the two different particle types, and then a ‘11’ or explosion state.</p>
<h3 id="1-3-The-create-particle-pool-helper"><a href="#1-3-The-create-particle-pool-helper" class="headerlink" title="1.3 - The create particle pool helper"></a>1.3 - The create particle pool helper</h3><p>There is a simple function that is just used to create the particle pool when making the state object in the public API later on in the module.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// create a particle pool</span></div><div class="line"><span class="keyword">var</span> createPool = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> len = DEFAULT_POOL_SIZE,</div><div class="line">    i = len,</div><div class="line">    pool = [];</div><div class="line">    <span class="keyword">while</span> (i--) &#123;</div><div class="line">        pool.push(<span class="keyword">new</span> Particle());</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> pool;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>There are two general ideas that come to mind when making a pool of objects like this. One is to create a fixed set of objects of a certain size, and then just have a way to set them active and inactive. The other way is to have a pool that can just be an empty array, or maxed out at a certain max size, and then have some way to spawn and purge objects to and from the pool. For this canvas example at least I have decided to go with the former rather than the latter.</p>
<h3 id="1-4-Check-if-a-particle-has-hit-another-particle-in-the-pool"><a href="#1-4-Check-if-a-particle-has-hit-another-particle-in-the-pool" class="headerlink" title="1.4 - Check if a particle has hit another particle in the pool."></a>1.4 - Check if a particle has hit another particle in the pool.</h3><p>This method is used to loop over all particles in the particle pool to see if a given particle has hit another one or not.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// check if a particle has hit another</span></div><div class="line"><span class="keyword">var</span> partHitCheck = <span class="function"><span class="keyword">function</span> (<span class="params">state, part</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> i = state.pool.length,</div><div class="line">    compare;</div><div class="line">    <span class="keyword">if</span> (part.bits === <span class="string">'11'</span> || part.bits === <span class="string">'00'</span>) &#123;</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">while</span> (i--) &#123;</div><div class="line">        compare = state.pool[i];</div><div class="line">        <span class="keyword">if</span> (part === compare || compare.bits === <span class="string">'11'</span> || compare.bits === part.bits || compare.bits === <span class="string">'00'</span>) &#123;</div><div class="line">            <span class="keyword">continue</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (u.distance(part.x, part.y, compare.x, compare.y) &lt;= <span class="number">16</span>) &#123;</div><div class="line">            part.bits = <span class="string">'11'</span>;</div><div class="line">            part.pps = <span class="number">0</span>;</div><div class="line">            part.x = (part.x + compare.x) / <span class="number">2</span>;</div><div class="line">            part.y = (part.y + compare.y) / <span class="number">2</span>;</div><div class="line">            compare.deactivate();</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="1-5-A-spawn-method-to-activate-particles-in-the-pool"><a href="#1-5-A-spawn-method-to-activate-particles-in-the-pool" class="headerlink" title="1.5 - A spawn method to activate particles in the pool"></a>1.5 - A spawn method to activate particles in the pool</h3><p>A particle has actually four kinds of states thus far, one is an inactive state so I will want a spawn method that will set an inactive particle into an active state.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// spawn or activate particles</span></div><div class="line"><span class="keyword">var</span> spawn = <span class="function"><span class="keyword">function</span> (<span class="params">state, t</span>) </span>&#123;</div><div class="line">    state.lastSpawn += t;</div><div class="line">    <span class="keyword">if</span> (state.lastSpawn &gt;= state.spawnRate) &#123;</div><div class="line">        state.lastSpawn = u.mod(state.lastSpawn, state.spawnRate);</div><div class="line">        <span class="keyword">var</span> i = state.pool.length;</div><div class="line">        <span class="keyword">while</span> (i--) &#123;</div><div class="line">            <span class="keyword">var</span> part = state.pool[i];</div><div class="line">            <span class="keyword">if</span> (part.bits === <span class="string">'00'</span>) &#123;</div><div class="line">                part.activate(state.nextSide, state.canvas);</div><div class="line">                state.nextSide = u.mod(state.nextSide + <span class="number">1</span>, <span class="number">2</span>);</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="1-6-Update-the-pool"><a href="#1-6-Update-the-pool" class="headerlink" title="1.6 - Update the pool"></a>1.6 - Update the pool</h3><p>I will want a method that will update the pool of particles that will be called in the main public update method of this module. In here I just loop over all of the instances of the Particle class and check the bits string of the instance. There is then just two general things to do depending on the value of the bits string, one is to call an particle update method and move the particle of it is a red or blue type particle. The other thing to do is expand the radius and reduce the lifespan of the particle if it is an explode type.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// update a particle pool</span></div><div class="line"><span class="keyword">var</span> updatePool = <span class="function"><span class="keyword">function</span> (<span class="params">state, t</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> secs = t / <span class="number">1000</span>,</div><div class="line">    i = state.pool.length,</div><div class="line">    part;</div><div class="line">    <span class="keyword">while</span> (i--) &#123;</div><div class="line">        part = state.pool[i];</div><div class="line">        <span class="keyword">if</span> (part.bits === <span class="string">'10'</span> || part.bits === <span class="string">'01'</span>) &#123;</div><div class="line">            <span class="keyword">if</span>(PARTICLE_UPDATE_METHODS[part.updateKey])&#123;</div><div class="line">                PARTICLE_UPDATE_METHODS[part.updateKey].call(PARTICLE_UPDATE_METHODS, part, state, secs);</div><div class="line">            &#125;</div><div class="line">            <span class="comment">// move by current heading, pps</span></div><div class="line">            part.x += <span class="built_in">Math</span>.cos(part.heading) * part.pps * secs;</div><div class="line">            part.y += <span class="built_in">Math</span>.sin(part.heading) * part.pps * secs;</div><div class="line">            <span class="comment">// apply bounds</span></div><div class="line">            part.x = u.mod(part.x, state.canvas.width);</div><div class="line">            part.y = u.mod(part.y, state.canvas.height);</div><div class="line">            <span class="comment">// check if the part hit a type it combines with</span></div><div class="line">            partHitCheck(state, part);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (part.bits === <span class="string">'11'</span>) &#123;</div><div class="line">            part.per = <span class="number">1</span> - part.life / PARTICLE_MAX_LIFE;</div><div class="line">            <span class="keyword">var</span> deltaRadius = (PARTICLE_MAX_RADIUS - PARTICLE_MIN_RADIUS) * part.per;</div><div class="line">            part.radius = PARTICLE_MIN_RADIUS + deltaRadius;</div><div class="line">            part.life -= t;</div><div class="line">            <span class="keyword">if</span> (part.life &lt; <span class="number">0</span>) &#123;</div><div class="line">                part.deactivate();</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="1-7-The-Public-API"><a href="#1-7-The-Public-API" class="headerlink" title="1.7 - The Public API"></a>1.7 - The Public API</h3><p>Here now is the pubic API that consists of my create, and update methods that I will be using outside of the module in the main.js file. The create method will not just create an instance of the Particle class, but will create a state object that contains many useful properties including but not limited to a pool of particle class instances.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">    <span class="comment">// public API</span></div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        <span class="comment">// create a state</span></div><div class="line">        create: <span class="function"><span class="keyword">function</span> (<span class="params">opt</span>) </span>&#123;</div><div class="line">            opt = opt || &#123;&#125;;</div><div class="line">            state = &#123;</div><div class="line">                <span class="attr">ver</span>: opt.ver || <span class="string">''</span>,</div><div class="line">                <span class="attr">canvas</span>: opt.canvas || <span class="literal">null</span>,</div><div class="line">                <span class="attr">ctx</span>: opt.ctx || <span class="literal">null</span>,</div><div class="line">                <span class="attr">pool</span>: createPool(),</div><div class="line">                <span class="attr">lastTime</span>: <span class="keyword">new</span> <span class="built_in">Date</span>(), <span class="comment">// last Tick</span></div><div class="line">                spawnRate: <span class="number">60</span>, <span class="comment">// num of ms per spawn event</span></div><div class="line">                lastSpawn: <span class="number">0</span>, <span class="comment">// ms sense last spawn</span></div><div class="line">                nextSide: <span class="number">0</span></div><div class="line">            &#125;;</div><div class="line">            <span class="keyword">return</span> state;</div><div class="line">        &#125;,</div><div class="line">        <span class="comment">// update state</span></div><div class="line">        update: <span class="function"><span class="keyword">function</span> (<span class="params">state</span>) </span>&#123;</div><div class="line">            <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">            t = now - state.lastTime,</div><div class="line">            secs = t / <span class="number">1000</span>;</div><div class="line">            <span class="comment">// update pool, and spawn</span></div><div class="line">            updatePool(state, t);</div><div class="line">            spawn(state, t);</div><div class="line">            <span class="comment">// update last time</span></div><div class="line">            state.lastTime = now;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"> </div><div class="line">&#125;</div><div class="line">    ());</div></pre></td></tr></table></figure>
<h2 id="3-Draw-module"><a href="#3-Draw-module" class="headerlink" title="3 - Draw module"></a>3 - Draw module</h2><p>I will want a draw module that I can use in a main javaScript file to draw the current state of  state object created with my particles module. The draw module that I worked out here has two main methods both of which act on a state object that contains references to a canvas element, and its drawing context. One method just draws the background, and the other draws the current state of the particle pool property of the state object.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> draw = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line"> </div><div class="line">    <span class="keyword">var</span> gradient;</div><div class="line"> </div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line"> </div><div class="line">        <span class="attr">setGradient</span>: <span class="function"><span class="keyword">function</span> (<span class="params">state</span>) </span>&#123;</div><div class="line">            <span class="keyword">var</span> canvas = state.canvas;</div><div class="line">            gradient = state.ctx.createLinearGradient(<span class="number">0</span>, <span class="number">0</span>, canvas.width, canvas.height);</div><div class="line">            gradient.addColorStop(<span class="number">0</span>, <span class="string">'#9f0000'</span>);</div><div class="line">            gradient.addColorStop(<span class="number">1</span>, <span class="string">'#00009f'</span>);</div><div class="line">        &#125;,</div><div class="line"> </div><div class="line">        <span class="comment">// draw background</span></div><div class="line">        background: <span class="function"><span class="keyword">function</span> (<span class="params">state</span>) </span>&#123;</div><div class="line">            <span class="keyword">var</span> ctx = state.ctx,</div><div class="line">            canvas = state.canvas;</div><div class="line">            ctx.fillStyle = gradient || <span class="string">'black'</span>;</div><div class="line">            ctx.fillRect(<span class="number">0</span>, <span class="number">0</span>, canvas.width, canvas.height);</div><div class="line">        &#125;,</div><div class="line"> </div><div class="line">        <span class="attr">pool</span>: <span class="function"><span class="keyword">function</span> (<span class="params">state</span>) </span>&#123;</div><div class="line"> </div><div class="line">            <span class="keyword">var</span> i = state.pool.length;</div><div class="line">            ctx.strokeStyle = <span class="string">'white'</span>;</div><div class="line">            <span class="keyword">while</span> (i--) &#123;</div><div class="line">                <span class="keyword">var</span> part = state.pool[i];</div><div class="line">                <span class="keyword">if</span> (part.bits != <span class="string">'00'</span>) &#123;</div><div class="line">                    <span class="keyword">var</span> color = part.bits === <span class="string">'01'</span> ? <span class="string">'blue'</span> : <span class="string">'red'</span>;</div><div class="line">                    color = part.bits === <span class="string">'11'</span> ? <span class="string">'#bf00bf'</span> : color;</div><div class="line">                    ctx.globalAlpha = <span class="number">0.8</span>;</div><div class="line">                    <span class="keyword">if</span> (part.bits === <span class="string">'11'</span>) &#123;</div><div class="line">                        ctx.globalAlpha = <span class="number">1</span> - part.per;</div><div class="line">                    &#125;</div><div class="line">                    ctx.beginPath();</div><div class="line">                    ctx.fillStyle = color;</div><div class="line">                    ctx.arc(part.x, part.y, part.radius, <span class="number">0</span>, <span class="built_in">Math</span>.PI * <span class="number">2</span>);</div><div class="line">                    ctx.fill();</div><div class="line">                    ctx.stroke();</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            ctx.globalAlpha = <span class="number">1</span>;</div><div class="line"> </div><div class="line">        &#125;,</div><div class="line"> </div><div class="line">        <span class="comment">// draw debug info</span></div><div class="line">        debug: <span class="function"><span class="keyword">function</span> (<span class="params">state</span>) </span>&#123;&#125;,</div><div class="line"> </div><div class="line">        <span class="attr">ver</span>: <span class="function"><span class="keyword">function</span>(<span class="params">state</span>)</span>&#123;</div><div class="line">            <span class="keyword">var</span> ctx = state.ctx;</div><div class="line">            ctx.fillStyle = <span class="string">'rgba(255,255,255,0.2)'</span>;</div><div class="line">            ctx.font = <span class="string">'8px arial'</span>;</div><div class="line">            ctx.textBaseline = <span class="string">'top'</span>;</div><div class="line">            ctx.textAlign = <span class="string">'left'</span>;</div><div class="line">            ctx.fillText(<span class="string">'v'</span> + state.ver, <span class="number">3</span>, state.canvas.height - <span class="number">13</span>);</div><div class="line">        &#125;</div><div class="line"> </div><div class="line">    &#125;</div><div class="line"> </div><div class="line">&#125;</div><div class="line">    ());</div></pre></td></tr></table></figure>
<p>I put in just one more method that is used to set up a gradient for the background. I went a little overboard with this one, and I just wanted something other than my usual solid black background.</p>
<h2 id="4-Main-js"><a href="#4-Main-js" class="headerlink" title="4 - Main.js"></a>4 - Main.js</h2><p>So now I have a utility module, a particles module that I can use to create and update a state, and a draw module to draw the current status of a state object. With that said it is now time to make use of it all with an index html file, and a main.js file that will tie all this together, and provide a basic app loop.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// MAIN</span></div><div class="line"><span class="keyword">var</span> canvasObj = u.createCanvas(),</div><div class="line">canvas = canvasObj.canvas,</div><div class="line">ctx = canvasObj.ctx;</div><div class="line"><span class="keyword">var</span> state = paricles.create(&#123;</div><div class="line">        <span class="attr">ver</span>: <span class="string">'0.1.0'</span>,</div><div class="line">        <span class="attr">canvas</span>: canvas,</div><div class="line">        <span class="attr">ctx</span>: ctx</div><div class="line">    &#125;);</div><div class="line">draw.setGradient(state);</div><div class="line"><span class="keyword">var</span> loop = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    requestAnimationFrame(loop);</div><div class="line">    draw.background(state);</div><div class="line">    draw.pool(state);</div><div class="line">    draw.ver(state);</div><div class="line">    paricles.update(state);</div><div class="line">&#125;;</div><div class="line">loop();</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>canvas example particles<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">body</span> <span class="attr">style</span>=<span class="string">"margin:0px;"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"canvas-app"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./lib/utils.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./lib/particles.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./lib/draw.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"main.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="5-Conclusion"><a href="#5-Conclusion" class="headerlink" title="5 - Conclusion"></a>5 - Conclusion</h2><p>This canvas example when up and running results in a bunch of particles moving around all over the canvas, when one hits another of a different type it explodes. I have to admit that looking at it is very satisfying, but there is so much more that I could add when it comes to moving forward from here. I do come around and put a little more time into an example now and then when I get to it, and there is maybe more that I could do when it comes to the movement of the particles.</p>
<p>This canvas example might not be the best example of an object pool though, I now have <a href="/2020/07/20/canvas-example-object-pool/">another example where I made an attempt at a standard object pool library</a> of sorts that I now copy and past over to new examples now and then. Where it comes to making or using a canvas library an object pool, particles class, or something to that effect should be a standard feature of such a framework. However when it comes to doing everything from the ground up I am free to design such things anyway I like, which can be nice in some ways, but also proves to be time consuming.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dustinpfister.github.io/2020/03/18/canvas-example-particles-binary/" data-id="cl5y3xem0006oj8v1ohqgmp01" class="article-share-link">Share</a>
      
        <a href="https://dustinpfister.github.io/2020/03/18/canvas-example-particles-binary/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/canvas/">canvas</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/03/19/nodejs-example-copy-dir/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Node copy directory example
        
      </div>
    </a>
  
  
    <a href="/2020/03/17/nodejs-simple-lexer/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">A simple nodejs lexer</div>
    </a>
  
</nav>

  
</article>



<section id="comments">

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://dustinpfister.github.io/2020/03/18/canvas-example-particles-binary/index.html';
    this.page.identifier = '630';
    this.page.title = 'Canvas example of exploding binary particles';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://dustinpfister-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular/">angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/api/">api</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/backbone/">backbone</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/discovery/">discovery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/electronjs/">electronjs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/games/">games</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/grunt/">grunt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hapi/">hapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/heroku/">heroku</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jquery/">jquery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lodash/">lodash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node-js/">node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/phaser/">phaser</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/statistics/">statistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/three-js/">three.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backbone/">backbone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/corejs/">corejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deterministic/">deterministic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discovery/">discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejs/">ejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/electronjs/">electronjs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hapi/">hapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jimp/">jimp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js13k/">js13k</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/structured-data/">structured-data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/themes/">themes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three-js/">three.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JSON/" style="font-size: 12.5px;">JSON</a> <a href="/tags/SEO/" style="font-size: 10.5px;">SEO</a> <a href="/tags/angular/" style="font-size: 13.5px;">angular</a> <a href="/tags/animation/" style="font-size: 12px;">animation</a> <a href="/tags/automation/" style="font-size: 12px;">automation</a> <a href="/tags/backbone/" style="font-size: 12.5px;">backbone</a> <a href="/tags/blog/" style="font-size: 15px;">blog</a> <a href="/tags/canvas/" style="font-size: 18.5px;">canvas</a> <a href="/tags/corejs/" style="font-size: 13px;">corejs</a> <a href="/tags/deterministic/" style="font-size: 10px;">deterministic</a> <a href="/tags/discovery/" style="font-size: 11px;">discovery</a> <a href="/tags/ejs/" style="font-size: 11.5px;">ejs</a> <a href="/tags/electronjs/" style="font-size: 13px;">electronjs</a> <a href="/tags/express/" style="font-size: 16.5px;">express</a> <a href="/tags/games/" style="font-size: 17px;">games</a> <a href="/tags/git/" style="font-size: 13px;">git</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hapi/" style="font-size: 15px;">hapi</a> <a href="/tags/heroku/" style="font-size: 12px;">heroku</a> <a href="/tags/hexo/" style="font-size: 14.5px;">hexo</a> <a href="/tags/jimp/" style="font-size: 10.5px;">jimp</a> <a href="/tags/jquery/" style="font-size: 11.5px;">jquery</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/js13k/" style="font-size: 10px;">js13k</a> <a href="/tags/linux/" style="font-size: 17.5px;">linux</a> <a href="/tags/lodash/" style="font-size: 18.5px;">lodash</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mongodb/" style="font-size: 14.5px;">mongodb</a> <a href="/tags/node-js/" style="font-size: 19.5px;">node.js</a> <a href="/tags/phaser/" style="font-size: 18px;">phaser</a> <a href="/tags/python/" style="font-size: 15.5px;">python</a> <a href="/tags/statistics/" style="font-size: 14px;">statistics</a> <a href="/tags/structured-data/" style="font-size: 10px;">structured-data</a> <a href="/tags/themes/" style="font-size: 10px;">themes</a> <a href="/tags/three-js/" style="font-size: 19px;">three.js</a> <a href="/tags/vuejs/" style="font-size: 16px;">vuejs</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/07/22/threejs-capsule-geometry/">Capsule geometry in threejs</a>
          </li>
        
          <li>
            <a href="/2022/07/15/threejs-examples-object-grid-wrap-land/">THREEJS Looping land animation using the Object grid wrap module</a>
          </li>
        
          <li>
            <a href="/2022/07/08/threejs-examples-weird-face-one/">Weird face one threejs example</a>
          </li>
        
          <li>
            <a href="/2022/07/01/threejs-examples-lerp-geo/">Lerping the points of a geometry from one to another</a>
          </li>
        
          <li>
            <a href="/2022/06/17/threejs-curve/">The Curve class and tube geometry in threejs</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 Dustin Pfister<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      <br>
      <a href="/privacy.html" target="_blank">Privacy Policy</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/2021/02/19/threejs-examples/" class="mobile-nav-link">ThreeJS-Examples</a>
  
    <a href="/2020/03/23/canvas-example/" class="mobile-nav-link">Canvas-Examples</a>
  
    <a href="https://github.com/dustinpfister" class="mobile-nav-link">Github</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'dustinpfister-github-io';
  
  var disqus_url = 'https://dustinpfister.github.io/2020/03/18/canvas-example-particles-binary/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


  </div>
</body>
</html>