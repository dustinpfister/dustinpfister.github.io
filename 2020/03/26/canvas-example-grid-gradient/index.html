<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <!-- disqus image-->
  <meta property="og:image" content="https://dustinpfister.github.io/css/images/banner.jpg">
  
  <title>Canvas example of a gradient grid | Dustin John Pfister at github pages</title>
  
  <!-- no index tag or blank here -->
  
  
  <link rel="canonical" href="https://dustinpfister.github.io/2020/03/26/canvas-example-grid-gradient/" />

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="When working with a canvas element there are ways to quickly paint a gradient to the canvas but todays canvas example is about making something a little more fun and interesting that is similar to tha">
<meta property="og:type" content="article">
<meta property="og:title" content="Canvas example of a gradient grid">
<meta property="og:url" content="https://dustinpfister.github.io/2020/03/26/canvas-example-grid-gradient/index.html">
<meta property="og:site_name" content="Dustin John Pfister at github pages">
<meta property="og:description" content="When working with a canvas element there are ways to quickly paint a gradient to the canvas but todays canvas example is about making something a little more fun and interesting that is similar to tha">
<meta property="og:updated_time" content="2020-08-06T13:55:01.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Canvas example of a gradient grid">
<meta name="twitter:description" content="When working with a canvas element there are ways to quickly paint a gradient to the canvas but todays canvas example is about making something a little more fun and interesting that is similar to tha">
  
    <link rel="alternate" href="/atom.xml" title="Dustin John Pfister at github pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-83195184-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  <!-- structured data set in structured-data.ejs -->
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "email": "distin.pfister@gmail.com",
    "givenName": "Dustin",
    "familyName" : "Pfister",
    "additionalName": "John",
    "name": "Dustin John Pfister",
    "gender": "Male"
}
</script>
<!-- end structured data -->
  
  <!-- adsense if indexed -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1658284027672315",
    enable_page_level_ads: true
  });
  </script>
  
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <!-- added the image-->
        <div class="selfimage"></div>
        <!--<a href="/" id="logo">Dustin John Pfister at github pages</a>-->
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/2020/03/23/canvas-example/">Canvas-Examples</a>
        
          <a class="main-nav-link" href="https://github.com/dustinpfister">Github</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <!-- removed rss link-->
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dustinpfister.github.io"></form>
      </div>
    </div>
  </div>
</header>

<!-- adding my canvas thing ( Dustin ) -->
<script src="/js/the_matrix.js"></script>
      <div class="outer">
        <section id="main"><article itemscope itemtype="http://schema.org/Blog" id="post-canvas-example-grid-gradient" class="article article-type-post" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/03/26/canvas-example-grid-gradient/" class="article-date"> Published:
  <time datetime="2020-03-26T22:46:00.000Z" itemprop="datePublished">2020-03-26</time>
</a>

    <!-- other info (dustin) -->
    <a href="/2020/03/26/canvas-example-grid-gradient/" class="article-date"> Modified:
  <time datetime="2020-08-06T13:55:01.000Z" itemprop="dateModified">2020-08-06</time>
</a>

    <span class="article-date">V1.23</span>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/canvas/">canvas</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Canvas example of a gradient grid
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="text">
      
        <p>When working with a canvas element there are ways to quickly paint a <a href="https://en.wikipedia.org/wiki/Gradient" target="_blank" rel="external">gradient</a> to the canvas but todays <a href="/2020/03/23/canvas-example/">canvas example</a> is about making something a little more fun and interesting that is similar to that a little. It involves having grid and a pool of objects that are used to set color channel values for each grid cell. So all of this constitutes a model object that is then drawn to the canvas resulting in a cool color gradient type effect that might be kind of cool. </p>
<p>If you are more interested in reading about the 2d drawing context method for drawing gradients I made a post on the <a href="/2020/02/05/canvas-gradient/">plain old canvas gradients</a> if you want to read about that. What I am writing about here is more of a full canvas project example where I am working out my own custom logic for gradient like effects using javaScript code and canvas elements.</p>
<p>I went a little overboard with this example, making a plugin system and a few plugins that have to do with the setting and updating of the behavior of these objects in the object pool that have to do with how the grid gradient changes. there are two types of pulgins one type will define initial conditions of objects, and the others define how objects will change. I have all ready made a number of plugins for this canvas project, and keep experimenting how plugins can be used to take this in all kinds of different directions.</p>
<p>Like many advanced canvas example projects I started breaking things down between code that is used to create and update a main state object, and code that makes that renders that state object to the canvas element. In addition I then have additional code that is used to tie everything together when it comes to a model and view. </p>
<p>So this should be a decent canvas example thus far all ready, and chances are I will come back to it again at least a few times more in the future.</p>
<a id="more"></a>
<p><div id="canvas-app" style="width:320px;height:240px;margin-left:auto;margin-right:auto;"></div></p>
<script>var u={};u.distance=function(x1,y1,x2,y2){return Math.sqrt(Math.pow(x1-x2,2)+Math.pow(y1-y2,2));};u.mod=function mod(x,m){return(x%m+m)%m;};var gradient=(function(){var objUpdaters={objDefaults:function(grid,obj,secs){obj.cps=1;obj.heading+=Math.PI/180*5*secs;obj.heading%=Math.PI*2;}};var initMethods={objDefaults:function(obj,grad,i){obj.x=0;obj.y=0;obj.i=i;obj.radius=5;obj.power=[1,1,1,1];obj.cps=0;obj.heading=1;obj.radiusDir=1;obj.updaterList=grad.updaters;}};var Grid=function(opt){opt=opt||{};var grad=this;grad.ver='0.0.0';grad.gridWidth=opt.gridWidth||7;grad.gridHeight=opt.gridHeight||6;grad.cellWidth=opt.cellWidth||7;grad.cellHeight=opt.cellHeight||6;grad.MIN_CPS=opt.MIN_CPS||0.25;grad.MAX_CPS=opt.MAX_CPS||1.5;grad.MIN_RADIUS=opt.MIN_RADIUS||3;grad.MAX_RADIUS=opt.MAX_RADIUS||5;grad.cells=[];grad.resetCells();grad.lt=new Date();grad.init=opt.init||['objDefaults'];grad.initMethods=initMethods;grad.updaters=opt.updaters===undefined?['objDefaults']:opt.updaters;grad.objUpdaters=objUpdaters;grad.objs=[];var i=opt.objCount||5,rand,r,g,b;while(i--){var obj={};initMethods.objDefaults(obj,grad,i);if(opt.init){if(typeof opt.init==='string'){initMethods[opt.init](obj,grad,i);}if(typeof opt.init==='object'){opt.init.forEach(function(initMethodKey){initMethods[initMethodKey](obj,grad,i);});}}grad.objs.push(obj);}grad.update();};Grid.prototype.resetCells=function(){this.cells=[];var ci=0,cellObj,cLen=this.gridWidth*this.gridHeight;while(ci<cLen){cellObj={i:ci,y:Math.floor(ci/this.gridWidth),x:ci%this.gridWidth,color:[0,0,0,0]};this.cells.push(cellObj);ci+=1;}};Grid.prototype.capCellColors=function(){this.cells.forEach(function(cell){var c=cell.color;c[0]=Math.floor(c[0]>255?255:c[0]);c[1]=Math.floor(c[1]>255?255:c[1]);c[2]=Math.floor(c[2]>255?255:c[2]);c[3]=c[3]>1?1:c[3];});};var upCellColor=function(grid,cell,obj,x,y){d=u.distance(cell.x,cell.y,x,y);if(d<=obj.radius){var per=1-d/obj.radius;var c=cell.color;c[0]+=Math.floor(255*per*obj.power[0]);c[1]+=Math.floor(255*per*obj.power[1]);c[2]+=Math.floor(255*per*obj.power[2]);c[3]+=per*obj.power[3];}};var applyUpdaterList=function(grid,obj,secs){obj.updaterList.forEach(function(updaterKey){objUpdaters[updaterKey](grid,obj,secs);});};Grid.prototype.update=function(){var grid=this,now=new Date(),t=now-grid.lt,secs=t/1000;grid.resetCells();grid.objs.forEach(function(obj){applyUpdaterList(grid,obj,secs);obj.x+=Math.cos(obj.heading)*obj.cps*secs;obj.y+=Math.sin(obj.heading)*obj.cps*secs;obj.x=u.mod(obj.x,grid.gridWidth);obj.y=u.mod(obj.y,grid.gridHeight);grid.cells.forEach(function(cell){upCellColor(grid,cell,obj,obj.x-grid.gridWidth,obj.y);upCellColor(grid,cell,obj,obj.x+grid.gridWidth,obj.y);upCellColor(grid,cell,obj,obj.x,obj.y-grid.gridHeight);upCellColor(grid,cell,obj,obj.x,obj.y+grid.gridHeight);upCellColor(grid,cell,obj,obj.x-grid.gridWidth,obj.y-grid.gridHeight);upCellColor(grid,cell,obj,obj.x+grid.gridWidth,obj.y+grid.gridHeight);upCellColor(grid,cell,obj,obj.x-grid.gridWidth,obj.y+grid.gridHeight);upCellColor(grid,cell,obj,obj.x+grid.gridWidth,obj.y-grid.gridHeight);upCellColor(grid,cell,obj,obj.x,obj.y);});});grid.capCellColors();grid.lt=now;};return{Grid:Grid,load:function(plug){for(var key in plug.initMethods){initMethods[key]=plug.initMethods[key];}for(var key in plug.objUpdaters){objUpdaters[key]=plug.objUpdaters[key];}}};}());gradient.load({initMethods:{randomPos:function(obj,grad){obj.x=grad.gridWidth*Math.random();obj.y=grad.gridHeight*Math.random();},randomColor:function(obj,grad,i){var r=Math.random(),g=Math.random(),b=Math.random(),a=Math.random();obj.power=[r,g,b,a];},randomHeading:function(obj,grad,i){var r=Math.PI*2*Math.random();obj.heading=r;},randomSpeed:function(obj,grad,i){obj.cps=grad.MIN_CPS+(Math.random()*(grad.MAX_CPS-grad.MIN_CPS));},randomRadius:function(obj,grad,i){obj.radius=grad.MIN_RADIUS+(Math.random()*(grad.MAX_RADIUS-grad.MIN_RADIUS));},random:function(obj,grad,i){grad.initMethods.randomPos(obj,grad,i);grad.initMethods.randomColor(obj,grad,i);grad.initMethods.randomHeading(obj,grad,i);grad.initMethods.randomSpeed(obj,grad,i);grad.initMethods.randomRadius(obj,grad,i);}}});gradient.load({initMethods:{rgb:function(obj,grad,i){var rand=Math.random()*0.75+0.25,r=rand,g=0,b=0;if(u.mod(i,2)===0){r=0;g=0;b=rand;}if(u.mod(i,3)===0){r=0;g=rand;b=0;}obj.power=[r,g,b,1];}}});gradient.load({objUpdaters:{radiusGrow:function(grid,obj,secs){if(obj.radius===3||obj.radius===10){var roll=Math.floor(Math.random()*50)+1;if(roll===1){obj.radiusDir=obj.radiusDir===1?-1:1;}}obj.radius+=1*secs*obj.radiusDir;obj.radius=obj.radius<3?3:obj.radius;obj.radius=obj.radius>10?10:obj.radius;obj.cps=3;}}});var draw={};draw.back=function(ctx,canvas){ctx.fillStyle='black';ctx.fillRect(0,0,canvas.width,canvas.height);};draw.cells=function(ctx,grid,xOffset,yOffset){xOffset=xOffset===undefined?0:xOffset;yOffset=yOffset===undefined?0:yOffset;var ci=0,cell,c,cLen=grid.cells.length;ctx.lineWidth=3;ctx.strokeStyle='black';while(ci<cLen){cell=grid.cells[ci];c=cell.color;ctx.fillStyle='rgba('+c[0]+','+c[1]+','+c[2]+','+c[3]+')';ctx.beginPath();ctx.rect(cell.x*grid.cellWidth+xOffset,cell.y*grid.cellHeight+yOffset,grid.cellWidth,grid.cellHeight);ctx.stroke();ctx.fill();ci+=1;}};draw.info=function(ctx,canvas,grid){ctx.fillStyle='grey';ctx.textBaseline='top';ctx.textAlign='left';ctx.font='15px courier';ctx.fillText('v'+grid.ver,10,canvas.height-20);};(function(){var container=document.getElementById('canvas-app'),canvas=document.createElement('canvas'),ctx=canvas.getContext('2d');canvas.width=320;canvas.height=240;ctx.translate(0.5,0.5);container.appendChild(canvas);var w=24,h=24;var grad=new gradient.Grid({cellWidth:canvas.width/w,cellHeight:canvas.height/h,gridWidth:w,gridHeight:h,init:['rgb','random'],updaters:['radiusGrow'],MIN_RADIUS:3,MAX_RADIUS:7,MAX_CPS:5,objCount:10});var lt=new Date(),target_fps=20;var loop=function(){var now=new Date(),t=now-lt;requestAnimationFrame(loop);if(t>1000/target_fps){grad.update();draw.back(ctx,canvas);draw.cells(ctx,grad);draw.info(ctx,canvas,grad);lt=now;}};loop();}());</script>

<h2 id="1-Starting-off-with-a-utils-module-for-the-grid-gradient-canvas-example"><a href="#1-Starting-off-with-a-utils-module-for-the-grid-gradient-canvas-example" class="headerlink" title="1 - Starting off with a utils module for the grid gradient canvas example."></a>1 - Starting off with a utils module for the grid gradient canvas example.</h2><p>With many of these canvas examples of mine I have a utils.js file that contains some functions that I will be using in one or more additional modules. For this example it is just a distance formula and a mathematical modulo method.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// UTILS</span></div><div class="line"><span class="keyword">var</span> u = &#123;&#125;;</div><div class="line">u.distance = <span class="function"><span class="keyword">function</span> (<span class="params">x1, y1, x2, y2</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.sqrt(<span class="built_in">Math</span>.pow(x1 - x2, <span class="number">2</span>) + <span class="built_in">Math</span>.pow(y1 - y2, <span class="number">2</span>));</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// Math mod and angle methods from</span></div><div class="line"><span class="comment">// https://github.com/infusion/Angles.js/blob/master/angles.js</span></div><div class="line">u.mod = <span class="function"><span class="keyword">function</span> <span class="title">mod</span>(<span class="params">x, m</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (x % m + m) % m;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>If I continue working on this it is only a matter of time until this might end up having a few more methods like this, but for now it is just these two usual suspects. Think of this module as a kind of project specific lodash, I am only going to put methods here if I am going to use them in the canvas example alone.</p>
<h2 id="2-The-gradient-js-module-and-plugins"><a href="#2-The-gradient-js-module-and-plugins" class="headerlink" title="2 - The gradient.js module, and plugins"></a>2 - The gradient.js module, and plugins</h2><p>Now that I have the base utility module of this canvas example out of the way, it is now time to get into the gradient module that is what makes this project actually somewhat interesting. The design of the gradient module that I made has two public methods one of Which is a Grid class, and the other is a load method that is used to load plug-ins that are used to define styles of behaviors for the objects. So in my main index file I load the utils module first, then this module, then some plug-ins that make use of this modules load methods, then a draw module, and then make use of the Grid constructor in a main javaScript file along with a main app loop method.</p>
<p>When working out a plug-in, the plug-in will contain two collections of one ore more methods. These methods are objUpdaters, and initMethods. The initMethods are used to set the initial values of objects when it comes to starting positions, headings, color channel values, and so forth. The objUpsters as the name suggests are used to define what is to happen for an object when it comes to updating those properties.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> gradient = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line"> </div><div class="line">    <span class="comment">// object update methods</span></div><div class="line">    <span class="keyword">var</span> objUpdaters = &#123;</div><div class="line">        <span class="attr">objDefaults</span>: <span class="function"><span class="keyword">function</span> (<span class="params">grid, obj, secs</span>) </span>&#123;</div><div class="line">            obj.cps = <span class="number">1</span>;</div><div class="line">            obj.heading += <span class="built_in">Math</span>.PI / <span class="number">180</span> * <span class="number">5</span> * secs;</div><div class="line">            obj.heading %= <span class="built_in">Math</span>.PI * <span class="number">2</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="comment">// init methods</span></div><div class="line">    <span class="keyword">var</span> initMethods = &#123;</div><div class="line">        <span class="attr">objDefaults</span>: <span class="function"><span class="keyword">function</span> (<span class="params">obj, grad, i</span>) </span>&#123;</div><div class="line">            obj.x = <span class="number">0</span>;</div><div class="line">            obj.y = <span class="number">0</span>;</div><div class="line">            obj.i = i;</div><div class="line">            obj.radius = <span class="number">5</span>;</div><div class="line">            obj.power = [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>];</div><div class="line">            obj.cps = <span class="number">0</span>;</div><div class="line">            obj.heading = <span class="number">1</span>;</div><div class="line">            obj.radiusDir = <span class="number">1</span>;</div><div class="line">            obj.updaterList = grad.updaters;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="comment">// The Grid constructor</span></div><div class="line">    <span class="keyword">var</span> Grid = <span class="function"><span class="keyword">function</span> (<span class="params">opt</span>) </span>&#123;</div><div class="line">        opt = opt || &#123;&#125;;</div><div class="line">        <span class="keyword">var</span> grad = <span class="keyword">this</span>;</div><div class="line">        grad.gridWidth = opt.gridWidth || <span class="number">7</span>;</div><div class="line">        grad.gridHeight = opt.gridHeight || <span class="number">6</span>;</div><div class="line">        grad.cellWidth = opt.cellWidth || <span class="number">7</span>;</div><div class="line">        grad.cellHeight = opt.cellHeight || <span class="number">6</span>;</div><div class="line">        grad.MIN_CPS = opt.MIN_CPS || <span class="number">0.25</span>;</div><div class="line">        grad.MAX_CPS = opt.MAX_CPS || <span class="number">1.5</span>;</div><div class="line">        grad.MIN_RADIUS = opt.MIN_RADIUS || <span class="number">3</span>;</div><div class="line">        grad.MAX_RADIUS = opt.MAX_RADIUS || <span class="number">5</span>;</div><div class="line">        grad.cells = [];</div><div class="line">        grad.resetCells();</div><div class="line">        grad.lt = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line"> </div><div class="line">        <span class="comment">// init methods</span></div><div class="line">        grad.init = opt.init || [<span class="string">'objDefaults'</span>];</div><div class="line">        grad.initMethods = initMethods;</div><div class="line"> </div><div class="line">        <span class="comment">// updaters</span></div><div class="line">        grad.updaters = opt.updaters === <span class="literal">undefined</span> ? [<span class="string">'objDefaults'</span>] : opt.updaters;</div><div class="line">        grad.objUpdaters = objUpdaters;</div><div class="line"> </div><div class="line">        <span class="comment">// setup objects</span></div><div class="line">        grad.objs = [];</div><div class="line">        <span class="keyword">var</span> i = opt.objCount || <span class="number">5</span>,</div><div class="line">        rand,</div><div class="line">        r,</div><div class="line">        g,</div><div class="line">        b;</div><div class="line">        <span class="comment">// create objects With init method(s)</span></div><div class="line">        <span class="keyword">while</span> (i--) &#123;</div><div class="line">            <span class="keyword">var</span> obj = &#123;&#125;;</div><div class="line">            <span class="comment">// ensure calling defaults at least once</span></div><div class="line">            initMethods.objDefaults(obj, grad, i);</div><div class="line">            <span class="keyword">if</span> (opt.init) &#123;</div><div class="line">                <span class="keyword">if</span> (<span class="keyword">typeof</span> opt.init === <span class="string">'string'</span>) &#123;</div><div class="line">                    initMethods[opt.init](obj, grad, i);</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span> (<span class="keyword">typeof</span> opt.init === <span class="string">'object'</span>) &#123;</div><div class="line">                    opt.init.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">initMethodKey</span>) </span>&#123;</div><div class="line">                        initMethods[initMethodKey](obj, grad, i);</div><div class="line">                    &#125;);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            grad.objs.push(obj);</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// update for the first time</span></div><div class="line">        grad.update();</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="comment">// setup reset cells</span></div><div class="line">    Grid.prototype.resetCells = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">this</span>.cells = [];</div><div class="line">        <span class="keyword">var</span> ci = <span class="number">0</span>,</div><div class="line">        cellObj,</div><div class="line">        cLen = <span class="keyword">this</span>.gridWidth * <span class="keyword">this</span>.gridHeight;</div><div class="line">        <span class="keyword">while</span> (ci &lt; cLen) &#123;</div><div class="line">            cellObj = &#123;</div><div class="line">                <span class="attr">i</span>: ci,</div><div class="line">                <span class="attr">y</span>: <span class="built_in">Math</span>.floor(ci / <span class="keyword">this</span>.gridWidth),</div><div class="line">                <span class="attr">x</span>: ci % <span class="keyword">this</span>.gridWidth,</div><div class="line">                <span class="attr">color</span>: [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]</div><div class="line">            &#125;;</div><div class="line">            <span class="keyword">this</span>.cells.push(cellObj);</div><div class="line">            ci += <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    Grid.prototype.capCellColors = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">this</span>.cells.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">cell</span>) </span>&#123;</div><div class="line">            <span class="keyword">var</span> c = cell.color;</div><div class="line">            c[<span class="number">0</span>] = <span class="built_in">Math</span>.floor(c[<span class="number">0</span>] &gt; <span class="number">255</span> ? <span class="number">255</span> : c[<span class="number">0</span>]);</div><div class="line">            c[<span class="number">1</span>] = <span class="built_in">Math</span>.floor(c[<span class="number">1</span>] &gt; <span class="number">255</span> ? <span class="number">255</span> : c[<span class="number">1</span>]);</div><div class="line">            c[<span class="number">2</span>] = <span class="built_in">Math</span>.floor(c[<span class="number">2</span>] &gt; <span class="number">255</span> ? <span class="number">255</span> : c[<span class="number">2</span>]);</div><div class="line">            c[<span class="number">3</span>] = c[<span class="number">3</span>] &gt; <span class="number">1</span> ? <span class="number">1</span> : c[<span class="number">3</span>];</div><div class="line">        &#125;);</div><div class="line">    &#125;</div><div class="line"> </div><div class="line">    <span class="keyword">var</span> upCellColor = <span class="function"><span class="keyword">function</span> (<span class="params">grid, cell, obj, x, y</span>) </span>&#123;</div><div class="line">        d = u.distance(cell.x, cell.y, x, y);</div><div class="line">        <span class="keyword">if</span> (d &lt;= obj.radius) &#123;</div><div class="line">            <span class="keyword">var</span> per = <span class="number">1</span> - d / obj.radius;</div><div class="line">            <span class="keyword">var</span> c = cell.color;</div><div class="line">            c[<span class="number">0</span>] += <span class="built_in">Math</span>.floor(<span class="number">255</span> * per * obj.power[<span class="number">0</span>]);</div><div class="line">            c[<span class="number">1</span>] += <span class="built_in">Math</span>.floor(<span class="number">255</span> * per * obj.power[<span class="number">1</span>]);</div><div class="line">            c[<span class="number">2</span>] += <span class="built_in">Math</span>.floor(<span class="number">255</span> * per * obj.power[<span class="number">2</span>]);</div><div class="line">            c[<span class="number">3</span>] += per * obj.power[<span class="number">3</span>];</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="keyword">var</span> applyUpdaterList = <span class="function"><span class="keyword">function</span> (<span class="params">grid, obj, secs</span>) </span>&#123;</div><div class="line">        obj.updaterList.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">updaterKey</span>) </span>&#123;</div><div class="line">            objUpdaters[updaterKey](grid, obj, secs);</div><div class="line">        &#125;);</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="comment">// Main Grid update method</span></div><div class="line">    Grid.prototype.update = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> grid = <span class="keyword">this</span>,</div><div class="line">        now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">        t = now - grid.lt,</div><div class="line">        secs = t / <span class="number">1000</span>;</div><div class="line">        <span class="comment">// reset</span></div><div class="line">        grid.resetCells();</div><div class="line">        <span class="comment">// increase color channel values for objects</span></div><div class="line">        grid.objs.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</div><div class="line">            <span class="comment">// apply updater list for the object</span></div><div class="line">            applyUpdaterList(grid, obj, secs);</div><div class="line">            <span class="comment">// move object</span></div><div class="line">            obj.x += <span class="built_in">Math</span>.cos(obj.heading) * obj.cps * secs;</div><div class="line">            obj.y += <span class="built_in">Math</span>.sin(obj.heading) * obj.cps * secs;</div><div class="line">            obj.x = u.mod(obj.x, grid.gridWidth);</div><div class="line">            obj.y = u.mod(obj.y, grid.gridHeight);</div><div class="line">            <span class="comment">// update cells</span></div><div class="line">            grid.cells.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">cell</span>) </span>&#123;</div><div class="line">                upCellColor(grid, cell, obj, obj.x - grid.gridWidth, obj.y);</div><div class="line">                upCellColor(grid, cell, obj, obj.x + grid.gridWidth, obj.y);</div><div class="line">                upCellColor(grid, cell, obj, obj.x, obj.y - grid.gridHeight);</div><div class="line">                upCellColor(grid, cell, obj, obj.x, obj.y + grid.gridHeight);</div><div class="line">                upCellColor(grid, cell, obj, obj.x - grid.gridWidth, obj.y - grid.gridHeight);</div><div class="line">                upCellColor(grid, cell, obj, obj.x + grid.gridWidth, obj.y + grid.gridHeight);</div><div class="line">                upCellColor(grid, cell, obj, obj.x - grid.gridWidth, obj.y + grid.gridHeight);</div><div class="line">                upCellColor(grid, cell, obj, obj.x + grid.gridWidth, obj.y - grid.gridHeight);</div><div class="line">                upCellColor(grid, cell, obj, obj.x, obj.y);</div><div class="line">            &#125;);</div><div class="line">        &#125;);</div><div class="line">        <span class="comment">// cap colors and set lt to now</span></div><div class="line">        grid.capCellColors();</div><div class="line">        grid.lt = now;</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        <span class="attr">Grid</span>: Grid,</div><div class="line">        <span class="attr">load</span>: <span class="function"><span class="keyword">function</span> (<span class="params">plug</span>) </span>&#123;</div><div class="line">            <span class="comment">// load any init methods</span></div><div class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> plug.initMethods) &#123;</div><div class="line">                initMethods[key] = plug.initMethods[key];</div><div class="line">            &#125;</div><div class="line">            <span class="comment">// load any update methods</span></div><div class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> plug.objUpdaters) &#123;</div><div class="line">                objUpdaters[key] = plug.objUpdaters[key];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">&#125;</div><div class="line">    ());</div></pre></td></tr></table></figure>
<p>The main update method of the Gird class will reset all color channel values of all the cells of the grid to [0,0,0,0], it then goes threw all the objects to change all the values in that array to other values between zero and one. The color values of the cells are then used in my draw.js file to fill each cell a certain color using <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/color_value" target="_blank" rel="external">rgba functional notation</a>.</p>
<p>However before we get to the draw module lets take a look at a few plug-in examples.</p>
<h3 id="2-1-The-init-rand-plugin"><a href="#2-1-The-init-rand-plugin" class="headerlink" title="2.1 - The init rand plugin"></a>2.1 - The init rand plugin</h3><p>The plug ins are objects that contain collections of methods that are used to figure initial properties of objects, as well collections of methods that are used to update methods. The init rand plugin that I made is a way for me to abstract away much of the starting logic for the objects that I had built in early in development of this.</p>
<p>This plug-in just has init methods that set random values for object properties including position, heading, and color. I can use just one or two of them or all of them when using the Grid constructor later on.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">gradient.load(&#123;</div><div class="line"> </div><div class="line">    <span class="attr">initMethods</span>: &#123;</div><div class="line">        <span class="attr">randomPos</span>: <span class="function"><span class="keyword">function</span> (<span class="params">obj, grad</span>) </span>&#123;</div><div class="line">            obj.x = grad.gridWidth * <span class="built_in">Math</span>.random();</div><div class="line">            obj.y = grad.gridHeight * <span class="built_in">Math</span>.random();</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">randomColor</span>: <span class="function"><span class="keyword">function</span> (<span class="params">obj, grad, i</span>) </span>&#123;</div><div class="line">            <span class="keyword">var</span> r = <span class="built_in">Math</span>.random(),</div><div class="line">            g = <span class="built_in">Math</span>.random(),</div><div class="line">            b = <span class="built_in">Math</span>.random(),</div><div class="line">            a = <span class="built_in">Math</span>.random();</div><div class="line">            obj.power = [r, g, b, a];</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">randomHeading</span>: <span class="function"><span class="keyword">function</span> (<span class="params">obj, grad, i</span>) </span>&#123;</div><div class="line">            <span class="keyword">var</span> r = <span class="built_in">Math</span>.PI * <span class="number">2</span> * <span class="built_in">Math</span>.random();</div><div class="line">            obj.heading = r;</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">randomSpeed</span>: <span class="function"><span class="keyword">function</span> (<span class="params">obj, grad, i</span>) </span>&#123;</div><div class="line">            obj.cps = grad.MIN_CPS + (<span class="built_in">Math</span>.random() * (grad.MAX_CPS - grad.MIN_CPS));</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">randomRadius</span>: <span class="function"><span class="keyword">function</span> (<span class="params">obj, grad, i</span>) </span>&#123;</div><div class="line">            obj.radius = grad.MIN_RADIUS + (<span class="built_in">Math</span>.random() * (grad.MAX_RADIUS - grad.MIN_RADIUS));</div><div class="line">        &#125;,</div><div class="line">        <span class="comment">// random</span></div><div class="line">        random: <span class="function"><span class="keyword">function</span> (<span class="params">obj, grad, i</span>) </span>&#123;</div><div class="line">            grad.initMethods.randomPos(obj, grad, i);</div><div class="line">            grad.initMethods.randomColor(obj, grad, i);</div><div class="line">            grad.initMethods.randomHeading(obj, grad, i);</div><div class="line">            grad.initMethods.randomSpeed(obj, grad, i);</div><div class="line">            grad.initMethods.randomRadius(obj, grad, i);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"> </div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="2-2-The-init-RGB-plugin"><a href="#2-2-The-init-RGB-plugin" class="headerlink" title="2.2 - The init RGB plugin"></a>2.2 - The init RGB plugin</h3><p>Here I have another plug-in with some init methods for the objects. It sets the color channel values for each object in a way in which there is an even number of objects with with red, or green, or blue channel values set to one while the others are set to zero. This way as the objects move around all other colors are possible depending on the position, size, and distance from each other as they move around. I think this kind of plug-in results in a cool effect, but I want to experiment with others, so I pulled it into a plug-in.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">gradient.load(&#123;</div><div class="line"> </div><div class="line">    <span class="attr">initMethods</span>: &#123;</div><div class="line">        <span class="attr">rgb</span>: <span class="function"><span class="keyword">function</span> (<span class="params">obj, grad, i</span>) </span>&#123;</div><div class="line">            <span class="comment">// cycle r,g,b color power</span></div><div class="line">            <span class="keyword">var</span> rand = <span class="built_in">Math</span>.random() * <span class="number">0.75</span> + <span class="number">0.25</span>,</div><div class="line">            r = rand,</div><div class="line">            g = <span class="number">0</span>,</div><div class="line">            b = <span class="number">0</span>;</div><div class="line">            <span class="keyword">if</span> (u.mod(i, <span class="number">2</span>) === <span class="number">0</span>) &#123;</div><div class="line">                r = <span class="number">0</span>;</div><div class="line">                g = <span class="number">0</span>;</div><div class="line">                b = rand;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (u.mod(i, <span class="number">3</span>) === <span class="number">0</span>) &#123;</div><div class="line">                r = <span class="number">0</span>;</div><div class="line">                g = rand;</div><div class="line">                b = <span class="number">0</span>;</div><div class="line">            &#125;</div><div class="line">            obj.power = [r, g, b, <span class="number">1</span>];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"> </div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="2-3-radius-change-heading-change-and-fixed-pos-object-update-methods"><a href="#2-3-radius-change-heading-change-and-fixed-pos-object-update-methods" class="headerlink" title="2.3 - radius_change, heading_change, and fixed_pos object update methods."></a>2.3 - radius_change, heading_change, and fixed_pos object update methods.</h3><p>I worked out some plug-ins that provide update methods that change the behavior of the objects. When doing so I made just a few quick examples just for the sake of testing out this plug-in system. I see all kinds of potential when it comes to making this kind of project even more interesting, so I know that I will want to pull at least some logic out of the main gradient.js file, and into plug-ins.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">gradient.load(&#123;</div><div class="line">    <span class="attr">objUpdaters</span>: &#123;</div><div class="line">        <span class="comment">// radius changes, slow speed</span></div><div class="line">        radiusGrow: <span class="function"><span class="keyword">function</span> (<span class="params">grid, obj, secs</span>) </span>&#123;</div><div class="line">            <span class="keyword">if</span> (obj.radius === <span class="number">3</span> || obj.radius === <span class="number">10</span>) &#123;</div><div class="line">                <span class="keyword">var</span> roll = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">50</span>) + <span class="number">1</span>;</div><div class="line">                <span class="keyword">if</span> (roll === <span class="number">1</span>) &#123;</div><div class="line">                    obj.radiusDir = obj.radiusDir === <span class="number">1</span> ? <span class="number">-1</span> : <span class="number">1</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            obj.radius += <span class="number">1</span> * secs * obj.radiusDir;</div><div class="line">            obj.radius = obj.radius &lt; <span class="number">3</span> ? <span class="number">3</span> : obj.radius;</div><div class="line">            obj.radius = obj.radius &gt; <span class="number">10</span> ? <span class="number">10</span> : obj.radius;</div><div class="line">            obj.cps = <span class="number">3</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line">gradient.load(&#123;</div><div class="line">    <span class="attr">objUpdaters</span>: &#123;</div><div class="line">        <span class="comment">// heading changes, fast speed</span></div><div class="line">        headingChange: <span class="function"><span class="keyword">function</span> (<span class="params">grid, obj, secs</span>) </span>&#123;</div><div class="line">            obj.heading += <span class="built_in">Math</span>.PI / <span class="number">180</span> * <span class="number">5</span> * secs;</div><div class="line">            obj.heading = u.mod(obj.heading, <span class="built_in">Math</span>.PI * <span class="number">2</span>);</div><div class="line">            obj.cps = <span class="number">15</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line">gradient.load(&#123;</div><div class="line">    <span class="attr">objUpdaters</span>: &#123;</div><div class="line">        <span class="comment">// fixed position</span></div><div class="line">        fixedPos: <span class="function"><span class="keyword">function</span> (<span class="params">grid, obj, secs</span>) </span>&#123;</div><div class="line">            obj.cps = <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="3-The-Draw-module-for-this-canvas-example-of-a-grid-gradient"><a href="#3-The-Draw-module-for-this-canvas-example-of-a-grid-gradient" class="headerlink" title="3 - The Draw module for this canvas example of a grid gradient"></a>3 - The Draw module for this canvas example of a grid gradient</h2><p>So now that I have my gradient.js file, and some plug-ins for it, I will want a module that will be used to draw the current state of this to the canvas.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> draw = &#123;&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// draw background</span></div><div class="line">draw.back = <span class="function"><span class="keyword">function</span> (<span class="params">ctx, canvas</span>) </span>&#123;</div><div class="line">    ctx.fillStyle = <span class="string">'black'</span>;</div><div class="line">    ctx.fillRect(<span class="number">0</span>, <span class="number">0</span>, canvas.width, canvas.height);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// draw Cells</span></div><div class="line">draw.cells = <span class="function"><span class="keyword">function</span> (<span class="params">ctx, grid, xOffset, yOffset</span>) </span>&#123;</div><div class="line">    xOffset = xOffset === <span class="literal">undefined</span> ? <span class="number">0</span> : xOffset;</div><div class="line">    yOffset = yOffset === <span class="literal">undefined</span> ? <span class="number">0</span> : yOffset;</div><div class="line">    <span class="keyword">var</span> ci = <span class="number">0</span>,</div><div class="line">    cell,</div><div class="line">    c,</div><div class="line">    cLen = grid.cells.length;</div><div class="line">    ctx.lineWidth = <span class="number">3</span>;</div><div class="line">    ctx.strokeStyle = <span class="string">'black'</span>;</div><div class="line">    <span class="keyword">while</span> (ci &lt; cLen) &#123;</div><div class="line">        cell = grid.cells[ci];</div><div class="line">        c = cell.color;</div><div class="line">        ctx.fillStyle = <span class="string">'rgba('</span> + c[<span class="number">0</span>] + <span class="string">','</span> + c[<span class="number">1</span>] + <span class="string">','</span> + c[<span class="number">2</span>] + <span class="string">','</span> + c[<span class="number">3</span>] + <span class="string">')'</span>;</div><div class="line">        ctx.beginPath();</div><div class="line">        ctx.rect(</div><div class="line">            cell.x * grid.cellWidth + xOffset,</div><div class="line">            cell.y * grid.cellHeight + yOffset,</div><div class="line">            grid.cellWidth, grid.cellHeight);</div><div class="line">        ctx.stroke();</div><div class="line">        ctx.fill();</div><div class="line">        ci += <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="4-Main"><a href="#4-Main" class="headerlink" title="4 - Main"></a>4 - Main</h2><p>So now it is time to take this all for a test drive, with a main.js file, and a little html. In my html I have a hard code canvas element, and a bunch of script tags linking to my utils.js, gradient.js, plugins, draw.js and the main.js file that is to come in this section.</p>
<p>I my main,js file I get a reference to my hard coded canvas element, set the siz eof the canvas element, and then use the Grid constructor of my gradient module. I can then use the update method of the Grid instnace to update things in a main app loop,  along with my draw methods to render the current state of that grid.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">'thecanvas'</span>),</div><div class="line">ctx = canvas.getContext(<span class="string">'2d'</span>);</div><div class="line">canvas.width = <span class="number">640</span>;</div><div class="line">canvas.height = <span class="number">480</span>;</div><div class="line">ctx.translate(<span class="number">0.5</span>, <span class="number">0.5</span>);</div><div class="line"> </div><div class="line"><span class="keyword">var</span> w = <span class="number">24</span>,</div><div class="line">h = <span class="number">16</span>;</div><div class="line"><span class="keyword">var</span> grad = <span class="keyword">new</span> gradient.Grid(&#123;</div><div class="line">        <span class="attr">cellWidth</span>: canvas.width / w,</div><div class="line">        <span class="attr">cellHeight</span>: canvas.height / h,</div><div class="line">        <span class="attr">gridWidth</span>: w,</div><div class="line">        <span class="attr">gridHeight</span>: h,</div><div class="line">        <span class="attr">init</span>: [<span class="string">'rgb'</span>, <span class="string">'random'</span>],</div><div class="line">        <span class="attr">updaters</span>: [<span class="string">'radiusGrow'</span>],</div><div class="line">        <span class="attr">MIN_RADIUS</span>: <span class="number">3</span>,</div><div class="line">        <span class="attr">MAX_RADIUS</span>: <span class="number">7</span>,</div><div class="line">        <span class="attr">MAX_CPS</span>: <span class="number">5</span>,</div><div class="line">        <span class="attr">objCount</span>: <span class="number">10</span></div><div class="line">    &#125;);</div><div class="line"> </div><div class="line"><span class="keyword">var</span> lt = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">target_fps = <span class="number">12</span>;</div><div class="line"><span class="keyword">var</span> loop = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">    t = now - lt;</div><div class="line">    requestAnimationFrame(loop);</div><div class="line">    <span class="keyword">if</span> (t &gt; <span class="number">1000</span> / target_fps) &#123;</div><div class="line">        grad.update();</div><div class="line">        draw.back(ctx, canvas);</div><div class="line">        draw.cells(ctx, grad);</div><div class="line">        lt = now;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"> </div><div class="line">loop();</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>canvas grid gradient<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"thecanvas"</span> <span class="attr">style</span>=<span class="string">"position:absolute;left:0px;top:0px;width:100%;height:100%;"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"libs/utils.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"libs/gradient.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"plugins/init_rand.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"plugins/init_rgb.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"plugins/updater_radius_change.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"plugins/updater_heading_change.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"plugins/updater_fixed_pos.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"libs/draw.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"libs/main.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="5-Conclusion"><a href="#5-Conclusion" class="headerlink" title="5 - Conclusion"></a>5 - Conclusion</h2><p>This canvas example was a lot of fun, and I like the way it looks. The project code still use some additional polish though, so I do not want to wrote to much more about it at this time. Hopefully I will get some time to work more on this canvas example, as well as the many others that I have worked out thus far.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dustinpfister.github.io/2020/03/26/canvas-example-grid-gradient/" data-id="cktj3981u00g1ngv1ht60hbnj" class="article-share-link">Share</a>
      
        <a href="https://dustinpfister.github.io/2020/03/26/canvas-example-grid-gradient/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/canvas/">canvas</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/03/27/linux-raspbian-lite-xserver-xorg/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Xserver Xorg, Raspbian lite, and the blackbox desktop environment
        
      </div>
    </a>
  
  
    <a href="/2020/03/25/linux-raspbian-lite-getting-started/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Getting started with Raspbian Linux lite for raspberry pi</div>
    </a>
  
</nav>

  
</article>



<section id="comments">

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://dustinpfister.github.io/2020/03/26/canvas-example-grid-gradient/index.html';
    this.page.identifier = '636';
    this.page.title = 'Canvas example of a gradient grid';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://dustinpfister-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular/">angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/api/">api</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/backbone/">backbone</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/discovery/">discovery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/games/">games</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/grunt/">grunt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hapi/">hapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/heroku/">heroku</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jquery/">jquery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lodash/">lodash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node-js/">node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/phaser/">phaser</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/statistics/">statistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/three-js/">three.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backbone/">backbone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/corejs/">corejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deterministic/">deterministic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discovery/">discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejs/">ejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hapi/">hapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jimp/">jimp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js13k/">js13k</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/structured-data/">structured-data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/themes/">themes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three-js/">three.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JSON/" style="font-size: 12.27px;">JSON</a> <a href="/tags/SEO/" style="font-size: 10.45px;">SEO</a> <a href="/tags/angular/" style="font-size: 13.18px;">angular</a> <a href="/tags/animation/" style="font-size: 11.82px;">animation</a> <a href="/tags/automation/" style="font-size: 11.82px;">automation</a> <a href="/tags/backbone/" style="font-size: 12.27px;">backbone</a> <a href="/tags/blog/" style="font-size: 14.55px;">blog</a> <a href="/tags/canvas/" style="font-size: 19.09px;">canvas</a> <a href="/tags/corejs/" style="font-size: 12.73px;">corejs</a> <a href="/tags/deterministic/" style="font-size: 10px;">deterministic</a> <a href="/tags/discovery/" style="font-size: 10.91px;">discovery</a> <a href="/tags/ejs/" style="font-size: 11.36px;">ejs</a> <a href="/tags/express/" style="font-size: 16.36px;">express</a> <a href="/tags/games/" style="font-size: 16.82px;">games</a> <a href="/tags/git/" style="font-size: 12.73px;">git</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hapi/" style="font-size: 15px;">hapi</a> <a href="/tags/heroku/" style="font-size: 11.82px;">heroku</a> <a href="/tags/hexo/" style="font-size: 14.09px;">hexo</a> <a href="/tags/jimp/" style="font-size: 10.45px;">jimp</a> <a href="/tags/jquery/" style="font-size: 11.36px;">jquery</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/js13k/" style="font-size: 10px;">js13k</a> <a href="/tags/linux/" style="font-size: 17.27px;">linux</a> <a href="/tags/lodash/" style="font-size: 18.18px;">lodash</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mongodb/" style="font-size: 14.09px;">mongodb</a> <a href="/tags/node-js/" style="font-size: 19.55px;">node.js</a> <a href="/tags/phaser/" style="font-size: 17.73px;">phaser</a> <a href="/tags/python/" style="font-size: 15.45px;">python</a> <a href="/tags/statistics/" style="font-size: 13.64px;">statistics</a> <a href="/tags/structured-data/" style="font-size: 10px;">structured-data</a> <a href="/tags/themes/" style="font-size: 10px;">themes</a> <a href="/tags/three-js/" style="font-size: 18.64px;">three.js</a> <a href="/tags/vuejs/" style="font-size: 15.91px;">vuejs</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/09/10/nodejs-simple-http-request-get-post-system/">A Simple nodejs example of a sever that responds to post requests</a>
          </li>
        
          <li>
            <a href="/2021/09/03/js-javascript-example-game-framework/">A game framework JavaScript example</a>
          </li>
        
          <li>
            <a href="/2021/08/27/js-javascript-example-canvas-module/">Canvas Module JavaScript example</a>
          </li>
        
          <li>
            <a href="/2021/08/20/js-javascript-example-grid-module/">JavaScript example of a grid module</a>
          </li>
        
          <li>
            <a href="/2021/08/13/js-javascript-example-idle-game-wild-plant-grid/">JavaScript While Plant Grid idle game prototype example</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 Dustin Pfister<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      <br>
      <a href="/privacy.html" target="_blank">Privacy Policy</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/2020/03/23/canvas-example/" class="mobile-nav-link">Canvas-Examples</a>
  
    <a href="https://github.com/dustinpfister" class="mobile-nav-link">Github</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'dustinpfister-github-io';
  
  var disqus_url = 'https://dustinpfister.github.io/2020/03/26/canvas-example-grid-gradient/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


  </div>
</body>
</html>