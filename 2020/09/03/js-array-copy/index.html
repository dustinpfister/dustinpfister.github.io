<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <!-- disqus image-->
  <meta property="og:image" content="https://dustinpfister.github.io/css/images/banner.jpg">
  
  <title>js array copy methods both new and old | Dustin John Pfister at github pages</title>
  
  <!-- no index tag or blank here -->
  
  
  <link rel="canonical" href="https://dustinpfister.github.io/2020/09/03/js-array-copy/" />

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="So now and then a javaScript developer might find themselves in a situation in which they will want to copy and array. If you are new to javaScript you might have just simply assigned an array from on">
<meta property="og:type" content="article">
<meta property="og:title" content="js array copy methods both new and old">
<meta property="og:url" content="https://dustinpfister.github.io/2020/09/03/js-array-copy/index.html">
<meta property="og:site_name" content="Dustin John Pfister at github pages">
<meta property="og:description" content="So now and then a javaScript developer might find themselves in a situation in which they will want to copy and array. If you are new to javaScript you might have just simply assigned an array from on">
<meta property="og:updated_time" content="2020-09-03T21:28:34.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="js array copy methods both new and old">
<meta name="twitter:description" content="So now and then a javaScript developer might find themselves in a situation in which they will want to copy and array. If you are new to javaScript you might have just simply assigned an array from on">
  
    <link rel="alternate" href="/atom.xml" title="Dustin John Pfister at github pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-83195184-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  <!-- structured data set in structured-data.ejs -->
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "email": "distin.pfister@gmail.com",
    "givenName": "Dustin",
    "familyName" : "Pfister",
    "additionalName": "John",
    "name": "Dustin John Pfister",
    "gender": "Male"
}
</script>
<!-- end structured data -->
  
  <!-- adsense if indexed -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1658284027672315",
    enable_page_level_ads: true
  });
  </script>
  
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <!-- added the image-->
        <div class="selfimage"></div>
        <!--<a href="/" id="logo">Dustin John Pfister at github pages</a>-->
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/2020/03/23/canvas-example/">Canvas-Examples</a>
        
          <a class="main-nav-link" href="https://github.com/dustinpfister">Github</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <!-- removed rss link-->
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dustinpfister.github.io"></form>
      </div>
    </div>
  </div>
</header>

<!-- adding my canvas thing ( Dustin ) -->
<script src="/js/the_matrix.js"></script>
      <div class="outer">
        <section id="main"><article itemscope itemtype="http://schema.org/Blog" id="post-js-array-copy" class="article article-type-post" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/09/03/js-array-copy/" class="article-date"> Published:
  <time datetime="2020-09-03T16:42:00.000Z" itemprop="datePublished">2020-09-03</time>
</a>

    <!-- other info (dustin) -->
    <a href="/2020/09/03/js-array-copy/" class="article-date"> Modified:
  <time datetime="2020-09-03T21:28:34.000Z" itemprop="dateModified">2020-09-03</time>
</a>

    <span class="article-date">V1.14</span>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/js/">js</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      js array copy methods both new and old
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="text">
      
        <p>So now and then a javaScript developer might find themselves in a situation in which they will want to <a href="https://www.samanthaming.com/tidbits/35-es6-way-to-clone-an-array/" target="_blank" rel="external">copy and array</a>. If you are new to javaScript you might have just simply assigned an array from one variable to another variable and assumed that that would do the tick, as that is the case with numbers and strings after all. However that will of course not work with arrays, and objects in general actually in javaScript because just simply assigning an object to another variable will just create a new reference to the same array or object.</p>
<p>So to copy an array one of several tricks for doing so will need to be used to do so that will result in a while new array being created that will contain the same values. However talking about values, if the values themselves are nested objects then they do might needed to be coped also if a full copy of the state of the array is desired. So in this post I will be taking a look at a few ways to copy an array in javaScript with both old and new ways of doing so when it comes to what there is to work with in late javaScript specs.</p>
<a id="more"></a>
<h2 id="1-js-array-copy-basics-and-shallow-copying-of-arrays"><a href="#1-js-array-copy-basics-and-shallow-copying-of-arrays" class="headerlink" title="1 - js array copy basics and shallow copying of arrays"></a>1 - js array copy basics and shallow copying of arrays</h2><p>In this section I will be touching base on the problem that many new javaScript developers might run into when trying to copy an array for the first time. In addition I will be going over a few solutions that will work okay as long as we are talking about an array of primitive values like numbers, and strings. Things can get a little involved when it comes to copying an array of nested objects, so that I will be getting to in a later section.</p>
<h3 id="1-1-The-Problem-with-using-assignment"><a href="#1-1-The-Problem-with-using-assignment" class="headerlink" title="1.1 - The Problem with using assignment"></a>1.1 - The Problem with using assignment</h3><p>When trying to copy an array for the first time many new developers might just try to assign an array value from one variable to another. The expectation might be that arrays can be copied in the same way as one might have grown accustomed to when it comes to primitive values like numbers and strings. However when trying to copy an array like this all that is happening is that the developer is creating a new reference to the same array, and not copying, or cloning if you prefer, a new array.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// and array of numbers</span></div><div class="line"><span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</div><div class="line"><span class="comment">// just assigning a to b will just create a new</span></div><div class="line"><span class="comment">// reference to the same array</span></div><div class="line">b = a;</div><div class="line"> </div><div class="line"><span class="comment">// so then a change to a will effect b</span></div><div class="line">a[<span class="number">0</span>] = <span class="string">'a'</span>;</div><div class="line"><span class="built_in">console</span>.log(b.join());</div><div class="line"><span class="comment">// a,2,3,4</span></div></pre></td></tr></table></figure>
<p>So then a salutation to this would be finding a way to preform what is often called a shallow clone, or a deep clone in the event of an array of arrays, or any amount of nested objects that would also need to be copied. For starters lets look at at some ways to create a shallow clone that will work fine when it comes to a simple array of primitive values such as in this above example.</p>
<h3 id="1-2-Just-create-a-new-array-and-add-the-elements-from-the-source-array"><a href="#1-2-Just-create-a-new-array-and-add-the-elements-from-the-source-array" class="headerlink" title="1.2 - Just create a new array and add the elements from the source array"></a>1.2 - Just create a new array and add the elements from the source array</h3><p>Just get it done any way possible and move on right? Sure thing with that said one way to go about copying an array is to just create a new array, and just loop over the contents of the source array and add each of the source array elements into the new array.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</div><div class="line"><span class="comment">// just make a new array</span></div><div class="line">b = <span class="keyword">new</span> <span class="built_in">Array</span>();</div><div class="line"><span class="comment">// and add all the elements from the source array</span></div><div class="line">a.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">n, i</span>) </span>&#123;</div><div class="line">    b[i] = n;</div><div class="line">&#125;);</div><div class="line">a[<span class="number">0</span>] = <span class="string">'a'</span>;</div><div class="line"><span class="built_in">console</span>.log(a.join());</div><div class="line"><span class="comment">// 'a,2,3,4'</span></div><div class="line"><span class="built_in">console</span>.log(b.join());</div><div class="line"><span class="comment">// '1,2,3,4'</span></div></pre></td></tr></table></figure>
<p>This crude yet effective way of copying an array will work just fine with arrays with primitive values. However mayeb it would still be a good idea to look into some additional options for marking a shallow copy of an array.</p>
<h3 id="1-3-Using-the-array-slice-method"><a href="#1-3-Using-the-array-slice-method" class="headerlink" title="1.3 - Using the array slice method"></a>1.3 - Using the array slice method</h3><p>One way to create a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice" target="_blank" rel="external">shallow clone or copy of an array would be to use the array slice method</a> which will return a new array, with elements between a starting and ending index. If I give the value of zero for the first argument to array slice, and the length of the array as the second argument that should return a new array with all the values from the original source array.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</div><div class="line">b = a.slice(<span class="number">0</span>, a.length);</div><div class="line">a[<span class="number">0</span>] = <span class="string">'a'</span>;</div><div class="line"><span class="built_in">console</span>.log(a.join());</div><div class="line"><span class="comment">// 'a,2,3,4'</span></div><div class="line"><span class="built_in">console</span>.log(b.join());</div><div class="line"><span class="comment">// '1,2,3,4'</span></div></pre></td></tr></table></figure>
<h3 id="1-4-Array-from"><a href="#1-4-Array-from" class="headerlink" title="1.4 - Array.from"></a>1.4 - Array.from</h3><p>In some cases I see people recommending the Array.from method as a way to make a copy of an array. This will work okay as yet another option for just making shallow copies of an array. That is it will work with an array of numbers, strings, booleans and so forth, but not objects including other arrays.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Array.from will work fine if making a shallow clone</span></div><div class="line"><span class="keyword">var</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],</div><div class="line">b = <span class="built_in">Array</span>.from(a);</div><div class="line"> </div><div class="line">a[<span class="number">0</span>] = <span class="string">'a'</span>;</div><div class="line"><span class="built_in">console</span>.log(a);</div><div class="line"><span class="comment">// [ 'a', 2, 3, 4 ]</span></div><div class="line"><span class="built_in">console</span>.log(b);</div><div class="line"><span class="comment">// [ 1, 2, 3, 4 ]</span></div><div class="line"> </div><div class="line"><span class="comment">// Array.from is only good for making a shallow copy</span></div><div class="line">a = [&#123;<span class="attr">x</span>:<span class="number">40</span>&#125;,&#123;<span class="attr">x</span>:<span class="number">50</span>&#125;,&#123;<span class="attr">x</span>:<span class="number">60</span>&#125;];</div><div class="line">b = <span class="built_in">Array</span>.from(a);</div><div class="line">a[<span class="number">0</span>].x = <span class="number">0</span>;</div><div class="line"><span class="built_in">console</span>.log(a);</div><div class="line"><span class="comment">// [ &#123; x: 0 &#125;, &#123; x: 50 &#125;, &#123; x: 60 &#125; ]</span></div><div class="line"><span class="built_in">console</span>.log(b);</div><div class="line"><span class="comment">// [ &#123; x: 0 &#125;, &#123; x: 50 &#125;, &#123; x: 60 &#125; ]</span></div></pre></td></tr></table></figure>
<h3 id="1-5-Object-assign"><a href="#1-5-Object-assign" class="headerlink" title="1.5 - Object.assign"></a>1.5 - Object.assign</h3><p>The Object.assign method will come up a lot in discussions, it to is anther optiosn for makig a shallow clone of an array.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Object.assign  will work fine if making a shallow clone</span></div><div class="line"><span class="keyword">let</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],</div><div class="line">b = <span class="built_in">Object</span>.assign([], a);</div><div class="line"> </div><div class="line">a[<span class="number">0</span>] = <span class="string">'a'</span>;</div><div class="line"><span class="built_in">console</span>.log(a);</div><div class="line"><span class="comment">// [ 'a', 2, 3, 4 ]</span></div><div class="line"><span class="built_in">console</span>.log(b);</div><div class="line"><span class="comment">// [ 1, 2, 3, 4 ]</span></div><div class="line"> </div><div class="line"><span class="comment">// However Object.assign will not work well for making a deep clone</span></div><div class="line">a = [&#123;<span class="attr">x</span>:<span class="number">40</span>&#125;,&#123;<span class="attr">x</span>:<span class="number">50</span>&#125;,&#123;<span class="attr">x</span>:<span class="number">60</span>&#125;];</div><div class="line">b = <span class="built_in">Object</span>.assign([], a);</div><div class="line">a[<span class="number">0</span>].x = <span class="number">0</span>;</div><div class="line"><span class="built_in">console</span>.log(a);</div><div class="line"><span class="comment">// [ &#123; x: 0 &#125;, &#123; x: 50 &#125;, &#123; x: 60 &#125; ]</span></div><div class="line"><span class="built_in">console</span>.log(b);</div><div class="line"><span class="comment">// [ &#123; x: 0 &#125;, &#123; x: 50 &#125;, &#123; x: 60 &#125; ]</span></div></pre></td></tr></table></figure>
<h3 id="1-6-The-Spread-syntax"><a href="#1-6-The-Spread-syntax" class="headerlink" title="1.6 - The Spread syntax"></a>1.6 - The Spread syntax</h3><p>A new javaScript feature in late javaScript specs is the spread operator syntax. This is yet another way to make a shallow copy of an array.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Spread syntax (...)  will work fine if making a shallow clone</span></div><div class="line"><span class="keyword">let</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],</div><div class="line">b = [...a];</div><div class="line"></div><div class="line">a[<span class="number">0</span>] = <span class="string">'a'</span>;</div><div class="line"><span class="built_in">console</span>.log(a);</div><div class="line"><span class="comment">// [ 'a', 2, 3, 4 ]</span></div><div class="line"><span class="built_in">console</span>.log(b);</div><div class="line"><span class="comment">// [ 1, 2, 3, 4 ]</span></div><div class="line"> </div><div class="line"><span class="comment">// However the Spread syntax (...)  will not work well for making a deep clone</span></div><div class="line">a = [&#123;<span class="attr">x</span>:<span class="number">40</span>&#125;,&#123;<span class="attr">x</span>:<span class="number">50</span>&#125;,&#123;<span class="attr">x</span>:<span class="number">60</span>&#125;];</div><div class="line">b = [...a];</div><div class="line">a[<span class="number">0</span>].x = <span class="number">0</span>;</div><div class="line"><span class="built_in">console</span>.log(a);</div><div class="line"><span class="comment">// [ &#123; x: 0 &#125;, &#123; x: 50 &#125;, &#123; x: 60 &#125; ]</span></div><div class="line"><span class="built_in">console</span>.log(b);</div><div class="line"><span class="comment">// [ &#123; x: 0 &#125;, &#123; x: 50 &#125;, &#123; x: 60 &#125; ]</span></div></pre></td></tr></table></figure>
<h2 id="2-Nested-Objects"><a href="#2-Nested-Objects" class="headerlink" title="2 - Nested Objects"></a>2 - Nested Objects</h2><p>Now that I have covered how to make a shallow copy of an array in javaScript lets get into some examples that involve not just copying an array, but the nested objects of the array also.</p>
<h3 id="2-1-The-problem-with-using-slice-or-any-shallow-clone-method-with-nested-objects-in-arrays"><a href="#2-1-The-problem-with-using-slice-or-any-shallow-clone-method-with-nested-objects-in-arrays" class="headerlink" title="2.1 The problem with using slice or any shallow clone method with nested objects in arrays"></a>2.1 The problem with using slice or any shallow clone method with nested objects in arrays</h3><p>THe problem with using the array slice method, or any shallow clone method with an aray of objects is that doing so will create a new array rather than just a reference to the same array, but it will not do anything with additional references that are elements of the array.</p>
<p>So if I have an array of objects rather than just a simple array of numbers, and I use something like array slice to copy the array. It will create a new array, but it will still be the same references to the same objects when it comes to the arrays contents.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = [&#123;</div><div class="line">        <span class="attr">i</span>: <span class="number">1</span></div><div class="line">    &#125;, &#123;</div><div class="line">        <span class="attr">i</span>: <span class="number">2</span></div><div class="line">    &#125;, &#123;</div><div class="line">        <span class="attr">i</span>: <span class="number">3</span></div><div class="line">    &#125;, &#123;</div><div class="line">        <span class="attr">i</span>: <span class="number">4</span></div><div class="line">    &#125;</div><div class="line">];</div><div class="line"> </div><div class="line"><span class="comment">// so using slice will create a new array</span></div><div class="line"><span class="keyword">var</span> b = a.slice(<span class="number">0</span>, a.length);</div><div class="line"> </div><div class="line"><span class="comment">// but it will not copy the nested objects</span></div><div class="line"><span class="comment">// just like before they are references to the same objects</span></div><div class="line">a[<span class="number">0</span>].i = <span class="number">42</span>;</div><div class="line"> </div><div class="line"><span class="built_in">console</span>.log(b[<span class="number">0</span>]); <span class="comment">// 42</span></div></pre></td></tr></table></figure>
<p>This is where it becomes necessary to do something that can be called deep cloning of an object or array. In these situations I often do not just want to copy the array itself, but also make copies of any and all nested objects in the array that are part of the arrays contents.</p>
<h3 id="2-2-Using-map-to-create-a-new-array-and-objects"><a href="#2-2-Using-map-to-create-a-new-array-and-objects" class="headerlink" title="2.2 - Using map to create a new array, and objects"></a>2.2 - Using map to create a new array, and objects</h3><p>If I am dealing with an array of objects, and each array is just a shallow object that does not have any additional nested objects in each element, then it would not be to hard to just use something like the array map method. I could call the map method off of the source array, and then return a new object in the body of the method that I pass to array map. Like the array slice method the array mao will return a new array rather than mutating an array in place. On top of that I can returned whole new objects when it comes to defining the produce that is return for each element in the source array.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = [&#123;</div><div class="line">        <span class="attr">i</span>: <span class="number">1</span></div><div class="line">    &#125;, &#123;</div><div class="line">        <span class="attr">i</span>: <span class="number">2</span></div><div class="line">    &#125;, &#123;</div><div class="line">        <span class="attr">i</span>: <span class="number">3</span></div><div class="line">    &#125;, &#123;</div><div class="line">        <span class="attr">i</span>: <span class="number">4</span></div><div class="line">    &#125;</div><div class="line">];</div><div class="line"> </div><div class="line"><span class="comment">// like slice array map will also return</span></div><div class="line"><span class="comment">// a new array rather than mutating the</span></div><div class="line"><span class="comment">// array it is called off of</span></div><div class="line"><span class="keyword">var</span> b = a.map(<span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</div><div class="line">        <span class="comment">// returning a new Object</span></div><div class="line">        <span class="comment">// for each element</span></div><div class="line">        <span class="keyword">return</span> &#123;</div><div class="line">            <span class="attr">i</span>: <span class="built_in">Math</span>.pow(obj.i, <span class="number">2</span>)</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line"><span class="comment">// so now we have two arrays, and with two</span></div><div class="line"><span class="comment">// independent sets of objects</span></div><div class="line"><span class="built_in">console</span>.log(a[<span class="number">3</span>].i); <span class="comment">// 4</span></div><div class="line"><span class="built_in">console</span>.log(b[<span class="number">3</span>].i); <span class="comment">// 16</span></div></pre></td></tr></table></figure>
<p>The result is not just a new array, but new objects for each element also, not just references.</p>
<h3 id="2-3-Using-JSON-to-Deep-clone"><a href="#2-3-Using-JSON-to-Deep-clone" class="headerlink" title="2.3 - Using JSON to Deep clone"></a>2.3 - Using JSON to Deep clone</h3><p>Another crude yet effective deep clone trick is to use JSON.stringify to convert a whole object such as an array as well as all nested objects into a JSON string. Then I can just use the JSON.parse method to parse that string back into a workable object. In most cases this will work when dealing with plain old objects like this, and it will even work as a deep clone method for many levels of nested objects also.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = [&#123;</div><div class="line">        <span class="attr">pos</span>: &#123;</div><div class="line">            <span class="attr">x</span>: <span class="number">0</span>,</div><div class="line">            <span class="attr">y</span>: <span class="number">0</span></div><div class="line">        &#125;,</div><div class="line">        <span class="attr">hp</span>: &#123;</div><div class="line">            <span class="attr">current</span>: <span class="number">10</span>,</div><div class="line">            <span class="attr">max</span>: <span class="number">100</span></div><div class="line">        &#125;</div><div class="line">    &#125;, &#123;</div><div class="line">        <span class="attr">pos</span>: &#123;</div><div class="line">            <span class="attr">x</span>: <span class="number">45</span>,</div><div class="line">            <span class="attr">y</span>: <span class="number">7</span></div><div class="line">        &#125;,</div><div class="line">        <span class="attr">hp</span>: &#123;</div><div class="line">            <span class="attr">current</span>: <span class="number">100</span>,</div><div class="line">            <span class="attr">max</span>: <span class="number">100</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">];</div><div class="line"> </div><div class="line">b = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(a));</div><div class="line">b[<span class="number">1</span>].pos.y = <span class="number">80</span>;</div><div class="line">b[<span class="number">1</span>].hp.current = <span class="number">0</span>;</div><div class="line">b[<span class="number">1</span>].hp.max = <span class="number">50</span>;</div><div class="line">b[<span class="number">1</span>].hp.hpps = <span class="number">10</span>;</div><div class="line"> </div><div class="line"><span class="built_in">console</span>.log(a[<span class="number">1</span>]);</div><div class="line"><span class="comment">/*</span></div><div class="line">&#123;</div><div class="line">    pos: &#123;</div><div class="line">        x: 45,</div><div class="line">        y: 7</div><div class="line">    &#125;,</div><div class="line">    hp: &#123;</div><div class="line">        current: 100,</div><div class="line">        max: 100</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">*/</div><div class="line"><span class="built_in">console</span>.log(b[<span class="number">1</span>]);</div><div class="line"><span class="comment">/*</span></div><div class="line">&#123;</div><div class="line">    pos: &#123;</div><div class="line">        x: 45,</div><div class="line">        y: 80</div><div class="line">    &#125;,</div><div class="line">    hp: &#123;</div><div class="line">        current: 0,</div><div class="line">        max: 50,</div><div class="line">        hpps: 10</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">*/</div></pre></td></tr></table></figure>
<h2 id="3-Conclusion"><a href="#3-Conclusion" class="headerlink" title="3 - Conclusion"></a>3 - Conclusion</h2><p>So this was just a quick post on how to go about copying an array in javaScript. However because arrays are a kind of object some of these methods can be used to copy, or clone objects in general. I have wrote posts a while back on the <a href="/2017/10/02/lodash_clone">lodash clone</a> and <a href="/2017/11/13/lodash_clonedeep/">lodash clone deep</a> methods, as well as cloning in general that might be worth checkout otu when it comes to reading more about cloning arrays and objects in general for that matter.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dustinpfister.github.io/2020/09/03/js-array-copy/" data-id="ckinkr10200s8oov16nahq5s2" class="article-share-link">Share</a>
      
        <a href="https://dustinpfister.github.io/2020/09/03/js-array-copy/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/09/04/canvas-example-kill-box/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Kill Box Canvas Example
        
      </div>
    </a>
  
  
    <a href="/2020/09/02/lodash_union/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">The lodash _.untion method and Sets</div>
    </a>
  
</nav>

  
</article>



<section id="comments">

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://dustinpfister.github.io/2020/09/03/js-array-copy/index.html';
    this.page.identifier = '700';
    this.page.title = 'js array copy methods both new and old';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://dustinpfister-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular/">angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/api/">api</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/backbone/">backbone</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/discovery/">discovery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/games/">games</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/grunt/">grunt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hapi/">hapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/heroku/">heroku</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jquery/">jquery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lodash/">lodash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node-js/">node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/phaser/">phaser</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/statistics/">statistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/three-js/">three.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backbone/">backbone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/corejs/">corejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deterministic/">deterministic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discovery/">discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejs/">ejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hapi/">hapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jimp/">jimp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js13k/">js13k</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/structured-data/">structured-data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/themes/">themes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three-js/">three.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JSON/" style="font-size: 12.63px;">JSON</a> <a href="/tags/SEO/" style="font-size: 10.53px;">SEO</a> <a href="/tags/angular/" style="font-size: 13.68px;">angular</a> <a href="/tags/animation/" style="font-size: 12.11px;">animation</a> <a href="/tags/automation/" style="font-size: 12.11px;">automation</a> <a href="/tags/backbone/" style="font-size: 12.63px;">backbone</a> <a href="/tags/blog/" style="font-size: 14.74px;">blog</a> <a href="/tags/canvas/" style="font-size: 18.95px;">canvas</a> <a href="/tags/corejs/" style="font-size: 13.16px;">corejs</a> <a href="/tags/deterministic/" style="font-size: 10px;">deterministic</a> <a href="/tags/discovery/" style="font-size: 11.05px;">discovery</a> <a href="/tags/ejs/" style="font-size: 11.58px;">ejs</a> <a href="/tags/express/" style="font-size: 16.84px;">express</a> <a href="/tags/games/" style="font-size: 17.37px;">games</a> <a href="/tags/git/" style="font-size: 13.16px;">git</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hapi/" style="font-size: 15.26px;">hapi</a> <a href="/tags/heroku/" style="font-size: 13.68px;">heroku</a> <a href="/tags/hexo/" style="font-size: 14.21px;">hexo</a> <a href="/tags/jimp/" style="font-size: 10.53px;">jimp</a> <a href="/tags/jquery/" style="font-size: 11.58px;">jquery</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/js13k/" style="font-size: 10px;">js13k</a> <a href="/tags/linux/" style="font-size: 16.32px;">linux</a> <a href="/tags/lodash/" style="font-size: 18.42px;">lodash</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mongodb/" style="font-size: 14.21px;">mongodb</a> <a href="/tags/node-js/" style="font-size: 19.47px;">node.js</a> <a href="/tags/phaser/" style="font-size: 17.89px;">phaser</a> <a href="/tags/statistics/" style="font-size: 12.63px;">statistics</a> <a href="/tags/structured-data/" style="font-size: 10px;">structured-data</a> <a href="/tags/themes/" style="font-size: 10px;">themes</a> <a href="/tags/three-js/" style="font-size: 16.32px;">three.js</a> <a href="/tags/vuejs/" style="font-size: 15.79px;">vuejs</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/12/11/canvas-example-hyper-casual-space-shooter/">Hyper Casual Space Shooter canvas example</a>
          </li>
        
          <li>
            <a href="/2020/12/10/linux-bash-script-parameters-positional/">Positional Parameters in Linux Bash scripts</a>
          </li>
        
          <li>
            <a href="/2020/12/09/linux-bash-script-parameters-named/">Named parameters in Linux Bash scripts</a>
          </li>
        
          <li>
            <a href="/2020/12/08/linux-bash-script-parameters-special/">Special parameters in Linux Bash scripts</a>
          </li>
        
          <li>
            <a href="/2020/12/07/linux-bash-script-arrays/">Arrays in Linux Bash scripts</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Dustin Pfister<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      <br>
      <a href="/privacy.html" target="_blank">Privacy Policy</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/2020/03/23/canvas-example/" class="mobile-nav-link">Canvas-Examples</a>
  
    <a href="https://github.com/dustinpfister" class="mobile-nav-link">Github</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'dustinpfister-github-io';
  
  var disqus_url = 'https://dustinpfister.github.io/2020/09/03/js-array-copy/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


  </div>
</body>
</html>