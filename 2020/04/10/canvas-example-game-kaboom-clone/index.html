<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <!-- disqus image-->
  <meta property="og:image" content="https://dustinpfister.github.io/css/images/banner.jpg">
  
  <title>Kaboom game clone for the Atari 2600 canvas example | Dustin John Pfister at github pages</title>
  
  <!-- no index tag or blank here -->
  
  
  <link rel="canonical" href="https://dustinpfister.github.io/2020/04/10/canvas-example-game-kaboom-clone/" />

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Time for yet another one of my canvas example posts, this time I thought I would make a canvas example that is a clone of the classic video game called kaboom that was ported to systems like the Atari">
<meta property="og:type" content="article">
<meta property="og:title" content="Kaboom game clone for the Atari 2600 canvas example">
<meta property="og:url" content="https://dustinpfister.github.io/2020/04/10/canvas-example-game-kaboom-clone/index.html">
<meta property="og:site_name" content="Dustin John Pfister at github pages">
<meta property="og:description" content="Time for yet another one of my canvas example posts, this time I thought I would make a canvas example that is a clone of the classic video game called kaboom that was ported to systems like the Atari">
<meta property="og:updated_time" content="2020-07-23T18:53:58.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Kaboom game clone for the Atari 2600 canvas example">
<meta name="twitter:description" content="Time for yet another one of my canvas example posts, this time I thought I would make a canvas example that is a clone of the classic video game called kaboom that was ported to systems like the Atari">
  
    <link rel="alternate" href="/atom.xml" title="Dustin John Pfister at github pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-83195184-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  <!-- structured data set in structured-data.ejs -->
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "email": "distin.pfister@gmail.com",
    "givenName": "Dustin",
    "familyName" : "Pfister",
    "additionalName": "John",
    "name": "Dustin John Pfister",
    "gender": "Male"
}
</script>
<!-- end structured data -->
  
  <!-- adsense if indexed -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1658284027672315",
    enable_page_level_ads: true
  });
  </script>
  
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <!-- added the image-->
        <div class="selfimage"></div>
        <!--<a href="/" id="logo">Dustin John Pfister at github pages</a>-->
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/2020/03/23/canvas-example/">Canvas-Examples</a>
        
          <a class="main-nav-link" href="https://github.com/dustinpfister">Github</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <!-- removed rss link-->
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dustinpfister.github.io"></form>
      </div>
    </div>
  </div>
</header>

<!-- adding my canvas thing ( Dustin ) -->
<script src="/js/the_matrix.js"></script>
      <div class="outer">
        <section id="main"><article itemscope itemtype="http://schema.org/Blog" id="post-canvas-example-game-kaboom-clone" class="article article-type-post" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/04/10/canvas-example-game-kaboom-clone/" class="article-date"> Published:
  <time datetime="2020-04-10T23:49:00.000Z" itemprop="datePublished">2020-04-10</time>
</a>

    <!-- other info (dustin) -->
    <a href="/2020/04/10/canvas-example-game-kaboom-clone/" class="article-date"> Modified:
  <time datetime="2020-07-23T18:53:58.000Z" itemprop="dateModified">2020-07-23</time>
</a>

    <span class="article-date">V1.23</span>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/canvas/">canvas</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Kaboom game clone for the Atari 2600 canvas example
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="text">
      
        <p>Time for yet another one of my <a href="/2020/03/23/canvas-example/">canvas example</a> posts, this time I thought I would make a canvas example that is a clone of the <a href="https://en.wikipedia.org/wiki/Kaboom!_%28video_game%29" target="_blank" rel="external">classic video game called kaboom</a> that was ported to systems like the Atari 2600. This is a game that involves a character at the top of the screen called the mad bomber that moves back and forth across the the screen dropping bombs, The object is to catch these bombs rather than avoid them actually with a player controlled bucket that moves from one side to another. If one od the bombs is missed then all the bombs on the screen blow up, and you loose a bucket. You keep playing until you loose all you buckets and like many of these classic games the object is all about just getting a hight score.</p>
<p>The nice thing about cloning some of these other games is that doing so if often fairly simple in a modern javaScript environment. In addition even with very simple games such as this there is much room for originality, nit just when it comes t skinning the game, but the logic also. For example there is working out how many levels there should be until the player hits the max level, how many points a bomb is worth, and many other little details such as the rate aw which bombs are dropped. So it can be fun, and interesting to clone a game like this, and play around with all the little details.</p>
<a id="more"></a>
<h2 id="1-The-utils-library-for-this-kaboom-clone-canvas-example"><a href="#1-The-utils-library-for-this-kaboom-clone-canvas-example" class="headerlink" title="1 - The utils library for this kaboom clone canvas example"></a>1 - The utils library for this kaboom clone canvas example</h2><p>I often start off many of my canvas example posts with a custom utility module that is used for this canvas example alone. Some times I might have reusable methods that are for this project alone as it grows, but often it is just a collection of usual suspects. </p>
<p>When it comes to this kaboom clone I know that I am going to want bounding box collision detection, the distance formula, and my usual method that helps me get a canvas relative pointer position. So the module is just composed of those methods for now.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> utils = &#123;&#125;</div><div class="line"><span class="comment">// bounding box</span></div><div class="line">utils.bb = <span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> !(</div><div class="line">        (a.y + a.h) &lt; b.y ||</div><div class="line">        a.y &gt; (b.y + b.h) ||</div><div class="line">        (a.x + a.w) &lt; b.x ||</div><div class="line">        a.x &gt; (b.x + b.w));</div><div class="line">&#125;;</div><div class="line"> </div><div class="line">utils.distance = <span class="function"><span class="keyword">function</span> (<span class="params">x1, y1, x2, y2</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.sqrt(<span class="built_in">Math</span>.pow(x1 - x2, <span class="number">2</span>) + <span class="built_in">Math</span>.pow(y1 - y2, <span class="number">2</span>));</div><div class="line">&#125;;</div><div class="line"> </div><div class="line">utils.getCanvasRelative = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> canvas = e.target,</div><div class="line">    bx = canvas.getBoundingClientRect();</div><div class="line">    <span class="keyword">var</span> x = (e.changedTouches ? e.changedTouches[<span class="number">0</span>].clientX : e.clientX) - bx.left,</div><div class="line">    y = (e.changedTouches ? e.changedTouches[<span class="number">0</span>].clientY : e.clientY) - bx.top;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        <span class="attr">x</span>: x,</div><div class="line">        <span class="attr">y</span>: y,</div><div class="line">        <span class="attr">w</span>: <span class="number">1</span>,</div><div class="line">        <span class="attr">h</span>: <span class="number">1</span>,</div><div class="line">        <span class="attr">bx</span>: bx</div><div class="line">    &#125;;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>Any kind of method that I might use across two or more modules should be parked here.</p>
<h2 id="2-The-kaboom-module"><a href="#2-The-kaboom-module" class="headerlink" title="2 - The kaboom module"></a>2 - The kaboom module</h2><p>Now that I have the utils module that I want it is time to get into the kaboom module. This module will be used to store the state of all kinds of values that have to do with the game logic. It is packed with all kinds of private helper methods and objects, but only provides a few public methods and properties that are used by additional modules outside of it when it comes to my draw module, and the main.js file that I will be getting to later in this post.</p>
<h3 id="2-1-The-beginning-of-the-kaboom-js-module-and-some-objects-for-the-BOMBER-and-PLAYER"><a href="#2-1-The-beginning-of-the-kaboom-js-module-and-some-objects-for-the-BOMBER-and-PLAYER" class="headerlink" title="2.1 - The beginning of the kaboom.js module and some objects for the BOMBER and PLAYER"></a>2.1 - The beginning of the kaboom.js module and some objects for the BOMBER and PLAYER</h3><p>I start out the module with the start of an IIFE that will then be closed at the bottom of the module. If you are not familiar with this kind of module pattern yet now might be the time to look into it deeper.</p>
<p>At the very top I have some Objects that I am using for certain fixed properties for the bomber and player objects as well as some button objects.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> kaboom = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line"> </div><div class="line">    <span class="keyword">var</span> BOMBER = &#123;</div><div class="line">        <span class="attr">y</span>: <span class="number">100</span>,</div><div class="line">        <span class="attr">w</span>: <span class="number">32</span></div><div class="line">    &#125;,</div><div class="line">    PLAYER = &#123;</div><div class="line">        <span class="attr">y</span>: <span class="number">350</span>,</div><div class="line">        <span class="attr">w</span>: <span class="number">64</span>,</div><div class="line">        <span class="attr">h</span>: <span class="number">64</span></div><div class="line">    &#125;,</div><div class="line">    BUTTON_PAUSE = &#123;</div><div class="line">        <span class="attr">x</span>: <span class="number">16</span>,</div><div class="line">        <span class="attr">y</span>: <span class="number">432</span>,</div><div class="line">        <span class="attr">w</span>: <span class="number">128</span>,</div><div class="line">        <span class="attr">h</span>: <span class="number">32</span></div><div class="line">    &#125;,</div><div class="line">    BUTTON_NEW_GAME = &#123;</div><div class="line">        <span class="attr">x</span>: <span class="number">320</span> - <span class="number">64</span>,</div><div class="line">        <span class="attr">y</span>: <span class="number">240</span> - <span class="number">16</span>,</div><div class="line">        <span class="attr">w</span>: <span class="number">128</span>,</div><div class="line">        <span class="attr">h</span>: <span class="number">32</span></div><div class="line">    &#125;;</div></pre></td></tr></table></figure>
<h3 id="2-2-The-LEVELS-Object"><a href="#2-2-The-LEVELS-Object" class="headerlink" title="2.2 - The LEVELS Object"></a>2.2 - The LEVELS Object</h3><p>Here I have some javaScript code that will generate an Object of Objects for each level in the game. This is one area where I find myself tweaking values all the time. Each level Object contains properties such as the Pixels per second speed of the bomber and the bombs that are dropped by the bomber.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> LEVELS = &#123;&#125;;</div><div class="line"><span class="keyword">var</span> i = <span class="number">1</span>,</div><div class="line">totalLevels = <span class="number">10</span>,</div><div class="line">per;</div><div class="line"><span class="keyword">while</span> (i &lt;= totalLevels) &#123;</div><div class="line">    per = (i - <span class="number">1</span>) / (totalLevels - <span class="number">1</span>);</div><div class="line">    LEVELS[i] = &#123;</div><div class="line">        <span class="attr">bombPPS</span>: <span class="number">64</span> + <span class="number">236</span> * per,</div><div class="line">        <span class="attr">bombCount</span>: <span class="number">10</span> + <span class="number">90</span> * per,</div><div class="line">        <span class="attr">bomber</span>: &#123;</div><div class="line">            <span class="attr">pps</span>: <span class="number">32</span> + <span class="number">850</span> * per,</div><div class="line">            <span class="attr">changeRate</span>: <span class="number">0.5</span> - <span class="number">0.3</span> * per,</div><div class="line">            <span class="attr">dropRate</span>: <span class="number">1</span> / (<span class="built_in">Math</span>.floor(<span class="number">5</span> * per) + <span class="number">1</span>)</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    i += <span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="2-3-Clamp-an-Object"><a href="#2-3-Clamp-an-Object" class="headerlink" title="2.3 - Clamp an Object"></a>2.3 - Clamp an Object</h3><p>This is a little helper method that I have made that helps to clamp and object such as the bomber object to the limits of the range of movement. In this kind of game the bomber object and the player object are fixed to a single axis so i only need to clamp them to that axis.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// clamp boundaries for the given objState and objConstant</span></div><div class="line"><span class="comment">// (state.bomber, BOMBER and state.player, PLAYER)</span></div><div class="line"><span class="keyword">var</span> clampBoundaries = <span class="function"><span class="keyword">function</span> (<span class="params">objState, objConst</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (objState.x &gt; <span class="number">640</span> - objConst.w) &#123;</div><div class="line">        objState.x = <span class="number">640</span> - objConst.w;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (objState.x &lt; <span class="number">0</span>) &#123;</div><div class="line">        objState.x = <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="2-4-Movement-methods"><a href="#2-4-Movement-methods" class="headerlink" title="2.4 - Movement methods"></a>2.4 - Movement methods</h3><p>When it comes to display objects or sprites if you prefer for kaboom there us the bomber, the player, and then the bombs. Each of these display objects have there own movement helpers because of the differences in how they move, and how they are controlled.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// move the bomber</span></div><div class="line"><span class="keyword">var</span> moveBomber = <span class="function"><span class="keyword">function</span> (<span class="params">state, secs</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> bomber = state.bomber;</div><div class="line">    <span class="comment">// move bomber by secs and bomber dir property</span></div><div class="line">    bomber.x += <span class="built_in">Math</span>.floor(bomber.pps * secs * bomber.dir);</div><div class="line">    <span class="comment">// boundaries</span></div><div class="line">    clampBoundaries(bomber, BOMBER);</div><div class="line">    <span class="comment">// update direction</span></div><div class="line">    bomber.changeTime += secs;</div><div class="line">    <span class="keyword">if</span> (bomber.changeTime &gt;= bomber.changeRate) &#123;</div><div class="line">        bomber.dir = <span class="number">1</span> - <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">3</span>);</div><div class="line">        bomber.changeTime %= bomber.changeRate;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// move the player</span></div><div class="line"><span class="keyword">var</span> movePlayer = <span class="function"><span class="keyword">function</span> (<span class="params">state, secs</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> player = state.player,</div><div class="line">    inputPos = player.inputPos,</div><div class="line">    hw = PLAYER.w / <span class="number">2</span>,</div><div class="line">    x = inputPos.x - hw;</div><div class="line">    player.dir = <span class="number">0</span>;</div><div class="line">    <span class="keyword">var</span> d = utils.distance(player.x, PLAYER.y, x, PLAYER.y);</div><div class="line">    dir = d &lt; hw ? d / hw : <span class="number">1</span>;</div><div class="line">    <span class="comment">// mouse</span></div><div class="line">    <span class="keyword">if</span> (inputPos.down) &#123;</div><div class="line">        <span class="keyword">if</span> (x &lt; player.x) &#123;</div><div class="line">            player.dir = dir * <span class="number">-1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (x &gt; player.x) &#123;</div><div class="line">            player.dir = dir;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// keyboard</span></div><div class="line">    <span class="keyword">if</span> (player.inputKeys.a) &#123;</div><div class="line">        player.dir = <span class="number">-1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (player.inputKeys.d) &#123;</div><div class="line">        player.dir = <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// AI Control</span></div><div class="line">    <span class="keyword">if</span> (player.inputAI) &#123;</div><div class="line">        <span class="keyword">var</span> bomb = state.bombs[<span class="number">0</span>];</div><div class="line">        <span class="keyword">if</span> (bomb) &#123;</div><div class="line">            <span class="keyword">var</span> d = utils.distance(player.x + <span class="number">16</span>, PLAYER.y, bomb.x, PLAYER.y);</div><div class="line">            dir = d &lt; hw ? d / hw : <span class="number">1</span>;</div><div class="line">            <span class="keyword">if</span> (bomb.x &lt; player.x + <span class="number">16</span>) &#123;</div><div class="line">                player.dir = dir * <span class="number">-1</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (bomb.x &gt; player.x + <span class="number">16</span>) &#123;</div><div class="line">                player.dir = dir;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    player.x += <span class="built_in">Math</span>.floor(player.pps * secs * player.dir);</div><div class="line">    clampBoundaries(player, PLAYER);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// move a bomb object</span></div><div class="line"><span class="keyword">var</span> moveBomb = <span class="function"><span class="keyword">function</span> (<span class="params">bomb, secs</span>) </span>&#123;</div><div class="line">    <span class="comment">// move bomb</span></div><div class="line">    bomb.y += bomb.pps * secs;</div><div class="line">    <span class="keyword">if</span> (bomb.y &gt; <span class="number">480</span>) &#123;</div><div class="line">        bomb.y = <span class="number">480</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>When it comes to my move player helper method I worked out an AI control feature. The AI is a very crude yet effective way of going about simulating machine assisted input for this game, and for the nature of the game doing so is not so hard to work out.</p>
<h3 id="2-5-Some-methods-to-use-with-bomb-objects"><a href="#2-5-Some-methods-to-use-with-bomb-objects" class="headerlink" title="2.5 - Some methods to use with bomb objects"></a>2.5 - Some methods to use with bomb objects</h3><p>There will be a need for some methods that are used to spawn bomb objects, as well as find out if a bomb has hot the player or reached the other side of the canvas matrix.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// drop bombs helper</span></div><div class="line"><span class="keyword">var</span> dropBombs = <span class="function"><span class="keyword">function</span> (<span class="params">state, secs</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> bomber = state.bomber;</div><div class="line">    bomber.dropTime += secs;</div><div class="line">    <span class="keyword">if</span> (bomber.dropTime &gt;= bomber.dropRate) &#123;</div><div class="line">        <span class="keyword">if</span> (state.bombCount &gt; <span class="number">0</span>) &#123;</div><div class="line">            state.bombs.push(&#123;</div><div class="line">                <span class="attr">x</span>: bomber.x,</div><div class="line">                <span class="attr">y</span>: BOMBER.y,</div><div class="line">                <span class="attr">w</span>: <span class="number">32</span>,</div><div class="line">                <span class="attr">h</span>: <span class="number">32</span>,</div><div class="line">                <span class="attr">pps</span>: state.bombPPS</div><div class="line">            &#125;);</div><div class="line">        &#125;</div><div class="line">        state.bombCount -= <span class="number">1</span>;</div><div class="line">        state.bombCount = state.bombCount &lt; <span class="number">0</span> ? <span class="number">0</span> : state.bombCount;</div><div class="line">        bomber.dropTime %= bomber.dropRate</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// if a bomb hits the player</span></div><div class="line"><span class="keyword">var</span> bombHit = <span class="function"><span class="keyword">function</span> (<span class="params">state, bombIndex</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> bomb = state.bombs[bombIndex],</div><div class="line">    player = state.player;</div><div class="line">    <span class="keyword">if</span> (bomb) &#123;</div><div class="line">        <span class="keyword">if</span> (utils.bb(&#123;</div><div class="line">                <span class="attr">x</span>: player.x,</div><div class="line">                <span class="attr">y</span>: PLAYER.y,</div><div class="line">                <span class="attr">w</span>: PLAYER.w,</div><div class="line">                <span class="attr">h</span>: PLAYER.h</div><div class="line">            &#125;, bomb)) &#123;</div><div class="line">            state.score += <span class="number">1</span> * state.level;</div><div class="line">            state.bombs.splice(bombIndex, <span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// a bomb has reached the other side</span></div><div class="line"><span class="keyword">var</span> bombOut = <span class="function"><span class="keyword">function</span> (<span class="params">state, bombIndex</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> bomb = state.bombs[bombIndex],</div><div class="line">    player = state.player;</div><div class="line">    <span class="keyword">if</span> (bomb) &#123;</div><div class="line">        <span class="keyword">if</span> (bomb.y === <span class="number">480</span>) &#123;</div><div class="line">            player.hp -= <span class="number">1</span>;</div><div class="line">            player.hp = player.hp &lt; <span class="number">0</span> ? <span class="number">0</span> : player.hp;</div><div class="line">            state.bombs = [];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="2-6-Level-check-and-game-over-check-helpers"><a href="#2-6-Level-check-and-game-over-check-helpers" class="headerlink" title="2.6 - Level check and game over check helpers"></a>2.6 - Level check and game over check helpers</h3><p>Some methods for checking if the level is over, and if the player has lost.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> levelOverCheck = <span class="function"><span class="keyword">function</span> (<span class="params">state</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (state.bombCount === <span class="number">0</span> &amp;&amp; state.bombs.length === <span class="number">0</span>) &#123;</div><div class="line">        setLevel(state, state.level += <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="keyword">var</span> gameOverCheck = <span class="function"><span class="keyword">function</span> (<span class="params">state</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (state.player.hp === <span class="number">0</span>) &#123;</div><div class="line">        state.gameOver = <span class="literal">true</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="2-7-Create-state-and-set-level"><a href="#2-7-Create-state-and-set-level" class="headerlink" title="2.7 - Create state, and set level"></a>2.7 - Create state, and set level</h3><p>Here I have the methods that are used to create a new state object, as well as set the state object to a given level.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// create a new state</span></div><div class="line"><span class="keyword">var</span> createState = <span class="function"><span class="keyword">function</span> (<span class="params">level</span>) </span>&#123;</div><div class="line">    level = level || <span class="number">1</span>;</div><div class="line">    <span class="keyword">var</span> state = &#123;</div><div class="line">        <span class="attr">lt</span>: <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">        <span class="comment">//pause: false,</span></div><div class="line">        gameOver: <span class="literal">false</span>,</div><div class="line">        <span class="attr">pauseTime</span>: <span class="number">3</span>,</div><div class="line">        <span class="attr">pauseMessage</span>: <span class="string">''</span>,</div><div class="line">        <span class="attr">score</span>: <span class="number">0</span>,</div><div class="line">        <span class="attr">level</span>: level,</div><div class="line">        <span class="attr">bomber</span>: &#123;</div><div class="line">            <span class="attr">x</span>: <span class="number">320</span>,</div><div class="line">            <span class="attr">dir</span>: <span class="number">1</span>,</div><div class="line">            <span class="attr">pps</span>: <span class="number">0</span>,</div><div class="line">            <span class="attr">changeTime</span>: <span class="number">0</span>,</div><div class="line">            <span class="attr">changeRate</span>: <span class="number">0.5</span>,</div><div class="line">            <span class="attr">dropTime</span>: <span class="number">0</span>,</div><div class="line">            <span class="attr">dropRate</span>: <span class="number">1</span></div><div class="line">        &#125;,</div><div class="line">        <span class="attr">bombPPS</span>: <span class="number">0</span>,</div><div class="line">        <span class="attr">bombCount</span>: <span class="number">0</span>,</div><div class="line">        <span class="attr">bombs</span>: [],</div><div class="line">        <span class="attr">player</span>: &#123;</div><div class="line">            <span class="attr">x</span>: <span class="number">320</span>,</div><div class="line">            <span class="attr">inputPos</span>: &#123;</div><div class="line">                <span class="attr">x</span>: <span class="number">320</span>,</div><div class="line">                <span class="attr">y</span>: <span class="number">0</span>,</div><div class="line">                <span class="attr">down</span>: <span class="literal">false</span></div><div class="line">            &#125;,</div><div class="line">            <span class="attr">inputKeys</span>: &#123;</div><div class="line">                <span class="attr">a</span>: <span class="literal">false</span>,</div><div class="line">                <span class="attr">b</span>: <span class="literal">false</span></div><div class="line">            &#125;,</div><div class="line">            <span class="attr">inputAI</span>: <span class="literal">false</span>,</div><div class="line">            <span class="attr">hp</span>: <span class="number">3</span>,</div><div class="line">            <span class="attr">dir</span>: <span class="number">-1</span>,</div><div class="line">            <span class="attr">pps</span>: <span class="number">900</span></div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    setLevel(state, level);</div><div class="line">    state.pauseMessage = <span class="string">'level: '</span> + state.level;</div><div class="line">    <span class="keyword">return</span> state;</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// set the values for the current level / level change</span></div><div class="line"><span class="keyword">var</span> setLevel = <span class="function"><span class="keyword">function</span> (<span class="params">state, level</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> maxLevel = <span class="built_in">Object</span>.keys(LEVELS).length;</div><div class="line">    state.level = level === <span class="literal">undefined</span> ? state.level : level;</div><div class="line">    state.level = state.level &gt; maxLevel ? maxLevel : state.level;</div><div class="line">    levelObj = LEVELS[state.level];</div><div class="line">    state.bomber.pps = levelObj.bomber.pps;</div><div class="line">    state.bomber.changeRate = levelObj.bomber.changeRate;</div><div class="line">    state.bomber.dropRate = levelObj.bomber.dropRate;</div><div class="line">    state.bombPPS = levelObj.bombPPS;</div><div class="line">    state.bombCount = levelObj.bombCount;</div><div class="line">    state.pauseTime = <span class="number">1</span>;</div><div class="line">    state.bomber.dropTime = <span class="number">0</span>;</div><div class="line">    state.bomber.changeTime = <span class="number">0</span>;</div><div class="line">    state.pauseMessage = <span class="string">'level: '</span> + state.level;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="2-8-The-public-API-and-the-end-of-the-module"><a href="#2-8-The-public-API-and-the-end-of-the-module" class="headerlink" title="2.8 - The public API and the end of the module"></a>2.8 - The public API and the end of the module</h3><p>The Public API is just an Object literal that will be used to return a collection of methods and references to certain other things of interest in this module that I think should be public.</p>
<p>There is of course the create state method that I will wan to make public so that I can create a state of the kaboom module from a main.js file. That state object can then be passed to other public methods that act on such a state object. Mainly the pointer start method, and the update method.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div></pre></td><td class="code"><pre><div class="line">    var api = &#123;</div><div class="line"> </div><div class="line">        LEVELS: LEVELS,</div><div class="line">        BOMBER: BOMBER,</div><div class="line">        PLAYER: PLAYER,</div><div class="line">        BUTTON_PAUSE: BUTTON_PAUSE,</div><div class="line">        BUTTON_NEW_GAME: BUTTON_NEW_GAME,</div><div class="line"> </div><div class="line">        createState: createState,</div><div class="line"> </div><div class="line">        pointerStart: function (state, e) &#123;</div><div class="line">            var pos = utils.getCanvasRelative(e);</div><div class="line">            e.preventDefault();</div><div class="line">            if (!state.gameOver &amp;&amp; utils.bb(pos, BUTTON_PAUSE)) &#123;</div><div class="line">                if (state.pauseTime === -1) &#123;</div><div class="line">                    state.pauseTime = 0;</div><div class="line">                    return;</div><div class="line">                &#125;</div><div class="line">                if (state.pauseTime === 0) &#123;</div><div class="line">                    state.pauseTime = -1;</div><div class="line">                    state.pauseMessage = &apos;paused&apos;;</div><div class="line">                    return;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            if (state.gameOver &amp;&amp; utils.bb(pos, BUTTON_NEW_GAME)) &#123;</div><div class="line">                Object.assign(state, createState(1));</div><div class="line">            &#125;</div><div class="line">        &#125;,</div><div class="line"> </div><div class="line">        update: function (state) &#123;</div><div class="line">            var now = new Date(),</div><div class="line">            t = now - state.lt,</div><div class="line">            secs = t / 1000,</div><div class="line">            bomber = state.bomber;</div><div class="line">            // if game over</div><div class="line">            if (state.gameOver) &#123;</div><div class="line">                state.pauseTime = -1;</div><div class="line">                state.pauseMessage = &apos;Game Over&apos;;</div><div class="line">            &#125;</div><div class="line">            // if pauseTime set lt to now and return out of function</div><div class="line">            if (state.pauseTime === -1 || state.pauseTime &gt; 0) &#123;</div><div class="line">                state.lt = now;</div><div class="line">                if (state.pauseTime &gt; 0) &#123;</div><div class="line">                    state.pauseTime -= secs;</div><div class="line">                    state.pauseTime = state.pauseTime &lt; 0 ? 0 : state.pauseTime;</div><div class="line">                &#125;</div><div class="line">                return;</div><div class="line">            &#125;</div><div class="line">            // movement</div><div class="line">            moveBomber(state, secs);</div><div class="line">            movePlayer(state, secs);</div><div class="line">            // drop bombs</div><div class="line">            dropBombs(state, secs);</div><div class="line">            // update bombs</div><div class="line">            var i = state.bombs.length,</div><div class="line">            player = state.player,</div><div class="line">            bomb;</div><div class="line">            while (i--) &#123;</div><div class="line">                bomb = state.bombs[i];</div><div class="line">                // move</div><div class="line">                moveBomb(bomb, secs);</div><div class="line">                // hit player, and bomb is out</div><div class="line">                bombHit(state, i);</div><div class="line">                bombOut(state, i);</div><div class="line">            &#125;</div><div class="line">            // level over check</div><div class="line">            levelOverCheck(state);</div><div class="line">            gameOverCheck(state);</div><div class="line">            state.lt = now;</div><div class="line">        &#125;</div><div class="line"> </div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    return api;</div><div class="line"> </div><div class="line">&#125;</div><div class="line">    ());</div></pre></td></tr></table></figure>
<h2 id="3-The-draw-module-for-the-kaboom-clone-canvas-example"><a href="#3-The-draw-module-for-the-kaboom-clone-canvas-example" class="headerlink" title="3 - The draw module for the kaboom clone canvas example"></a>3 - The draw module for the kaboom clone canvas example</h2><p>The kaboom.js file is just for the state of the game, but not drawing the current state of the game. I have been working with javaScript and canvas long enough to know that it is important to separate the state of a game away from logic that is used to render the state of it by one way or another. So that is where the draw.js module for this canvas example comes into play.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> draw = &#123;&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// draw background</span></div><div class="line">draw.back = <span class="function"><span class="keyword">function</span> (<span class="params">ctx, canvas</span>) </span>&#123;</div><div class="line">    <span class="comment">// draw background</span></div><div class="line">    ctx.fillStyle = <span class="string">'blue'</span>;</div><div class="line">    ctx.fillRect(<span class="number">0</span>, <span class="number">0</span>, canvas.width, canvas.height);</div><div class="line">    ctx.fillStyle = <span class="string">'green'</span>;</div><div class="line">    ctx.fillRect(<span class="number">0</span>, kaboom.BOMBER.y, canvas.width, canvas.height - kaboom.BOMBER.y);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// draw bomber</span></div><div class="line">draw.bomber = <span class="function"><span class="keyword">function</span> (<span class="params">ctx, state</span>) </span>&#123;</div><div class="line">    ctx.fillStyle = <span class="string">'black'</span>;</div><div class="line">    ctx.fillRect(state.bomber.x, kaboom.BOMBER.y - <span class="number">64</span>, kaboom.BOMBER.w, <span class="number">64</span>);</div><div class="line">&#125;;</div><div class="line"><span class="comment">// draw bombs</span></div><div class="line">draw.bombs = <span class="function"><span class="keyword">function</span> (<span class="params">ctx, state</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> i = state.bombs.length,</div><div class="line">    bomb;</div><div class="line">    ctx.fillStyle = <span class="string">'red'</span>;</div><div class="line">    <span class="keyword">while</span> (i--) &#123;</div><div class="line">        bomb = state.bombs[i];</div><div class="line">        ctx.fillRect(bomb.x, bomb.y, <span class="number">32</span>, <span class="number">32</span>);</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// draw player</span></div><div class="line">draw.player = <span class="function"><span class="keyword">function</span> (<span class="params">ctx, state</span>) </span>&#123;</div><div class="line">    ctx.fillStyle = <span class="string">'lime'</span>;</div><div class="line">    ctx.fillRect(state.player.x, kaboom.PLAYER.y, kaboom.PLAYER.w, kaboom.PLAYER.h);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// draw score</span></div><div class="line">draw.score = <span class="function"><span class="keyword">function</span> (<span class="params">ctx, state</span>) </span>&#123;</div><div class="line">    ctx.fillStyle = <span class="string">'white'</span>;</div><div class="line">    ctx.font = <span class="string">'10px arial'</span>;</div><div class="line">    ctx.textBaseline = <span class="string">'top'</span>;</div><div class="line">    ctx.textAlign = <span class="string">'center'</span>;</div><div class="line">    ctx.fillText(state.score, <span class="number">320</span>, <span class="number">20</span>);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line">draw.ui = <span class="function"><span class="keyword">function</span> (<span class="params">ctx, state</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> button = kaboom.BUTTON_PAUSE;</div><div class="line">    ctx.fillStyle = <span class="string">'white'</span>;</div><div class="line">    ctx.fillRect(button.x, button.y, button.w, button.h);</div><div class="line">    <span class="keyword">if</span> (state.gameOver) &#123;</div><div class="line">        button = kaboom.BUTTON_NEW_GAME;</div><div class="line">        ctx.fillStyle = <span class="string">'white'</span>;</div><div class="line">        ctx.fillRect(button.x, button.y, button.w, button.h);</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// draw pause overlay</span></div><div class="line">draw.pauseOverlay = <span class="function"><span class="keyword">function</span> (<span class="params">ctx, canvas, state</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (state.pauseTime &gt; <span class="number">0</span> || state.pauseTime === <span class="number">-1</span>) &#123;</div><div class="line">        ctx.fillStyle = <span class="string">'rgba(0,0,0,0.5)'</span>;</div><div class="line">        ctx.fillRect(<span class="number">0</span>, <span class="number">0</span>, canvas.width, canvas.height);</div><div class="line">        ctx.fillStyle = <span class="string">'white'</span>;</div><div class="line">        ctx.font = <span class="string">'20px arial'</span>;</div><div class="line">        ctx.textBaseline = <span class="string">'top'</span>;</div><div class="line">        ctx.textAlign = <span class="string">'center'</span>;</div><div class="line">        ctx.fillText(state.pauseMessage, canvas.width / <span class="number">2</span>, <span class="number">200</span>);</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// draw debug info</span></div><div class="line">draw.debug = <span class="function"><span class="keyword">function</span> (<span class="params">ctx, state</span>) </span>&#123;</div><div class="line">    ctx.fillStyle = <span class="string">'white'</span>;</div><div class="line">    ctx.font = <span class="string">'10px arial'</span>;</div><div class="line">    ctx.textBaseline = <span class="string">'top'</span>;</div><div class="line">    ctx.textAlign = <span class="string">'left'</span>;</div><div class="line">    ctx.fillText(<span class="string">'level: '</span> + state.level, <span class="number">10</span>, <span class="number">10</span>);</div><div class="line">    ctx.fillText(<span class="string">'bombCount: '</span> + state.bombCount, <span class="number">10</span>, <span class="number">20</span>);</div><div class="line">    ctx.fillText(<span class="string">'bomber: &#123; x: '</span> + state.bomber.x +</div><div class="line">        <span class="string">', dir: '</span> + state.bomber.dir +</div><div class="line">        <span class="string">', pps: '</span> + state.bomber.pps + <span class="string">' &#125;'</span>, <span class="number">10</span>, <span class="number">30</span>);</div><div class="line">    ctx.fillText(<span class="string">'player: &#123; x: '</span> + state.player.x +</div><div class="line">        <span class="string">', hp: '</span> + state.player.hp +</div><div class="line">        <span class="string">', dir: '</span> + state.player.dir +</div><div class="line">        <span class="string">', inputAI: '</span> + state.player.inputAI +</div><div class="line">        <span class="string">', pps: '</span> + state.player.pps + <span class="string">' &#125;'</span>, <span class="number">10</span>, <span class="number">40</span>);</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="4-The-main-js-file-and-index-html"><a href="#4-The-main-js-file-and-index-html" class="headerlink" title="4 - The main.js file and index.html"></a>4 - The main.js file and index.html</h2><p>I have a utils.js, kaboom.js, and draw.js file out of the way so now it is time to pull all this together with a main.js file and some html. In this main.js file I will be creating and injecting the canvas element into the html pages that I will be using. Here in the main.js file I will also be attaching event handlers for the game that will be used to control the player buckets.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.createElement(<span class="string">'canvas'</span>),</div><div class="line">ctx = canvas.getContext(<span class="string">'2d'</span>);</div><div class="line"><span class="built_in">document</span>.getElementById(<span class="string">'gamearea'</span>).appendChild(canvas);</div><div class="line">canvas.width = <span class="number">640</span>;</div><div class="line">canvas.height = <span class="number">480</span>;</div><div class="line"> </div><div class="line"><span class="keyword">var</span> state = kaboom.createState(<span class="number">1</span>);</div><div class="line"> </div><div class="line">canvas.addEventListener(<span class="string">'mousedown'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">    state.player.inputPos.down = <span class="literal">true</span>;</div><div class="line">    kaboom.pointerStart(state, e);</div><div class="line">&#125;);</div><div class="line">canvas.addEventListener(<span class="string">'mousemove'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">    e.preventDefault();</div><div class="line">    <span class="keyword">var</span> pos = utils.getCanvasRelative(e),</div><div class="line">    player = state.player;</div><div class="line">    player.inputPos.x = pos.x;</div><div class="line">    player.inputPos.y = pos.y;</div><div class="line">&#125;);</div><div class="line">canvas.addEventListener(<span class="string">'mouseup'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">    state.player.inputPos.down = <span class="literal">false</span>;</div><div class="line">&#125;);</div><div class="line"> </div><div class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'keydown'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> key = e.key.toLowerCase(),</div><div class="line">    player = state.player;</div><div class="line">    player.inputKeys[key] = <span class="literal">true</span>;</div><div class="line">    <span class="keyword">if</span> (key === <span class="string">'i'</span>) &#123;</div><div class="line">        player.inputAI = !player.inputAI;</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"> </div><div class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'keyup'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> key = e.key.toLowerCase(),</div><div class="line">    player = state.player;</div><div class="line">    player.inputKeys[key] = <span class="literal">false</span>;</div><div class="line">&#125;);</div><div class="line"> </div><div class="line"><span class="keyword">var</span> loop = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    requestAnimationFrame(loop);</div><div class="line">    kaboom.update(state);</div><div class="line">    draw.back(ctx, canvas);</div><div class="line">    draw.bomber(ctx, state);</div><div class="line">    draw.bombs(ctx, state);</div><div class="line">    draw.player(ctx, state);</div><div class="line">    draw.score(ctx, state);</div><div class="line">    draw.ui(ctx, state);</div><div class="line">    draw.pauseOverlay(ctx, canvas, state);</div><div class="line">    draw.debug(ctx, state);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line">loop();</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>canvas example kaboom<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">body</span> <span class="attr">style</span>=<span class="string">"margin:0px;"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"gamearea"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"utils.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"kaboom.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"draw.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"main.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="5-Conclusion-and-future-ideas"><a href="#5-Conclusion-and-future-ideas" class="headerlink" title="5 - Conclusion and future ideas"></a>5 - Conclusion and future ideas</h2><p>So this canvas example was a lot of fun to work on, and so far I have to say that this canvas example might be one of the best candidates so far when it comes to working on it more to turn it into something that might be considered and actual project of some kind. There are of course many other such <a href="/2020/03/23/canvas-example/">canvas examples</a> that are also competing for my attention so this one might still end up being left stuck where it is.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dustinpfister.github.io/2020/04/10/canvas-example-game-kaboom-clone/" data-id="ckinkr08a00etoov1cwspadok" class="article-share-link">Share</a>
      
        <a href="https://dustinpfister.github.io/2020/04/10/canvas-example-game-kaboom-clone/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/canvas/">canvas</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/04/13/canvas-example-particles-search-destroy-and-spawn/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Search destroy and spawn canvas example
        
      </div>
    </a>
  
  
    <a href="/2020/04/08/statistics-population/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Statistical population javaScript examples</div>
    </a>
  
</nav>

  
</article>



<section id="comments">

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://dustinpfister.github.io/2020/04/10/canvas-example-game-kaboom-clone/index.html';
    this.page.identifier = '644';
    this.page.title = 'Kaboom game clone for the Atari 2600 canvas example';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://dustinpfister-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular/">angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/api/">api</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/backbone/">backbone</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/discovery/">discovery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/games/">games</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/grunt/">grunt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hapi/">hapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/heroku/">heroku</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jquery/">jquery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lodash/">lodash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node-js/">node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/phaser/">phaser</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/statistics/">statistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/three-js/">three.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backbone/">backbone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/corejs/">corejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deterministic/">deterministic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discovery/">discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejs/">ejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hapi/">hapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jimp/">jimp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js13k/">js13k</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/structured-data/">structured-data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/themes/">themes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three-js/">three.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JSON/" style="font-size: 12.63px;">JSON</a> <a href="/tags/SEO/" style="font-size: 10.53px;">SEO</a> <a href="/tags/angular/" style="font-size: 13.68px;">angular</a> <a href="/tags/animation/" style="font-size: 12.11px;">animation</a> <a href="/tags/automation/" style="font-size: 12.11px;">automation</a> <a href="/tags/backbone/" style="font-size: 12.63px;">backbone</a> <a href="/tags/blog/" style="font-size: 14.74px;">blog</a> <a href="/tags/canvas/" style="font-size: 18.95px;">canvas</a> <a href="/tags/corejs/" style="font-size: 13.16px;">corejs</a> <a href="/tags/deterministic/" style="font-size: 10px;">deterministic</a> <a href="/tags/discovery/" style="font-size: 11.05px;">discovery</a> <a href="/tags/ejs/" style="font-size: 11.58px;">ejs</a> <a href="/tags/express/" style="font-size: 16.84px;">express</a> <a href="/tags/games/" style="font-size: 17.37px;">games</a> <a href="/tags/git/" style="font-size: 13.16px;">git</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hapi/" style="font-size: 15.26px;">hapi</a> <a href="/tags/heroku/" style="font-size: 13.68px;">heroku</a> <a href="/tags/hexo/" style="font-size: 14.21px;">hexo</a> <a href="/tags/jimp/" style="font-size: 10.53px;">jimp</a> <a href="/tags/jquery/" style="font-size: 11.58px;">jquery</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/js13k/" style="font-size: 10px;">js13k</a> <a href="/tags/linux/" style="font-size: 16.32px;">linux</a> <a href="/tags/lodash/" style="font-size: 18.42px;">lodash</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mongodb/" style="font-size: 14.21px;">mongodb</a> <a href="/tags/node-js/" style="font-size: 19.47px;">node.js</a> <a href="/tags/phaser/" style="font-size: 17.89px;">phaser</a> <a href="/tags/statistics/" style="font-size: 12.63px;">statistics</a> <a href="/tags/structured-data/" style="font-size: 10px;">structured-data</a> <a href="/tags/themes/" style="font-size: 10px;">themes</a> <a href="/tags/three-js/" style="font-size: 16.32px;">three.js</a> <a href="/tags/vuejs/" style="font-size: 15.79px;">vuejs</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/12/11/canvas-example-hyper-casual-space-shooter/">Hyper Casual Space Shooter canvas example</a>
          </li>
        
          <li>
            <a href="/2020/12/10/linux-bash-script-parameters-positional/">Positional Parameters in Linux Bash scripts</a>
          </li>
        
          <li>
            <a href="/2020/12/09/linux-bash-script-parameters-named/">Named parameters in Linux Bash scripts</a>
          </li>
        
          <li>
            <a href="/2020/12/08/linux-bash-script-parameters-special/">Special parameters in Linux Bash scripts</a>
          </li>
        
          <li>
            <a href="/2020/12/07/linux-bash-script-arrays/">Arrays in Linux Bash scripts</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Dustin Pfister<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      <br>
      <a href="/privacy.html" target="_blank">Privacy Policy</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/2020/03/23/canvas-example/" class="mobile-nav-link">Canvas-Examples</a>
  
    <a href="https://github.com/dustinpfister" class="mobile-nav-link">Github</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'dustinpfister-github-io';
  
  var disqus_url = 'https://dustinpfister.github.io/2020/04/10/canvas-example-game-kaboom-clone/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


  </div>
</body>
</html>