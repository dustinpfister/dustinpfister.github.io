<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <!-- disqus image-->
  <meta property="og:image" content="https://dustinpfister.github.io/css/images/banner.jpg">
  
  <title>JavaScript general utility module example | Dustin John Pfister at github pages</title>
  
  <!-- no index tag or blank here -->
  
  
  <link rel="canonical" href="https://dustinpfister.github.io/2021/08/06/js-javascript-example-utils/" />

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="When I start a new project I often want to have a generic dumping ground for usual suspect type methods, in other words a kind of lodash like library only with methods that I am actually going to use">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript general utility module example">
<meta property="og:url" content="https://dustinpfister.github.io/2021/08/06/js-javascript-example-utils/index.html">
<meta property="og:site_name" content="Dustin John Pfister at github pages">
<meta property="og:description" content="When I start a new project I often want to have a generic dumping ground for usual suspect type methods, in other words a kind of lodash like library only with methods that I am actually going to use">
<meta property="og:updated_time" content="2021-12-17T19:22:40.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JavaScript general utility module example">
<meta name="twitter:description" content="When I start a new project I often want to have a generic dumping ground for usual suspect type methods, in other words a kind of lodash like library only with methods that I am actually going to use">
  
    <link rel="alternate" href="/atom.xml" title="Dustin John Pfister at github pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <!-- Google Analytics -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y8XLNG6JRW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Y8XLNG6JRW');
</script>
<!-- End Google Analytics -->


  <!-- structured data set in structured-data.ejs -->
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "email": "distin.pfister@gmail.com",
    "givenName": "Dustin",
    "familyName" : "Pfister",
    "additionalName": "John",
    "name": "Dustin John Pfister",
    "gender": "Male"
}
</script>
<!-- end structured data -->
  
  <!-- adsense if indexed -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1658284027672315",
    enable_page_level_ads: true
  });
  </script>
  
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <!-- added the image, as well as the link to my youtube -->
        <a href="https://www.youtube.com/user/javaweaver"><div class="selfimage"></div></a>
        <!--<a href="/" id="logo">Dustin John Pfister at github pages</a>-->
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/2021/02/19/threejs-examples/">ThreeJS</a>
        
          <a class="main-nav-link" href="/2020/03/23/canvas-example/">Canvas</a>
        
          <a class="main-nav-link" href="https://www.youtube.com/user/javaweaver">Youtube</a>
        
          <a class="main-nav-link" href="https://github.com/dustinpfister">Github</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <!-- removed rss link-->
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dustinpfister.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article itemscope itemtype="http://schema.org/Blog" id="post-js-javascript-example-utils" class="article article-type-post" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/08/06/js-javascript-example-utils/" class="article-date"> Published:
  <time datetime="2021-08-06T15:09:00.000Z" itemprop="datePublished">2021-08-06</time>
</a>

    <!-- other info (dustin) -->
    <a href="/2021/08/06/js-javascript-example-utils/" class="article-date"> Modified:
  <time datetime="2021-12-17T19:22:40.000Z" itemprop="dateModified">2021-12-17</time>
</a>

    <span class="article-date">V1.68</span>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/js/">js</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      JavaScript general utility module example
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="text">
      
        <p>When I start a new project I often want to have a generic dumping ground for usual suspect type methods, in other words a kind of lodash like library only with methods that I am actually going to use in the project, and not a whole much of bulk that I am not going to be using like with lodash. </p>
<p>Many methods that I might park in this kind of library might ultimately end up in some other library that has to do with something more specific such as <a href="/2021/04/16/js-javascript-example-angles-module/">working with angles</a>, or creating and working with canvas elements. However when first starting out I just need a place to put any and all methods that I might want to use in one or more additional modules, or libraries throughout an over all application. So I need to just park it in some kind of general utilities type library until I find a more appropriate home for it.</p>
<p>So in todays post I will be going over a general utility module and the kind of methods that I might place in such a module that will serve as yet another one of my <a href="/2021/04/02/js-javascript-example/">JavaScript example</a> type posts. While in the process of writing about the various method I may link to additional posts on various game prototypes, and projects that are relevant to use usage of these methods.</p>
<a id="more"></a>
<h2 id="1-The-utils-module"><a href="#1-The-utils-module" class="headerlink" title="1 - The utils module"></a>1 - The utils module</h2><p>In this section I will then be going over a few usual suspect methods that I end up with in a generic utility module. It is important to stress that this is an example, and not the example, as the nature of this kind of module will differ fro one project to then next. For example in my <a href="/2020/04/24/canvas-example-game-beach/">canvas example on a beach invasion type game prototype</a> I have the xp system as a stand alone method in the utils module of that example. This is one example of something that might start out in a module such as this, but should really maybe be in its own stand alone <a href="/2020/04/27/js-javascript-example-exp-system/">experience point system module</a> actually.</p>
<h3 id="1-1-Start-of-the-module-and-noop"><a href="#1-1-Start-of-the-module-and-noop" class="headerlink" title="1.1 - Start of the module and noop"></a>1.1 - Start of the module and noop</h3><p>When I make this kind of module often it is just one massive collection of public methods, so the <a href="/2019/03/12/js-javascript-module/">module pattern</a> of just a simple object literal works more often than not. In some cases I might switch to a pattern that involves an <a href="/2020/02/04/js-iife/">IIFE</a> or some other kind of option when it comes to this sort of thing, but that is often what I reserve for other kinds of specific modules that will contain at least a few private helper functions and objects that I do not need or want to make public.</p>
<p>One method that I might have in a utils module is just a simple noop function, or no operation function. This is just a function that does nothing actually, which may seem odd, but never the less it is something that I often used when it comes to setting a default value for a call back option for example.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> utils = &#123;&#125;;</div><div class="line"><span class="comment">// no operation ref</span></div><div class="line">utils.noop = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</div></pre></td></tr></table></figure>
<h3 id="1-2-A-distance-formula"><a href="#1-2-A-distance-formula" class="headerlink" title="1.2 - A distance formula"></a>1.2 - A distance formula</h3><p>Another usual suspect that I might have in a module like this is a distance formula. In many of the projects that I make this is just a basic must have tool. For example say I have to circle objects and I want to know if they have hot each other, or say that I have this singe pixel position and I want to know if it is in the radius of a circle or not. When working out game logic I am often working out all kinds of expressions where distance between two objects is a factor that will set an attack value when dealing damage to which a distance formula will come into play. Yet another use case would be making a grid module, and selecting all cells in the grid that are within a given radius. The list goes on and one with this one, so I should have it at the ready somewhere.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// distance</span></div><div class="line">utils.distance = <span class="function"><span class="keyword">function</span> (<span class="params">x1, y1, x2, y2</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.sqrt(<span class="built_in">Math</span>.pow(x1 - x2, <span class="number">2</span>) + <span class="built_in">Math</span>.pow(y1 - y2, <span class="number">2</span>));</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="1-3-Bounding-box-collision-detection"><a href="#1-3-Bounding-box-collision-detection" class="headerlink" title="1.3 - Bounding box collision detection"></a>1.3 - Bounding box collision detection</h3><p>The distance formula can be used as a kind of collision detection, but only for a circle like area rather than a box like area. So another useful method to have in a generic utility module is a bounding box collision detection module.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// bounding box</span></div><div class="line">utils.boundingBox = <span class="function"><span class="keyword">function</span> (<span class="params">x1, y1, w1, h1, x2, y2, w2, h2</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> !(</div><div class="line">        (y1 + h1) &lt; y2 ||</div><div class="line">        y1 &gt; (y2 + h2) ||</div><div class="line">        (x1 + w1) &lt; x2 ||</div><div class="line">        x1 &gt; (x2 + w2));</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="1-4-Mathematical-Modulo"><a href="#1-4-Mathematical-Modulo" class="headerlink" title="1.4 - Mathematical Modulo"></a>1.4 - Mathematical Modulo</h3><p>The <a href="/2017/09/02/js-whats-wrong-with-modulo/">built in JavaScript modulo operator may fall short</a>, and not work as one might expect now and then in some situations. It is not that there is something wrong with it, it is just that the operator follows a different convention compared to other programing environments. So I often might want to have a module that provides an alternative convention, such as mathematical modulo on top of what is built into javaScript. Often this is the kind of convention I would prefer to use in most cases oddly enough so this is also often a kind of must have method in most projects.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// mathematical modulo</span></div><div class="line">utils.mod = <span class="function"><span class="keyword">function</span> (<span class="params">x, m</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (x % m + m) % m;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="1-5-clamp-a-number"><a href="#1-5-clamp-a-number" class="headerlink" title="1.5 - clamp a number"></a>1.5 - clamp a number</h3><p>In <a href="/2021/12/17/lodash_clamp">lodash there is a clamp number method</a> that will just simply clamp a number to a given range. This is a kind of method that I find myself using often so I have one in this utilities lib that I have made for this post. However what is strange about lodash is that they have a clamp number method but not a wrap number method, if I want one in lodash I need to add one as a mixin.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// clamp a number</span></div><div class="line">utils.clampNumber = <span class="function"><span class="keyword">function</span>(<span class="params">n, min, max, zeroRel</span>)</span>&#123;</div><div class="line">    zeroRel = zeroRel === <span class="literal">undefined</span> ? <span class="literal">true</span> : zeroRel;</div><div class="line">    <span class="keyword">if</span>(n &lt; min)&#123;<span class="keyword">return</span> min;&#125;</div><div class="line">    <span class="keyword">if</span>(n &lt; max)&#123;<span class="keyword">return</span> max;&#125;</div><div class="line">    <span class="comment">// special case for n === max if in zeroRel mode</span></div><div class="line">    <span class="keyword">if</span>(n === max &amp;&amp; zeroRel)&#123;</div><div class="line">        <span class="keyword">return</span> max - <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> n;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="1-6-wrap-a-number"><a href="#1-6-wrap-a-number" class="headerlink" title="1.6 - wrap a number"></a>1.6 - wrap a number</h3><p>If I am going to have a clamp number method then I am also going to want to have a wrap number method. I have based this wrap method off of the source code of the <a href="/2018/07/22/phaser-math-wrap-and-clamp/">wrap method in phaser</a> that seems to work well in most situations.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// wrap a number</span></div><div class="line">utils.wrapNumber = <span class="function"><span class="keyword">function</span>(<span class="params">n, min, max</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> r = max - min;</div><div class="line">    <span class="keyword">return</span> (min + ((((n - min) % r) + r) % r));</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="1-7-Format-a-number"><a href="#1-7-Format-a-number" class="headerlink" title="1.7 - Format a number"></a>1.7 - Format a number</h3><p>This format number method uses the Format Number <a href="/2021/03/30/js-intl">internationalization constructor</a> to format a number as a string. The returned string does not just have a dollar sign attached to it when it comes to displaying as USD, or any desired symbol depending on the set currency property, but it also places a comma after every three digits.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// format money method</span></div><div class="line">utils.formatNumber = <span class="function"><span class="keyword">function</span>(<span class="params">number</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> formatter = <span class="keyword">new</span> <span class="built_in">Intl</span>.NumberFormat(<span class="string">'en-US'</span>, &#123;</div><div class="line">        <span class="attr">style</span>: <span class="string">'currency'</span>,</div><div class="line">        <span class="attr">currency</span>: <span class="string">'USD'</span>,</div><div class="line">        <span class="comment">// These options are needed to round to whole numbers if that's what you want.</span></div><div class="line">        minimumFractionDigits: <span class="number">0</span>, <span class="comment">// (this suffices for whole numbers, but will print 2500.10 as $2,500.1)</span></div><div class="line">        maximumFractionDigits: <span class="number">0</span> <span class="comment">// (causes 2500.99 to be printed as $2,501)</span></div><div class="line">    &#125;);</div><div class="line">    <span class="keyword">return</span> formatter.format(number); <span class="comment">/* $2,500.00 */</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="1-8-Http-methods"><a href="#1-8-Http-methods" class="headerlink" title="1.8 - Http methods"></a>1.8 - Http methods</h3><p>A useful tool to have ready is a decent http client as scripting http requests is something that just happens a great deal when working things out with client side javaScript. There is working with the fetch api or the  <a href="/2018/03/28/js-xmlhttprequest/">xml http request method directly</a>, but when doing that I have found that there are some things that I should pull into some kind of abstraction so I do not have to repeat the code each time.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/********* ********** ********** *********/</span></div><div class="line"><span class="comment">//  HTTP</span></div><div class="line"> <span class="comment">/********* ********** ********** *********/</span></div><div class="line"> </div><div class="line"><span class="comment">// very simple http client</span></div><div class="line">utils.http = <span class="function"><span class="keyword">function</span>(<span class="params">opt</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> opt = opt || &#123;&#125;;</div><div class="line">    <span class="comment">// default options</span></div><div class="line">    opt.url = opt.url || <span class="string">''</span>;</div><div class="line">    opt.method = opt.method || <span class="string">'GET'</span>;</div><div class="line">    opt.async = opt.async === <span class="literal">undefined</span> ? <span class="literal">true</span>: opt.async;</div><div class="line">    opt.body = opt.body === <span class="literal">undefined</span> ? <span class="literal">null</span>: opt.body;</div><div class="line">    opt.onDone = opt.onDone || utils.noop;</div><div class="line">    opt.onError = opt.onError || utils.noop;</div><div class="line">    opt.responseType = opt.responseType || <span class="string">''</span>;  <span class="comment">// set to 'blob' for png</span></div><div class="line">    <span class="comment">// create and set up xhr</span></div><div class="line">    <span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</div><div class="line">    xhr.responseType = opt.responseType;</div><div class="line">    xhr.open(opt.method, opt.url, opt.async);</div><div class="line">    xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">if</span> (xhr.readyState === <span class="number">4</span>) &#123;</div><div class="line">            <span class="keyword">if</span>(xhr.status &gt;= <span class="number">200</span> &amp;&amp; xhr.status &lt; <span class="number">400</span>)&#123;</div><div class="line">                opt.onDone.call(xhr, xhr.response, xhr);</div><div class="line">            &#125;<span class="keyword">else</span>&#123;</div><div class="line">                opt.onError.call(xhr, xhr);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// send</span></div><div class="line">    xhr.send(opt.body);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// load just a png file, this calls utils.http with proper settings, and the response is an Image</span></div><div class="line">utils.httpPNG = <span class="function"><span class="keyword">function</span>(<span class="params">opt</span>)</span>&#123;</div><div class="line">    opt = opt || &#123;&#125;;</div><div class="line">    opt.onDone = opt.onDone || utils.noop;</div><div class="line">    opt.onError = opt.onError || utils.noop;</div><div class="line">    utils.http(&#123;</div><div class="line">        <span class="attr">url</span>: opt.url,</div><div class="line">        <span class="attr">responseType</span>: <span class="string">'blob'</span>,</div><div class="line">        <span class="attr">onDone</span> : <span class="function"><span class="keyword">function</span>(<span class="params">res, xhr</span>)</span>&#123;</div><div class="line">            <span class="keyword">var</span> imageURL = <span class="built_in">window</span>.URL.createObjectURL(res);</div><div class="line">            <span class="keyword">var</span> image = <span class="keyword">new</span> Image();</div><div class="line">            image.src = imageURL;</div><div class="line">            <span class="comment">// need to do an unload for this</span></div><div class="line">            image.addEventListener(<span class="string">'load'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">                opt.onDone.call(xhr, image, xhr);</div><div class="line">            &#125;);</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">onError</span>: opt.onError</div><div class="line">    &#125;);</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="1-9-Logging-methods"><a href="#1-9-Logging-methods" class="headerlink" title="1.9 - Logging methods"></a>1.9 - Logging methods</h3><p>There is just using the console log method as a way to see what is going on with some code at a given point. However using that method alone is a bit lacking, I often would like to have a log method that will just log once in a loop. Also another helpful method would be a method that will log just once for a given expression. Also I think it is a good idea to at least wrap the console log in a custom log method, that way I can just comment out just one line to stop logging, or redefine what logging is in just one place.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// basic utils.log method</span></div><div class="line">utils.log = <span class="function"><span class="keyword">function</span> (<span class="params">mess</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(mess);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// log for test  ex: utils.logFor( obj.hp, obj.hp &lt; 0 || obj.hp &lt; obj.hpMax )</span></div><div class="line">utils.logFor = <span class="function"><span class="keyword">function</span> (<span class="params">mess, test, opt</span>) </span>&#123;</div><div class="line">    opt = opt || &#123;&#125;;</div><div class="line">    opt.log = opt.log || utils.log;</div><div class="line">    <span class="keyword">if</span> (test) &#123;</div><div class="line">        opt.log(mess);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// log just once by default, but can be reset, and maxCount can be adjusted</span></div><div class="line">utils.logOnce = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> count = <span class="number">0</span>;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">mess, opt</span>) </span>&#123;</div><div class="line">        opt = opt || &#123;&#125;;</div><div class="line">        opt.log = opt.log || utils.log;</div><div class="line">        opt.maxCount = opt.maxCount === <span class="literal">undefined</span> ? <span class="number">1</span> : opt.maxCount;</div><div class="line">        opt.resetCount = opt.resetCount === <span class="literal">undefined</span> ? <span class="literal">false</span> : opt.resetCount;</div><div class="line">        <span class="keyword">if</span> (opt.resetCount) &#123;</div><div class="line">            count = <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (count &lt; opt.maxCount) &#123;</div><div class="line">            opt.log(mess);</div><div class="line">            count += <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">&#125;</div><div class="line">    ());</div></pre></td></tr></table></figure>
<h3 id="1-10-A-deep-clone-method"><a href="#1-10-A-deep-clone-method" class="headerlink" title="1.10 - A deep clone method"></a>1.10 - A deep clone method</h3><p>When it comes to working with objects I will often want a way to go about deep cloning objects. This can often prove to be a not so easy task when it comes to making a vanilla javaScript solution. Also often user space library methods might not always work great when working with custom made constructor functions. There are many deep clone methods on the open web, but often I do not see every little detail covered when making this sort of metho9d, such as checking for recursive references, and how to go about dealing with them.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// a deep clone method that should work in most situations</span></div><div class="line">utils.deepClone = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">// forInstance methods supporting Date, Array, and Object</span></div><div class="line">    <span class="keyword">var</span> forInstance = &#123;</div><div class="line">        <span class="attr">Date</span>: <span class="function"><span class="keyword">function</span> (<span class="params">val, key</span>) </span>&#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>(val.getTime());</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">Array</span>: <span class="function"><span class="keyword">function</span> (<span class="params">val, key</span>) </span>&#123;</div><div class="line">            <span class="comment">// deep clone the object, and return as array</span></div><div class="line">            <span class="keyword">var</span> obj = utils.deepClone(val);</div><div class="line">            obj.length = <span class="built_in">Object</span>.keys(obj).length;</div><div class="line">            <span class="keyword">return</span> <span class="built_in">Array</span>.from(obj);</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">Object</span>: <span class="function"><span class="keyword">function</span> (<span class="params">val, key</span>) </span>&#123;</div><div class="line">            <span class="keyword">return</span> utils.deepClone(val);</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// default forRecursive</span></div><div class="line">    <span class="keyword">var</span> forRecursive = <span class="function"><span class="keyword">function</span> (<span class="params">cloneObj, sourceObj, sourceKey</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> cloneObj;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// default method for unsupported types</span></div><div class="line">    <span class="keyword">var</span> forUnsupported = <span class="function"><span class="keyword">function</span> (<span class="params">cloneObj, sourceObj, sourceKey</span>) </span>&#123;</div><div class="line">        <span class="comment">// not supported? Just ref the object,</span></div><div class="line">        <span class="comment">// and hope for the best then</span></div><div class="line">        <span class="keyword">return</span> sourceObj[sourceKey];</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// return deep clone method</span></div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">obj, opt</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> clone = &#123;&#125;,</div><div class="line">        conName,</div><div class="line">        forIMethod; <span class="comment">// clone is a new object</span></div><div class="line">        opt = opt || &#123;&#125;;</div><div class="line">        opt.forInstance = opt.forInstance || &#123;&#125;;</div><div class="line">        opt.forRecursive = opt.forRecursive || forRecursive;</div><div class="line">        opt.forUnsupported = opt.forUnsupported || forUnsupported;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> obj) &#123;</div><div class="line">            <span class="comment">// if the type is object and not null</span></div><div class="line">            <span class="keyword">if</span> (<span class="keyword">typeof</span>(obj[i]) == <span class="string">"object"</span> &amp;&amp; obj[i] != <span class="literal">null</span>) &#123;</div><div class="line">                <span class="comment">// recursive check</span></div><div class="line">                <span class="keyword">if</span> (obj[i] === obj) &#123;</div><div class="line">                    clone[i] = opt.forRecursive(clone, obj, i);</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    <span class="comment">// if the constructor is supported, clone it</span></div><div class="line">                    conName = obj[i].constructor.name;</div><div class="line">                    forIMethod = opt.forInstance[conName] || forInstance[conName];</div><div class="line">                    <span class="keyword">if</span> (forIMethod) &#123;</div><div class="line">                        clone[i] = forIMethod(obj[i], i);</div><div class="line">                    &#125; <span class="keyword">else</span> &#123;</div><div class="line">                        clone[i] = opt.forUnsupported(clone, obj, i);</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                <span class="comment">// should be a primitive so just assign</span></div><div class="line">                clone[i] = obj[i];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> clone;</div><div class="line">    &#125;;</div><div class="line">&#125;</div><div class="line">    ());</div></pre></td></tr></table></figure>
<h3 id="1-11-traverse-an-object"><a href="#1-11-traverse-an-object" class="headerlink" title="1.11 - traverse an object"></a>1.11 - traverse an object</h3><p>On top of deep cloning another useful object method to have is something that can be used to traverse over the full depth of an object. This kind of method is often referred to as a traverse method as it will go over every nested key value pair of an object calling a function for each set.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// traverse an object</span></div><div class="line">utils.traverse = <span class="function"><span class="keyword">function</span> (<span class="params">obj, forKey, level</span>) </span>&#123;</div><div class="line">    level = level || <span class="number">1</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> obj) &#123;</div><div class="line">        <span class="comment">// call forKey for every key found</span></div><div class="line">        forKey.call(obj[i], obj[i], i, <span class="keyword">typeof</span> obj[i], level, obj);</div><div class="line">        <span class="comment">// call utils.traverse recursively if type is object and not null</span></div><div class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> obj[i] === <span class="string">'object'</span> &amp;&amp; obj[i] != <span class="literal">null</span>) &#123;</div><div class="line">            nextLevel = level + <span class="number">1</span>;</div><div class="line">            utils.traverse(obj[i], forKey, nextLevel);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="1-12-Create-a-create-canvas-element-method"><a href="#1-12-Create-a-create-canvas-element-method" class="headerlink" title="1.12- Create a create canvas element method"></a>1.12- Create a create canvas element method</h3><p>I often like to make canvas projects so it is a good idea to have a method that will create and return a new canvas element with all the options set up just the way that I like it. There are many little details when it comes to canvas elements such as making it so that a context menu will not show up when the canvas is right clicked, adjusting the translation of the matrix and so forth.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// create a canvas element</span></div><div class="line">utils.createCanvas = <span class="function"><span class="keyword">function</span>(<span class="params">opt</span>)</span>&#123;</div><div class="line">    opt = opt || &#123;&#125;;</div><div class="line">    opt.container = opt.container || <span class="built_in">document</span>.getElementById(<span class="string">'canvas-app'</span>) || <span class="built_in">document</span>.body;</div><div class="line">    opt.canvas = <span class="built_in">document</span>.createElement(<span class="string">'canvas'</span>);</div><div class="line">    opt.ctx = opt.canvas.getContext(<span class="string">'2d'</span>);</div><div class="line">    <span class="comment">// assign the 'canvas_example' className</span></div><div class="line">    opt.canvas.className = <span class="string">'canvas_example'</span>;</div><div class="line">    <span class="comment">// set native width</span></div><div class="line">    opt.canvas.width = opt.width === <span class="literal">undefined</span> ? <span class="number">320</span> : opt.width;</div><div class="line">    opt.canvas.height = opt.height === <span class="literal">undefined</span> ? <span class="number">240</span> : opt.height;</div><div class="line">    <span class="comment">// translate by 0.5, 0.5</span></div><div class="line">    opt.ctx.translate(<span class="number">0.5</span>, <span class="number">0.5</span>);</div><div class="line">    <span class="comment">// disable default action for onselectstart</span></div><div class="line">    opt.canvas.onselectstart = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="literal">false</span>; &#125;</div><div class="line">    <span class="comment">// append canvas to container</span></div><div class="line">    opt.container.appendChild(opt.canvas);</div><div class="line">    <span class="keyword">return</span> opt;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>Using a method such as this is no replacement for a full blown canvas module of some kind though of course. There are many other little details surrounding canvas elements such as the topic of layering, and not always appending a canvas to a container that come to mind. Still this is a step in the right direction compared to starting over from the ground up each time I start a new project.</p>
<h3 id="1-13-Get-a-canvas-relative-position-method"><a href="#1-13-Get-a-canvas-relative-position-method" class="headerlink" title="1.13 - Get a canvas relative position method"></a>1.13 - Get a canvas relative position method</h3><p>Another method that I might have in a general utilities module would be a method that I can use to adjust pointer positions so that they are relative to a canvas element rather than that of the browser window. This is a kind of method that I find myself refining a little now and then, so I have <a href="/2020/03/04/canvas-get-point-relative-to-canvas/">wrote a post in which I get into this topic of getting a canvas relative pointer position in greater detail</a>.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// get a canvas relative position that is adjusted for scale</span></div><div class="line">utils.getCanvasRelative = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> canvas = e.target,</div><div class="line">    bx = canvas.getBoundingClientRect(),</div><div class="line">    pos = &#123;</div><div class="line">        <span class="attr">x</span>: (e.changedTouches ? e.changedTouches[<span class="number">0</span>].clientX : e.clientX) - bx.left,</div><div class="line">        <span class="attr">y</span>: (e.changedTouches ? e.changedTouches[<span class="number">0</span>].clientY : e.clientY) - bx.top,</div><div class="line">        <span class="attr">bx</span>: bx</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// adjust for native canvas matrix size</span></div><div class="line">    pos.x = <span class="built_in">Math</span>.floor((pos.x / canvas.scrollWidth) * canvas.width);</div><div class="line">    pos.y = <span class="built_in">Math</span>.floor((pos.y / canvas.scrollHeight) * canvas.height);</div><div class="line">    <span class="keyword">return</span> pos;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="1-14-Create-a-canvas-pointer-handler"><a href="#1-14-Create-a-canvas-pointer-handler" class="headerlink" title="1.14 - Create a canvas pointer handler"></a>1.14 - Create a canvas pointer handler</h3><p>This is a method that will create and return a single handler that will work with a range of events given a single event object.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// create and return a canvas pointer event handler</span></div><div class="line">utils.canvasPointerEventHandler = <span class="function"><span class="keyword">function</span> (<span class="params">state, events</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> pos = utils.getCanvasRelative(e),</div><div class="line">        handler = <span class="literal">null</span>;</div><div class="line">        e.preventDefault();</div><div class="line">        <span class="keyword">if</span> (e.type === <span class="string">'mousedown'</span> || e.type === <span class="string">'touchstart'</span>) &#123;</div><div class="line">            handler = events[<span class="string">'pointerStart'</span>];</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (e.type === <span class="string">'mousemove'</span> || e.type === <span class="string">'touchmove'</span>) &#123;</div><div class="line">            handler = events[<span class="string">'pointerMove'</span>];</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (e.type === <span class="string">'mouseup'</span> || e.type === <span class="string">'touchend'</span>) &#123;</div><div class="line">            handler = events[<span class="string">'pointerEnd'</span>];</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (handler) &#123;</div><div class="line">            handler.call(e, e, pos, state);</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="1-15-Attach-pointer-handlers-for-a-canvas-element"><a href="#1-15-Attach-pointer-handlers-for-a-canvas-element" class="headerlink" title="1.15 - Attach pointer handlers for a canvas element"></a>1.15 - Attach pointer handlers for a canvas element</h3><p>I then have a method that I can call from the source code of a project just once, and given it a canvas element, state object, and an object of events for pointer methods. It will then use the create pointer hander method once to create a uniform handler with methods given in the events object that will act on the given state object. It will then attach the handler for all relevant pointer events for the given canvas element.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// attach canvas pointer events</span></div><div class="line">utils.canvasPointerEvents = <span class="function"><span class="keyword">function</span> (<span class="params">canvas, state, events</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> handler = utils.canvasPointerEventHandler(state, events),</div><div class="line">    options = &#123;</div><div class="line">        <span class="attr">passive</span>: <span class="literal">false</span></div><div class="line">    &#125;</div><div class="line">    canvas.addEventListener(<span class="string">'mousedown'</span>, handler, options);</div><div class="line">    canvas.addEventListener(<span class="string">'mousemove'</span>, handler, options);</div><div class="line">    canvas.addEventListener(<span class="string">'mouseup'</span>, handler, options);</div><div class="line">    canvas.addEventListener(<span class="string">'touchstart'</span>, handler, options);</div><div class="line">    canvas.addEventListener(<span class="string">'touchmove'</span>, handler, options);</div><div class="line">    canvas.addEventListener(<span class="string">'touchend'</span>, handler, options);</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="1-16-Having-a-basic-EXP-System"><a href="#1-16-Having-a-basic-EXP-System" class="headerlink" title="1.16 - Having a basic EXP System"></a>1.16 - Having a basic EXP System</h3><p>Many of my projects are basic game prototypes, and one thing I need to have in many of them is some kind of experience point system. It might be best to start to work out some kind of <a href="/2020/04/27/js-javascript-example-exp-system/">full module for an experience point system</a>, however the same could be used for many of the canvas methods that I have in this module also. This xp object contains two methods that I first worked out for my <a href="/2020/04/24/canvas-example-game-beach/">beach canvas example</a> game prototype, and further refined in my post on the <a href="/2019/12/10/js-math-pow/">math pow method</a>.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Basic experience point system methods</span></div><div class="line">utils.XP = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">// default values</span></div><div class="line">    <span class="keyword">var</span> default_deltaNext = <span class="number">50</span>,</div><div class="line">    defualt_cap = <span class="number">100</span>;</div><div class="line">    <span class="comment">// get level with given xp</span></div><div class="line">    <span class="keyword">var</span> getLevel = <span class="function"><span class="keyword">function</span> (<span class="params">xp, deltaNext</span>) </span>&#123;</div><div class="line">        deltaNext = deltaNext === <span class="literal">undefined</span> ? default_deltaNext : deltaNext;</div><div class="line">        <span class="keyword">return</span> (<span class="number">1</span> + <span class="built_in">Math</span>.sqrt(<span class="number">1</span> + <span class="number">8</span> * xp / deltaNext)) / <span class="number">2</span>;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// get exp to the given level with given current_level and xp</span></div><div class="line">    <span class="keyword">var</span> getXP = <span class="function"><span class="keyword">function</span> (<span class="params">level, deltaNext</span>) </span>&#123;</div><div class="line">        deltaNext = deltaNext === <span class="literal">undefined</span> ? default_deltaNext : deltaNext;</div><div class="line">        <span class="keyword">return</span> ((<span class="built_in">Math</span>.pow(level, <span class="number">2</span>) - level) * deltaNext) / <span class="number">2</span>;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// parse a levelObj by XP</span></div><div class="line">    <span class="keyword">var</span> parseByXP = <span class="function"><span class="keyword">function</span> (<span class="params">xp, cap, deltaNext</span>) </span>&#123;</div><div class="line">        <span class="comment">//cap = cap === undefined ? default_cap : cap;</span></div><div class="line">        <span class="keyword">var</span> l = getLevel(xp, deltaNext);</div><div class="line">        l = l &gt; cap ? cap : l;</div><div class="line">        <span class="keyword">var</span> level = <span class="built_in">Math</span>.floor(l),</div><div class="line">        forNext = getXP(level + <span class="number">1</span>);</div><div class="line">        <span class="keyword">return</span> &#123;</div><div class="line">            <span class="attr">level</span>: level,</div><div class="line">            <span class="attr">levelFrac</span>: l,</div><div class="line">            <span class="attr">per</span>: l % <span class="number">1</span>,</div><div class="line">            <span class="attr">xp</span>: xp,</div><div class="line">            <span class="attr">forNext</span>: l === cap ? <span class="literal">Infinity</span> : forNext,</div><div class="line">            <span class="attr">toNext</span>: l === cap ? <span class="literal">Infinity</span> : forNext - xp</div><div class="line">        &#125;;</div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        <span class="comment">// use getXP method and then pass that to parseXP for utils.XP.parseByLevel</span></div><div class="line">        parseByLevel: <span class="function"><span class="keyword">function</span> (<span class="params">l, cap, deltaNext</span>) </span>&#123;</div><div class="line">            <span class="keyword">return</span> parseByXP(getXP(l, deltaNext), cap, deltaNext);</div><div class="line">        &#125;,</div><div class="line">        <span class="comment">// can just directly use parseByXP for utils.XP.parseByXP</span></div><div class="line">        parseByXP: parseByXP</div><div class="line">    &#125;;</div><div class="line">&#125;</div><div class="line">    ());</div></pre></td></tr></table></figure>
<h3 id="1-17-Create-state-machine-objects"><a href="#1-17-Create-state-machine-objects" class="headerlink" title="1.17 - Create state machine objects"></a>1.17 - Create state machine objects</h3><p>In my canvas example on what I am just calling an Orb Module I am working out a lot of logic that has to do with these objects called orbs that are composed of a certain number of elements. I will not be getting into detail about he module here of course if you want to read more on it check out the post I wrote on it. However in the project folder of the orbs module I am starting to make a full game prototype that makes use of the module called orb match. As such when it comes to the utils library I am using in that game prototype I have started a bunch of methods that can be used to create and extend a basic state machine.</p>
<p>When it comes to using these methods the first thing I would wan to to is create a state machine object, for this I have two methods actually. One of which can be used to create a main state machine object that would be used in a main javaScript file. This main state machine object contains the main app loop, and has a number of other features that are appropriate for such a main state machine object. The other method can be used to create and return a far more minimal form of this kind of state machine object. This more minimal from of state machine object is what I have been using in various game logic modules as a way to go about creating sub states within a state.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// create a minamal sm object ( For setting up a nested sm object, and the base of a main sm object )</span></div><div class="line">utils.smCreateMin = <span class="function"><span class="keyword">function</span>(<span class="params">opt</span>)</span>&#123;</div><div class="line">    opt = opt || &#123;&#125;;</div><div class="line">    <span class="comment">// return a base sm object</span></div><div class="line">    <span class="keyword">var</span> sm = &#123;</div><div class="line">        <span class="attr">currentState</span>: opt.currentState || <span class="string">''</span>,</div><div class="line">        <span class="attr">states</span>: opt.states || &#123;&#125;,</div><div class="line">        <span class="attr">events</span>: opt.events || &#123;&#125;</div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">return</span> sm;</div><div class="line">&#125;;</div><div class="line"><span class="comment">// create the main sm object</span></div><div class="line">utils.smCreateMain = <span class="function"><span class="keyword">function</span>(<span class="params">opt</span>)</span>&#123;</div><div class="line">    opt = opt || &#123;&#125;;</div><div class="line">    <span class="comment">// create base sm object</span></div><div class="line">    <span class="keyword">var</span> sm = utils.smCreateMin(opt);</div><div class="line">    <span class="comment">// values that can be set by options</span></div><div class="line">    sm.ver = opt.ver || <span class="string">''</span>;</div><div class="line">    sm.game = opt.game || &#123;&#125;;</div><div class="line">    sm.fps = sm.fps === <span class="literal">undefined</span> ? <span class="number">30</span> : opt.fps;</div><div class="line">    sm.canvasObj = opt.canvasObj || utils.createCanvas(&#123;</div><div class="line">        <span class="attr">width</span>: <span class="number">640</span>,</div><div class="line">        <span class="attr">height</span>: <span class="number">480</span>,</div><div class="line">        <span class="attr">container</span>: <span class="built_in">document</span>.getElementById(<span class="string">'canvas-app'</span>)</div><div class="line">    &#125;);</div><div class="line">    sm.debugMode = opt.debugMode || <span class="literal">false</span>;</div><div class="line">    <span class="comment">// value that should not be set by options</span></div><div class="line">    sm.secs = <span class="number">0</span>;</div><div class="line">    sm.stopLoop = <span class="literal">false</span>;</div><div class="line">    sm.lt = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">    <span class="comment">// events</span></div><div class="line">    sm.events = &#123;</div><div class="line">        <span class="attr">pointerStart</span>: <span class="function"><span class="keyword">function</span> (<span class="params">e, pos, sm</span>) </span>&#123;</div><div class="line">            <span class="keyword">var</span> handler = sm.states[sm.currentState].events.pointerStart;</div><div class="line">            <span class="keyword">if</span>(handler)&#123;</div><div class="line">                handler.call(sm, e, pos, sm);</div><div class="line">            &#125;</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">pointerMove</span>: <span class="function"><span class="keyword">function</span> (<span class="params">e, pos, sm</span>) </span>&#123;</div><div class="line">            <span class="keyword">var</span> handler = sm.states[sm.currentState].events.pointerMove;</div><div class="line">            <span class="keyword">if</span>(handler)&#123;</div><div class="line">                handler.call(sm, e, pos, sm);</div><div class="line">            &#125;</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">pointerEnd</span>: <span class="function"><span class="keyword">function</span> (<span class="params">e, pos, sm</span>) </span>&#123;</div><div class="line">            <span class="keyword">var</span> handler = sm.states[sm.currentState].events.pointerEnd;</div><div class="line">            <span class="keyword">if</span>(handler)&#123;</div><div class="line">                handler.call(sm, e, pos, sm);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    utils.canvasPointerEvents(sm.canvasObj.canvas, sm, sm.events);</div><div class="line">    <span class="comment">// main loop</span></div><div class="line">    sm.loop = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">        sm.secs = (now - sm.lt) / <span class="number">1000</span>,</div><div class="line">        state = sm.states[sm.currentState];</div><div class="line">        <span class="keyword">if</span> (sm.secs &gt;= <span class="number">1</span> / sm.fps) &#123;</div><div class="line">            <span class="comment">// update</span></div><div class="line">            <span class="keyword">var</span> update = state.update;</div><div class="line">            <span class="keyword">if</span>(update)&#123;</div><div class="line">                update.call(sm, sm, sm.secs);</div><div class="line">            &#125;</div><div class="line">            <span class="comment">// draw</span></div><div class="line">            <span class="keyword">var</span> ctx = sm.canvasObj.ctx,</div><div class="line">            canvas = sm.canvasObj.canvas;</div><div class="line">            <span class="keyword">var</span> drawHook = state.draw;</div><div class="line">            <span class="keyword">if</span>(drawHook)&#123;</div><div class="line">                drawHook.call(sm, sm, ctx, canvas);</div><div class="line">            &#125;</div><div class="line">            sm.lt = now;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// if sm.stopLoop === false, then keep looping</span></div><div class="line">        <span class="keyword">if</span>(!sm.stopLoop)&#123;</div><div class="line">            requestAnimationFrame(sm.loop);</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// stop loop on any page error</span></div><div class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">'error'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">        <span class="keyword">if</span>(sm.debugMode)&#123;</div><div class="line">            sm.stopLoop = <span class="literal">true</span>;</div><div class="line">            <span class="built_in">console</span>.log(<span class="string">'error: '</span> + e.message);</div><div class="line">            <span class="built_in">console</span>.log(e);</div><div class="line">            <span class="built_in">console</span>.log(<span class="string">'loop stoped'</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">    <span class="keyword">return</span> sm;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="1-18-Push-a-new-state-object-to-a-state-machine-object"><a href="#1-18-Push-a-new-state-object-to-a-state-machine-object" class="headerlink" title="1.18 - Push a new state object to a state machine object"></a>1.18 - Push a new state object to a state machine object</h3><p>I then have a utils method that I can use as a standard way to go about pushing state objects to a state machine object create with one of the create methods. For now this method is just used as a way to fill in blanks, but there may be a need to set up a few other things if I put more time into this.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// push a new state object</span></div><div class="line">utils.smPushState = <span class="function"><span class="keyword">function</span>(<span class="params">sm, opt</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> state = &#123;</div><div class="line">        <span class="attr">name</span>: opt.name || <span class="string">'state_'</span> + <span class="built_in">Object</span>.keys(sm.states).length</div><div class="line">    &#125;;</div><div class="line">    state.buttons = opt.buttons || &#123;&#125;;</div><div class="line">    state.start = opt.start || <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</div><div class="line">    state.end = opt.end || <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</div><div class="line">    state.update = opt.update || <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</div><div class="line">    state.draw = opt.draw || <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</div><div class="line">    state.events = opt.events || &#123;&#125;;</div><div class="line">    sm.states[state.name] = state;</div><div class="line">    <span class="keyword">return</span> state;</div><div class="line"></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="1-19-Set-the-current-state"><a href="#1-19-Set-the-current-state" class="headerlink" title="1.19 - Set the current state"></a>1.19 - Set the current state</h3><p>I have a method that I can use to set the current state object to use in the states object of a sm object. By using this method rather than just setting the current state string value, and end and start hook methods will be called.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// set the current state</span></div><div class="line">utils.smSetState = <span class="function"><span class="keyword">function</span>(<span class="params">sm, newState</span>)</span>&#123;</div><div class="line">    <span class="comment">// get a ref to the old state</span></div><div class="line">    <span class="keyword">var</span> oldState = sm.states[sm.currentState];</div><div class="line">    <span class="comment">// call the on end hook for the old state if it has one</span></div><div class="line">    <span class="keyword">var</span> endHook = oldState.end;</div><div class="line">    <span class="keyword">if</span>(endHook)&#123;</div><div class="line">        endHook.call(sm, sm);</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// change to the new state, and call the start hook it it has one</span></div><div class="line">    sm.currentState = newState;</div><div class="line">    <span class="keyword">var</span> newState = sm.states[sm.currentState];</div><div class="line">    <span class="keyword">var</span> startHook = newState.start;</div><div class="line">    <span class="keyword">if</span>(startHook)&#123;</div><div class="line">        startHook.call(sm, sm);</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="2-Demos-of-the-utils-module"><a href="#2-Demos-of-the-utils-module" class="headerlink" title="2 - Demos of the utils module"></a>2 - Demos of the utils module</h2><p>In this section I have some quick demos of this utility module just for the sake of having some use case examples of the methods in the module. These demos are just some quick code examples that I put together for the sake of this post alone, that make use of this rendition of a generic utility module. For some real project examples that make use of a utility module such as this you might want to check out my <a href="/2020/03/23/canvas-example/">canvas examples</a>. Many of my canvas examples will feature a module like the one I am using in this post, but what is it it will very from one project to the next.</p>
<h3 id="2-1-Using-the-create-canvas-method"><a href="#2-1-Using-the-create-canvas-method" class="headerlink" title="2.1 - Using the create canvas method"></a>2.1 - Using the create canvas method</h3><p>Many of my projects will involve the use of one or more canvas elements. ALthough it may be best to go with some kind of canvas library when it comes to doing things from the ground up I am going to want to have something that will serve as at least some kind of crude starting point for what might eventuality be some kind of canvas module. When it comes to a serious protect the process of creating a canvas element is not always so simple, often I might want to create a canvas element that I will be drawing to and will need to be appended to the hard coded html. however in some cases I might want to use a canvas element to create a sprite sheet that was created by way of some javaScript code, and I want to use the canvas element as an image source to which I will then draw from to another canvas element, in that case I would want to not append such an canvas element to the hard coded html. However when it comes to just creating a simple game prototype of one kind or another I may not ever get to the point where I need to worry about these things. So A simple create canvas method that just created ans appends a single canvas element with everything set up just the way that I like it will work just fine.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>javaScript example utils<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"canvas-app"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../lib/utils.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="comment">// using the utils.createCanvas method to create a canvasObj</span></div><div class="line"><span class="comment">// with a canvas, and ctx ref</span></div><div class="line"><span class="keyword">var</span> canvasObj = utils.createCanvas(),</div><div class="line">canvas = canvasObj.canvas,</div><div class="line">ctx = canvasObj.ctx</div><div class="line"><span class="comment">// solid black background</span></div><div class="line">ctx.fillStyle = <span class="string">'black'</span>;</div><div class="line">ctx.fillRect(<span class="number">0</span>,<span class="number">0</span>,canvas.width, canvas.height);</div><div class="line"><span class="comment">// some text</span></div><div class="line">ctx.fillStyle = <span class="string">'white'</span>;</div><div class="line">ctx.textBaseline = <span class="string">'middle'</span>;</div><div class="line">ctx.textAlign = <span class="string">'center'</span>;</div><div class="line">ctx.font = <span class="string">'40px arial'</span>;</div><div class="line">ctx.fillText(<span class="string">'Hello World'</span>, canvas.width / <span class="number">2</span>, canvas.height / <span class="number">2</span>);</div><div class="line"></div><div class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="2-2-Get-canvas-relative-demo"><a href="#2-2-Get-canvas-relative-demo" class="headerlink" title="2.2 - Get canvas relative demo"></a>2.2 - Get canvas relative demo</h3><p>Canvas elements are great not just for the sake of drawing to it by way of a little javaScript code that just runs but dos not do anything with user input. What is really cool about canvas is that it is not just a means of drawing to the screen, it is also a means by which a user can interact with a screen. In this example I ma making use of the get canvas relative method of the utils module to get a canvas rather than window relative pointer position. I am then just using that position to set the position of a circle.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line">&lt;html&gt;</div><div class="line">    &lt;head&gt;</div><div class="line">        &lt;title&gt;javaScript example utils&lt;/title&gt;</div><div class="line">    &lt;/head&gt;</div><div class="line">    &lt;body&gt;</div><div class="line">        &lt;div id="canvas-app"&gt;&lt;/div&gt;</div><div class="line">        &lt;script src="../lib/utils.js"&gt;&lt;/script&gt;</div><div class="line">        &lt;script&gt;</div><div class="line">// using the utils.createCanvas method</div><div class="line">var canvasObj = utils.createCanvas(),</div><div class="line">canvas = canvasObj.canvas,</div><div class="line">ctx = canvasObj.ctx,</div><div class="line">circle = &#123;</div><div class="line">  x: 160,</div><div class="line">  y: 120,</div><div class="line">  r: 16</div><div class="line">&#125;;</div><div class="line">// draw method</div><div class="line">var draw = function()&#123;</div><div class="line">    // solid black background</div><div class="line">    ctx.fillStyle = 'black';</div><div class="line">    ctx.fillRect(0,0,canvas.width, canvas.height);</div><div class="line">    // the circle</div><div class="line">    ctx.fillStyle = 'red';</div><div class="line">    ctx.beginPath();</div><div class="line">    ctx.arc(circle.x, circle.y, circle.r, 0, Math.PI * 2);</div><div class="line">    ctx.fill();</div><div class="line">&#125;;</div><div class="line">// attaching an event</div><div class="line">canvas.addEventListener('click', function(e)&#123;</div><div class="line">   // using the utils.getCanvasRelative method to get the position of the click</div><div class="line">   var pos = utils.getCanvasRelative(e);</div><div class="line">   // setting the position of the circle to the position of the click</div><div class="line">   circle.x = pos.x;</div><div class="line">   circle.y = pos.y;</div><div class="line">   draw();</div><div class="line">&#125;);</div><div class="line">draw();</div><div class="line">        &lt;/script&gt;</div><div class="line">    &lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<h3 id="2-3-Bounding-box-collision-detection-demo"><a href="#2-3-Bounding-box-collision-detection-demo" class="headerlink" title="2.3 - Bounding box collision detection demo"></a>2.3 - Bounding box collision detection demo</h3><p>In all kinds of various projects I will want to make use of bounding box collision detection. Say I have two box areas on of which represents a shot from a gun, and the other represents some kind of enemy unit. If the shot object is fired from a player controlled unit I will want to know if the shot has hit an enemy unit or not, one way to fin out would be to use bounding box. In this example I am not going to do anything that advanced, but this is a simple example where I am using the bounding box method to set the color of box objects that over lap to a certain color.</p>
<p>For this example I have a create box helper function that will create and return an object that contains properties like x, y, width , and height. these are the properties that I need to find out if two areas over lap or not when calling this bounding box method. I then also have a get overlapping helper method that will use the <a href="/2021/07/13/js-array-reduce/">array reduce</a> method to return an array of objects from an array of objects that overlay a given object.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>javaScript example utils<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"canvas-app"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../lib/utils.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"> </div><div class="line"><span class="keyword">var</span> createBox = <span class="function"><span class="keyword">function</span>(<span class="params">x, y, w, h</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> box = &#123;</div><div class="line">        <span class="attr">x</span>: x === <span class="literal">undefined</span> ? <span class="number">0</span>: x,</div><div class="line">        <span class="attr">y</span>: y === <span class="literal">undefined</span> ? <span class="number">0</span>: y,</div><div class="line">        <span class="attr">w</span>: w === <span class="literal">undefined</span> ? <span class="number">32</span>: w,</div><div class="line">        <span class="attr">h</span>: h === <span class="literal">undefined</span> ? <span class="number">32</span>: h,</div><div class="line">        <span class="attr">color</span>: <span class="string">'lime'</span></div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">return</span> box;</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="keyword">var</span> getOverlaping = <span class="function"><span class="keyword">function</span>(<span class="params">boxArr, a</span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> boxArr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">acc, b</span>)</span>&#123;</div><div class="line">        <span class="keyword">if</span>(a === b)&#123;</div><div class="line">            <span class="keyword">return</span> acc;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(utils.boundingBox(a.x, a.y, a.w, a.h, b.x, b.y, b.w, b.h))&#123;</div><div class="line">            acc.push(b);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> acc;</div><div class="line">    &#125;, []);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// using the utils.createCanvas method</span></div><div class="line"><span class="keyword">var</span> canvasObj = utils.createCanvas(),</div><div class="line">canvas = canvasObj.canvas,</div><div class="line">ctx = canvasObj.ctx,</div><div class="line">boxArr = [];</div><div class="line"> </div><div class="line">boxArr.push(createBox(<span class="number">12</span>, <span class="number">17</span>));</div><div class="line">boxArr.push(createBox(<span class="number">22</span>, <span class="number">35</span>));</div><div class="line">boxArr.push(createBox(<span class="number">147</span>, <span class="number">85</span>));</div><div class="line">boxArr.push(createBox(<span class="number">87</span>, <span class="number">105</span>));</div><div class="line"> </div><div class="line"><span class="comment">// set color of overlapping box objects to red</span></div><div class="line">boxArr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;</div><div class="line">    getOverlaping(boxArr, a).forEach(<span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;</div><div class="line">        b.color = <span class="string">'red'</span></div><div class="line">    &#125;)</div><div class="line">&#125;);</div><div class="line"> </div><div class="line"><span class="comment">// draw method</span></div><div class="line"><span class="keyword">var</span> draw = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">// solid black background</span></div><div class="line">    ctx.fillStyle = <span class="string">'black'</span>;</div><div class="line">    ctx.fillRect(<span class="number">0</span>,<span class="number">0</span>,canvas.width, canvas.height);</div><div class="line">    <span class="comment">// the circle</span></div><div class="line">    boxArr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">box</span>)</span>&#123;</div><div class="line">        ctx.fillStyle = box.color;</div><div class="line">        ctx.beginPath();</div><div class="line">        ctx.rect(box.x, box.y, box.w, box.h);</div><div class="line">        ctx.fill();</div><div class="line">        ctx.stroke();</div><div class="line">    &#125;);</div><div class="line">&#125;;</div><div class="line">draw();</div><div class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="2-3-distance-method-example"><a href="#2-3-distance-method-example" class="headerlink" title="2.3 - distance method example"></a>2.3 - distance method example</h3><p>The distance method is a usual suspect method that I will want to have in some kind of module if not a general utilities module such as this. The method just comes into play with all kinds of things, for example it can be used as a way to go about implanting a from of collision detection. In this demo of the module I will be using the distance method to do just this. Here in this example I am using the distance method as a way to go about fining out if a canvas relative pointer position is withing, or outside of the radius of a given circle.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>javaScript example utils<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"canvas-app"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../lib/utils.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="comment">// using the utils.createCanvas method to create a canvasObj</span></div><div class="line"><span class="comment">// with a canvas, and ctx ref</span></div><div class="line"><span class="keyword">var</span> canvasObj = utils.createCanvas(),</div><div class="line">canvas = canvasObj.canvas,</div><div class="line">ctx = canvasObj.ctx,</div><div class="line">circle = &#123;</div><div class="line">  <span class="attr">x</span>: <span class="number">160</span>,</div><div class="line">  <span class="attr">y</span>: <span class="number">120</span>,</div><div class="line">  <span class="attr">r</span>: <span class="number">64</span>,</div><div class="line">  <span class="attr">colorIndex</span>: <span class="number">1</span>,</div><div class="line">  <span class="attr">colors</span>: [<span class="string">'red'</span>, <span class="string">'green'</span>, <span class="string">'blue'</span>]</div><div class="line">&#125;;</div><div class="line"><span class="comment">// draw method</span></div><div class="line"><span class="keyword">var</span> draw = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">// solid black background</span></div><div class="line">    ctx.fillStyle = <span class="string">'black'</span>;</div><div class="line">    ctx.fillRect(<span class="number">0</span>,<span class="number">0</span>,canvas.width, canvas.height);</div><div class="line">    <span class="comment">// the circle</span></div><div class="line">    ctx.fillStyle = circle.colors[circle.colorIndex];</div><div class="line">    ctx.beginPath();</div><div class="line">    ctx.arc(circle.x, circle.y, circle.r, <span class="number">0</span>, <span class="built_in">Math</span>.PI * <span class="number">2</span>);</div><div class="line">    ctx.fill();</div><div class="line">&#125;;</div><div class="line"><span class="comment">// attaching an event</span></div><div class="line">canvas.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">   <span class="comment">// using the utils.getCanvasRelative method to get the position of the click</span></div><div class="line">   <span class="keyword">var</span> pos = utils.getCanvasRelative(e);</div><div class="line">   <span class="comment">// using utils.distance to get the distance between the click position and the center if the circle</span></div><div class="line">   <span class="keyword">var</span> d = utils.distance(circle.x, circle.y, pos.x, pos.y);</div><div class="line">   <span class="comment">// if distance is less than or equal to circle radius step color index</span></div><div class="line">   <span class="keyword">if</span>(d &lt;= circle.r)&#123;</div><div class="line">      circle.colorIndex -= <span class="number">1</span>;</div><div class="line">      <span class="comment">// using utils.mod to wrap color index value</span></div><div class="line">      circle.colorIndex = utils.mod(circle.colorIndex, circle.colors.length);</div><div class="line">   &#125;</div><div class="line">   draw();</div><div class="line">&#125;);</div><div class="line">draw();</div><div class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="2-4-Pointer-events-example"><a href="#2-4-Pointer-events-example" class="headerlink" title="2.4 - Pointer events example"></a>2.4 - Pointer events example</h3><p>On top of the create canvas method of the utils module there are also a number of other methods that I have that are closely related to using canvas elements. I covered some example that make use of the create canvas element, as well as the get canvas relative method. However I have also found that it is nice to have a few more methods that have to do with creating a kind of standard when it comes to handling pointer events.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>javaScript example utils<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"canvas-app"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../lib/utils.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> state = &#123;</div><div class="line">    <span class="attr">pointerDown</span>: <span class="literal">false</span>,</div><div class="line">    <span class="attr">canvasObj</span>: utils.createCanvas(),</div><div class="line">    <span class="attr">circle</span>: &#123;</div><div class="line">        <span class="attr">x</span>: <span class="number">160</span>,</div><div class="line">        <span class="attr">y</span>: <span class="number">120</span>,</div><div class="line">        <span class="attr">r</span>: <span class="number">64</span>,</div><div class="line">        <span class="attr">active</span>: <span class="literal">false</span>,</div><div class="line">        <span class="attr">colorIndex</span>: <span class="number">1</span>,</div><div class="line">        <span class="attr">colors</span>: [<span class="string">'yellow'</span>, <span class="string">'green'</span>, <span class="string">'blue'</span>]</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"><span class="comment">/*</span></div><div class="line">var canvas = state.canvasObj.canvas,</div><div class="line">ctx = state.canvasObj.ctx,</div><div class="line">circle = state.circle;</div><div class="line">*/</div><div class="line"></div><div class="line"><span class="comment">// draw method</span></div><div class="line"><span class="keyword">var</span> draw = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> ctx = state.canvasObj.ctx,</div><div class="line">    canvas = state.canvasObj.canvas,</div><div class="line">    circle = state.circle;</div><div class="line">    <span class="comment">// solid black background</span></div><div class="line">    ctx.fillStyle = <span class="string">'black'</span>;</div><div class="line">    ctx.fillRect(<span class="number">0</span>,<span class="number">0</span>,canvas.width, canvas.height);</div><div class="line">    <span class="comment">// the circle</span></div><div class="line">    ctx.fillStyle = circle.colors[circle.colorIndex];</div><div class="line">    ctx.beginPath();</div><div class="line">    ctx.arc(circle.x, circle.y, circle.r, <span class="number">0</span>, <span class="built_in">Math</span>.PI * <span class="number">2</span>);</div><div class="line">    ctx.fill();</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> events = &#123;</div><div class="line">    <span class="attr">pointerStart</span>: <span class="function"><span class="keyword">function</span>(<span class="params">e, pos, state</span>)</span>&#123;</div><div class="line">       <span class="keyword">var</span> d = utils.distance(state.circle.x, state.circle.y, pos.x, pos.y);</div><div class="line">       state.pointerDown = <span class="literal">true</span>;</div><div class="line">       <span class="comment">// if distance is less than or equal to circle radius step color index</span></div><div class="line">       <span class="keyword">if</span>(d &lt;= state.circle.r)&#123;</div><div class="line">           state.circle.active = <span class="literal">true</span>;</div><div class="line">        &#125;</div><div class="line">        draw();</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">pointerMove</span>: <span class="function"><span class="keyword">function</span>(<span class="params">e, pos, state</span>)</span>&#123;</div><div class="line">        <span class="keyword">if</span>(state.pointerDown &amp;&amp; state.circle.active === <span class="literal">true</span>)&#123;</div><div class="line">            state.circle.x = pos.x;</div><div class="line">            state.circle.y = pos.y;</div><div class="line">        &#125;</div><div class="line">        draw();</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">pointerEnd</span>: <span class="function"><span class="keyword">function</span>(<span class="params">e, pos, state</span>)</span>&#123;</div><div class="line">        state.pointerDown = <span class="literal">false</span>;</div><div class="line">        state.circle.active = <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">utils.canvasPointerEvents(state.canvasObj.canvas, state, events);</div><div class="line">draw();</div><div class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="2-5-deep-clone-an-object-demo"><a href="#2-5-deep-clone-an-object-demo" class="headerlink" title="2.5 - deep clone an object demo"></a>2.5 - deep clone an object demo</h3><p>The deep clone method seems to work pkay when I play around with it a little.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>javaScript example utils<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../lib/utils.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"> </div><div class="line"><span class="keyword">var</span> a = &#123;</div><div class="line">  <span class="attr">pos</span>: &#123;<span class="attr">x</span>: <span class="number">5</span>, <span class="attr">y</span>: <span class="number">3</span>&#125;,</div><div class="line">  <span class="attr">lt</span>: <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">1000</span>),</div><div class="line">  <span class="attr">nums</span>: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</div><div class="line">&#125;;</div><div class="line">a.cir = a;</div><div class="line"> </div><div class="line"><span class="keyword">var</span> b = utils.deepClone(a);</div><div class="line"> </div><div class="line"><span class="comment">// mutating a</span></div><div class="line">a.pos.x = <span class="number">0</span>;</div><div class="line">a.lt = <span class="literal">null</span>;</div><div class="line">a.nums[<span class="number">0</span>] = <span class="literal">null</span>;</div><div class="line"> </div><div class="line"><span class="comment">// mutating a does not effect b</span></div><div class="line"><span class="built_in">console</span>.log(a.pos.x, b.pos.x);     <span class="comment">// 0 5</span></div><div class="line"><span class="built_in">console</span>.log(a.nums, b.nums);       <span class="comment">// [null, 2, 3, 4] [1, 2, 3, 4]</span></div><div class="line"><span class="built_in">console</span>.log(a.lt, b.lt.getTime()); <span class="comment">// null, 1000</span></div><div class="line"> </div><div class="line"><span class="comment">// circular ref now refers to new object</span></div><div class="line"><span class="built_in">console</span>.log(b.cir === a.cir); <span class="comment">// false</span></div><div class="line"><span class="built_in">console</span>.log(b.cir === b.cir); <span class="comment">// true</span></div><div class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="2-6-logging-demo"><a href="#2-6-logging-demo" class="headerlink" title="2.6 - logging demo"></a>2.6 - logging demo</h3><p>In this demo I am just testing out my logging methods, and they seem to work just fine. When debugging some code the log for method will come in handy a whole lot of times as I just want something to be logged for a given condition. For example say I have some weird bug where an hp value for a display object goes out of range some times.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>javaScript example utils<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../lib/utils.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"> </div><div class="line"><span class="comment">// utils.log</span></div><div class="line">utils.log(<span class="string">'hello world'</span>);</div><div class="line"> </div><div class="line"><span class="comment">// basic utils.logOnce example</span></div><div class="line"><span class="keyword">var</span> i = <span class="number">15</span>;</div><div class="line"><span class="keyword">while</span>(i--)&#123;</div><div class="line">    utils.logOnce(<span class="string">'hello '</span> + i);</div><div class="line">&#125;</div><div class="line"><span class="comment">// hello 14</span></div><div class="line"> </div><div class="line"><span class="keyword">var</span> pool = [</div><div class="line">    &#123;<span class="attr">hp</span>: <span class="number">10</span>, <span class="attr">hpMax</span>: <span class="number">10</span>&#125;,</div><div class="line">    &#123;<span class="attr">hp</span>: <span class="number">-3</span>, <span class="attr">hpMax</span>: <span class="number">10</span>&#125;,</div><div class="line">    &#123;<span class="attr">hp</span>: <span class="number">7</span>, <span class="attr">hpMax</span>: <span class="number">10</span>&#125;,</div><div class="line">    &#123;<span class="attr">hp</span>: <span class="number">15</span>, <span class="attr">hpMax</span>: <span class="number">10</span>&#125;,</div><div class="line">];</div><div class="line"> </div><div class="line">pool.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">obj</span>)</span>&#123;</div><div class="line">    utils.logFor(obj, obj.hp &lt; <span class="number">0</span> || obj.hp &gt; obj.hpMax );</div><div class="line">&#125;);</div><div class="line"><span class="comment">// &#123;hp: -3, hpMax: 10&#125;</span></div><div class="line"><span class="comment">// &#123;hp: 15, hpMax: 10&#125;</span></div><div class="line"> </div><div class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="3-Conclusion"><a href="#3-Conclusion" class="headerlink" title="3 - Conclusion"></a>3 - Conclusion</h2><p>This is not the end all solution for this kind of module of course, in practice this kind of module will change from one project to another. Also the idea here is to just have a temporary dumping ground for methods that should ultimately be placed in a module that is not so generic. For example that canvas methods in this utils module might end up in a whole other module that has to do with creating and working with one or more canvas elements, and not much of anything else. This distance, and bounding box methods might end up being static methods in a module that is some kind of display object pool module maybe. However often I still end up with a few odd ball methods that I just do not know where to go with, so I place them in a module like this.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dustinpfister.github.io/2021/08/06/js-javascript-example-utils/" data-id="cleu7st9y00wnecv15nlndquj" class="article-share-link">Share</a>
      
        <a href="https://dustinpfister.github.io/2021/08/06/js-javascript-example-utils/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2021/08/13/js-javascript-example-idle-game-wild-plant-grid/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          JavaScript While Plant Grid idle game prototype example
        
      </div>
    </a>
  
  
    <a href="/2021/07/30/js-function-one-to-one/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">One to one functions in javaScript</div>
    </a>
  
</nav>

  
</article>



<section id="comments">

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://dustinpfister.github.io/2021/08/06/js-javascript-example-utils/index.html';
    this.page.identifier = '923';
    this.page.title = 'JavaScript general utility module example';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://dustinpfister-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular/">angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/api/">api</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/backbone/">backbone</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/discovery/">discovery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/electronjs/">electronjs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/games/">games</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/grunt/">grunt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hapi/">hapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/heroku/">heroku</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jquery/">jquery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lodash/">lodash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node-js/">node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/phaser/">phaser</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/statistics/">statistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/three-js/">three.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backbone/">backbone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/corejs/">corejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deterministic/">deterministic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discovery/">discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejs/">ejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/electronjs/">electronjs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hapi/">hapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jimp/">jimp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js13k/">js13k</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/structured-data/">structured-data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/themes/">themes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three-js/">three.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JSON/" style="font-size: 12.27px;">JSON</a> <a href="/tags/SEO/" style="font-size: 10.45px;">SEO</a> <a href="/tags/angular/" style="font-size: 13.18px;">angular</a> <a href="/tags/animation/" style="font-size: 11.82px;">animation</a> <a href="/tags/automation/" style="font-size: 11.82px;">automation</a> <a href="/tags/backbone/" style="font-size: 12.27px;">backbone</a> <a href="/tags/blog/" style="font-size: 15.45px;">blog</a> <a href="/tags/canvas/" style="font-size: 18.64px;">canvas</a> <a href="/tags/corejs/" style="font-size: 12.73px;">corejs</a> <a href="/tags/deterministic/" style="font-size: 10px;">deterministic</a> <a href="/tags/discovery/" style="font-size: 10.91px;">discovery</a> <a href="/tags/ejs/" style="font-size: 11.36px;">ejs</a> <a href="/tags/electronjs/" style="font-size: 13.64px;">electronjs</a> <a href="/tags/express/" style="font-size: 16.82px;">express</a> <a href="/tags/games/" style="font-size: 17.27px;">games</a> <a href="/tags/git/" style="font-size: 12.73px;">git</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hapi/" style="font-size: 15px;">hapi</a> <a href="/tags/heroku/" style="font-size: 11.82px;">heroku</a> <a href="/tags/hexo/" style="font-size: 14.55px;">hexo</a> <a href="/tags/jimp/" style="font-size: 10.45px;">jimp</a> <a href="/tags/jquery/" style="font-size: 11.36px;">jquery</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/js13k/" style="font-size: 10px;">js13k</a> <a href="/tags/linux/" style="font-size: 17.73px;">linux</a> <a href="/tags/lodash/" style="font-size: 18.64px;">lodash</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mongodb/" style="font-size: 14.55px;">mongodb</a> <a href="/tags/node-js/" style="font-size: 19.55px;">node.js</a> <a href="/tags/phaser/" style="font-size: 18.18px;">phaser</a> <a href="/tags/python/" style="font-size: 15.91px;">python</a> <a href="/tags/statistics/" style="font-size: 14.09px;">statistics</a> <a href="/tags/structured-data/" style="font-size: 10px;">structured-data</a> <a href="/tags/themes/" style="font-size: 10px;">themes</a> <a href="/tags/three-js/" style="font-size: 19.09px;">three.js</a> <a href="/tags/vuejs/" style="font-size: 16.36px;">vuejs</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/03/03/threejs-examples-breath-module/">A Breath Module threejs project example</a>
          </li>
        
          <li>
            <a href="/2023/02/23/threejs-points/">Points in threejs</a>
          </li>
        
          <li>
            <a href="/2023/02/17/threejs-examples-tracks/">Train Track threejs module project example</a>
          </li>
        
          <li>
            <a href="/2023/02/10/threejs-curves-cubicbeziercurve3/">Cubic Bezier Curves in threejs</a>
          </li>
        
          <li>
            <a href="/2023/02/03/threejs-buffer-geometry-morph-attributes/">Morph Attributes of buffer geometry objects</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2023 Dustin Pfister<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      <br>
      <a href="/privacy.html" target="_blank">Privacy Policy</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/2021/02/19/threejs-examples/" class="mobile-nav-link">ThreeJS</a>
  
    <a href="/2020/03/23/canvas-example/" class="mobile-nav-link">Canvas</a>
  
    <a href="https://www.youtube.com/user/javaweaver" class="mobile-nav-link">Youtube</a>
  
    <a href="https://github.com/dustinpfister" class="mobile-nav-link">Github</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'dustinpfister-github-io';
  
  var disqus_url = 'https://dustinpfister.github.io/2021/08/06/js-javascript-example-utils/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


  </div>
</body>
</html>