<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <!-- disqus image-->
  <meta property="og:image" content="https://dustinpfister.github.io/css/images/banner.jpg">
  
  <title>Canvas Module JavaScript example | Dustin John Pfister at github pages</title>
  
  <!-- no index tag or blank here -->
  
  
  <link rel="canonical" href="https://dustinpfister.github.io/2021/08/27/js-javascript-example-canvas-module/" />

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Many of my projects that I make involve working with canvas elements, and I also like to make vanilla javaScript projects where most if not all of the code is my own. Still I would like to stop making">
<meta property="og:type" content="article">
<meta property="og:title" content="Canvas Module JavaScript example">
<meta property="og:url" content="https://dustinpfister.github.io/2021/08/27/js-javascript-example-canvas-module/index.html">
<meta property="og:site_name" content="Dustin John Pfister at github pages">
<meta property="og:description" content="Many of my projects that I make involve working with canvas elements, and I also like to make vanilla javaScript projects where most if not all of the code is my own. Still I would like to stop making">
<meta property="og:updated_time" content="2021-11-19T20:17:32.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Canvas Module JavaScript example">
<meta name="twitter:description" content="Many of my projects that I make involve working with canvas elements, and I also like to make vanilla javaScript projects where most if not all of the code is my own. Still I would like to stop making">
  
    <link rel="alternate" href="/atom.xml" title="Dustin John Pfister at github pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-83195184-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  <!-- structured data set in structured-data.ejs -->
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "email": "distin.pfister@gmail.com",
    "givenName": "Dustin",
    "familyName" : "Pfister",
    "additionalName": "John",
    "name": "Dustin John Pfister",
    "gender": "Male"
}
</script>
<!-- end structured data -->
  
  <!-- adsense if indexed -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1658284027672315",
    enable_page_level_ads: true
  });
  </script>
  
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <!-- added the image-->
        <div class="selfimage"></div>
        <!--<a href="/" id="logo">Dustin John Pfister at github pages</a>-->
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/2020/03/23/canvas-example/">Canvas-Examples</a>
        
          <a class="main-nav-link" href="https://github.com/dustinpfister">Github</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <!-- removed rss link-->
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dustinpfister.github.io"></form>
      </div>
    </div>
  </div>
</header>

<!-- adding my canvas thing ( Dustin ) -->
<script src="/js/the_matrix.js"></script>
      <div class="outer">
        <section id="main"><article itemscope itemtype="http://schema.org/Blog" id="post-js-javascript-example-canvas-module" class="article article-type-post" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/08/27/js-javascript-example-canvas-module/" class="article-date"> Published:
  <time datetime="2021-08-27T19:06:00.000Z" itemprop="datePublished">2021-08-27</time>
</a>

    <!-- other info (dustin) -->
    <a href="/2021/08/27/js-javascript-example-canvas-module/" class="article-date"> Modified:
  <time datetime="2021-11-19T20:17:32.000Z" itemprop="dateModified">2021-11-19</time>
</a>

    <span class="article-date">V1.33</span>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/js/">js</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Canvas Module JavaScript example
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="text">
      
        <p>Many of my projects that I make involve working with canvas elements, and I also like to make vanilla javaScript projects where most if not all of the code is my own. Still I would like to stop making everything all over again each time I start a new project, so in todays <a href="/2021/04/02/js-javascript-example/">JavaScript example</a> post I will be going over a kind of canvas module that so far works okay for what I want to use such a module for.</p>
<p>There are at least a few basic features that a canvas module should have and one of them is to create and return not just one canvas element, but a collection of canvas elements. So the main create method of the canvas module should have an array of canvas elements as one of the properties. There should also be some additional features that have to do with attaching pointer event handers to at least one of the container of the canvas elements, or one of the canvas elements. There are a whole bunch of other features that might be a good idea also, for example one of my <a href="/2021/04/01/js-javascript-example-draw-points/">older JavaScript examples posts was on a draw points method</a>, which I think should be adding into this kind of module.</p>
<a id="more"></a>
<h2 id="1-The-canvas-module"><a href="#1-The-canvas-module" class="headerlink" title="1 - The canvas module"></a>1 - The canvas module</h2><p>In this section I will be going over the source code of the canvas module itself before moving on to some additional code examples that make use of the module. Like many of my vanilla javaScript projects I went with a <a href="/2019/03/12/js-javascript-module/">module design</a> that packs all of the code in a single <a href="/2020/02/04/js-iife/">IIFE</a>, this might not always be the best option in all situations but for now it is still how I make my modules.</p>
<p>The canvas module is designed in a way in which I have a single private object called FEATURES inside the body of the IIFE. This FEATURES object contains a number of built in features for creating an array of points, and drawing to a canvas layer in a stack of layers created with the main create layer stack method of this module. Also as mentioned with the create canvas layers method there are a number of public methods, for creating an array of points, and loading additional features. So on top of the built in features there is also a load method of the canvas module that can be used to add on top of the built in features.</p>
<h3 id="1-1-The-beginning-of-the-module-and-built-in-draw-methods"><a href="#1-1-The-beginning-of-the-module-and-built-in-draw-methods" class="headerlink" title="1.1 - The beginning of the module, and built in draw methods"></a>1.1 - The beginning of the module, and built in draw methods</h3><p>At the top of the module I create the FEATURES object as just a single object with the object literal syntax. I will then be appending additional objects to the FEATURES object in the module itself for draw methods and, and methods for creating a collection of points. The first such object is the draw methods object which will contain the built in draw methods that I can use with the public draw methods of this module that I will be getting to later in this section when it comes to getting into the public methods. When it comes to the built in draw methods I have one for clearing a canvas layer, another for drawing a background, and one for drawing a collection of points created with one of the points methods in the points methods object that I will be getting to next.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">api</span>) </span>&#123;</div><div class="line"> </div><div class="line">    <span class="keyword">var</span> FEATURES = &#123;&#125;;</div><div class="line"> </div><div class="line"><span class="comment">/********* ********** *********</span></div><div class="line"> Draw Methods</div><div class="line">********** ********** *********/</div><div class="line"> </div><div class="line">    <span class="keyword">var</span> drawMethods = FEATURES.drawMethods = &#123;&#125;;</div><div class="line"> </div><div class="line">    <span class="comment">// clear a layer</span></div><div class="line">    drawMethods.clear = <span class="function"><span class="keyword">function</span>(<span class="params">stack, ctx, canvas, layerObj</span>)</span>&#123;</div><div class="line">        ctx.clearRect(<span class="number">-1</span>, <span class="number">-1</span>, canvas.width + <span class="number">1</span>, canvas.height + <span class="number">1</span>);</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="comment">// draw a background</span></div><div class="line">    drawMethods.background = <span class="function"><span class="keyword">function</span> (<span class="params">stack, ctx, canvas, layerObj, background</span>) </span>&#123;</div><div class="line">        ctx.fillStyle = background || stack.background || <span class="string">'black'</span>;</div><div class="line">        ctx.fillRect(<span class="number">0</span>, <span class="number">0</span>, canvas.width, canvas.height);</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="comment">// draw a points collection</span></div><div class="line">    drawMethods.points = <span class="function"><span class="keyword">function</span> (<span class="params">stack, ctx, canvas, layerObj, points, cx, cy, opt</span>) </span>&#123;</div><div class="line">        opt = opt || &#123;&#125;;</div><div class="line">        ctx.save();</div><div class="line">        ctx.translate(cx, cy);</div><div class="line">        points.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">pointArray</span>) </span>&#123;</div><div class="line">            <span class="keyword">var</span> len = pointArray.length,</div><div class="line">            close = opt.close === <span class="literal">undefined</span> ? <span class="literal">true</span> : opt.close,</div><div class="line">            fill = opt.fill === <span class="literal">undefined</span> ? <span class="string">'black'</span> : opt.fill,</div><div class="line">            stroke = opt.stroke === <span class="literal">undefined</span> ? <span class="string">'white'</span> : opt.stroke,</div><div class="line">            lineWidth = opt.lineWidth === <span class="literal">undefined</span> ? <span class="number">3</span> : opt.lineWidth,</div><div class="line">            el,</div><div class="line">            i = <span class="number">2</span>;</div><div class="line">            ctx.beginPath();</div><div class="line">            ctx.moveTo(pointArray[<span class="number">0</span>], pointArray[<span class="number">1</span>]);</div><div class="line">            <span class="keyword">while</span> (i &lt; len) &#123;</div><div class="line">                el = pointArray[i];</div><div class="line">                <span class="keyword">if</span> (<span class="keyword">typeof</span> el === <span class="string">'number'</span>) &#123;</div><div class="line">                    ctx.lineTo(el, pointArray[i + <span class="number">1</span>]);</div><div class="line">                    i += <span class="number">2</span>;</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    <span class="keyword">var</span> parts = el.split(<span class="string">':'</span>);</div><div class="line">                    <span class="keyword">if</span> (parts[<span class="number">0</span>] === <span class="string">'close'</span>) &#123;</div><div class="line">                        close = parts[<span class="number">1</span>] === <span class="string">'true'</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</div><div class="line">                    &#125;</div><div class="line">                    <span class="keyword">if</span> (parts[<span class="number">0</span>] === <span class="string">'stroke'</span>) &#123;</div><div class="line">                        stroke = parts[<span class="number">1</span>] || <span class="literal">false</span>;</div><div class="line">                    &#125;</div><div class="line">                    <span class="keyword">if</span> (parts[<span class="number">0</span>] === <span class="string">'fill'</span>) &#123;</div><div class="line">                        fill = parts[<span class="number">1</span>] || <span class="literal">false</span>;</div><div class="line">                    &#125;</div><div class="line">                    <span class="keyword">if</span> (parts[<span class="number">0</span>] === <span class="string">'lineWidth'</span>) &#123;</div><div class="line">                        lineWidth = parts[<span class="number">1</span>] || <span class="number">1</span>;</div><div class="line">                    &#125;</div><div class="line">                    i += <span class="number">1</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            ctx.lineWidth = lineWidth;</div><div class="line">            <span class="keyword">if</span> (close) &#123;</div><div class="line">                ctx.closePath();</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (fill) &#123;</div><div class="line">                ctx.fillStyle = fill;</div><div class="line">                ctx.fill();</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (stroke) &#123;</div><div class="line">                ctx.strokeStyle = stroke;</div><div class="line">                ctx.stroke();</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">        ctx.restore();</div><div class="line">    &#125;;</div></pre></td></tr></table></figure>
<h3 id="1-2-The-Built-in-points-method"><a href="#1-2-The-Built-in-points-method" class="headerlink" title="1.2 - The Built in points method"></a>1.2 - The Built in points method</h3><p>On top of the draw methods object of the FEATURES object I also have a points methods object that can be used to create a collection of points to be used with the points draw methods that I covered above in this section. One built in method to start off with is a box method that will create one of my points collections that is just a simple basic box. When it comes to this method alone I might all ready want to add a few features, and even pull it out of here into an external file actually. In many projects I might not need to use this kind of method as I would draw box areas by another means. However never the less I needed to start out with something at least.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/********* ********** *********</span></div><div class="line"> Points Methods</div><div class="line">********** ********** *********/</div><div class="line"> </div><div class="line">    <span class="keyword">var</span> pointsMethods = FEATURES.pointsMethods = &#123;&#125;;</div><div class="line"> </div><div class="line">    <span class="comment">// create a box</span></div><div class="line">    pointsMethods.box = <span class="function"><span class="keyword">function</span>(<span class="params">sx, sy, w, h</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> x = sx - w / <span class="number">4</span>,</div><div class="line">        y = sy - h / <span class="number">4</span>;</div><div class="line">        <span class="keyword">var</span> points = [[</div><div class="line">            x, y, x + w / <span class="number">2</span>, y,</div><div class="line">            x + w / <span class="number">2</span>, y + h / <span class="number">2</span>, x, y + h / <span class="number">2</span></div><div class="line">        ]];</div><div class="line">        <span class="keyword">return</span> points;</div><div class="line">    &#125;;</div></pre></td></tr></table></figure>
<h3 id="1-3-Helper-functions"><a href="#1-3-Helper-functions" class="headerlink" title="1.3 - Helper functions"></a>1.3 - Helper functions</h3><p>I have a number of helper methods that will be used in the create stack public method for now, but if I keep working on this I am sure the collection of helper functions will expand as is usually the case. A number of these methods are often methods that are found in one of my many general utility type libraries for my various canvas projects. However I often use that kind of module as a dumping ground for methods that do not have a more appropriate place to live. Sense I am making a full canvas library now I am placing many of these methods here, and as a result will have a more minimal utility library for demos and projects when and if I need to use one.</p>
<p>So many of the helper functions thus far have to do with attaching events to a canvas element, however I have one additional helper that is used to create just a single layer object. This method is used in my create layer stack public method to create a stack of layer objects each of which contains a single canvas element, along with additional properties.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/********* ********** *********</span></div><div class="line"> HELPERS</div><div class="line">********** ********** *********/</div><div class="line"> </div><div class="line">    <span class="comment">// get a canvas relative position that is adjusted for scale</span></div><div class="line">    <span class="keyword">var</span> getCanvasRelative = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> canvas = e.target,</div><div class="line">        bx = canvas.getBoundingClientRect(),</div><div class="line">        pos = &#123;</div><div class="line">            <span class="attr">x</span>: (e.changedTouches ? e.changedTouches[<span class="number">0</span>].clientX : e.clientX) - bx.left,</div><div class="line">            <span class="attr">y</span>: (e.changedTouches ? e.changedTouches[<span class="number">0</span>].clientY : e.clientY) - bx.top,</div><div class="line">            <span class="attr">bx</span>: bx</div><div class="line">        &#125;;</div><div class="line">        <span class="comment">// adjust for native canvas matrix size</span></div><div class="line">        pos.x = <span class="built_in">Math</span>.floor((pos.x / canvas.scrollWidth) * canvas.width);</div><div class="line">        pos.y = <span class="built_in">Math</span>.floor((pos.y / canvas.scrollHeight) * canvas.height);</div><div class="line">        <span class="keyword">return</span> pos;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// create and return a canvas pointer event handler for a stack</span></div><div class="line">    <span class="keyword">var</span> canvasPointerEventHandler = <span class="function"><span class="keyword">function</span> (<span class="params">stack, state, events</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">            <span class="keyword">var</span> pos = getCanvasRelative(e),</div><div class="line">            handler = <span class="literal">null</span>;</div><div class="line">            e.preventDefault();</div><div class="line">            <span class="keyword">if</span> (e.type === <span class="string">'mousedown'</span> || e.type === <span class="string">'touchstart'</span>) &#123;</div><div class="line">                handler = events[<span class="string">'pointerStart'</span>];</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (e.type === <span class="string">'mousemove'</span> || e.type === <span class="string">'touchmove'</span>) &#123;</div><div class="line">                handler = events[<span class="string">'pointerMove'</span>];</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (e.type === <span class="string">'mouseup'</span> || e.type === <span class="string">'touchend'</span>) &#123;</div><div class="line">                handler = events[<span class="string">'pointerEnd'</span>];</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (handler) &#123;</div><div class="line">                handler.call(state, e, pos, state, stack);</div><div class="line">            &#125;</div><div class="line">        &#125;;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// attach canvas pointer events</span></div><div class="line">    <span class="keyword">var</span> attachCanvasPointerEvents = <span class="function"><span class="keyword">function</span> (<span class="params">stack</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> handler = canvasPointerEventHandler(stack, stack.state, stack.events),</div><div class="line">        canvas = stack[stack.length - <span class="number">1</span>].canvas,</div><div class="line">        options = &#123;</div><div class="line">            <span class="attr">passive</span>: <span class="literal">false</span></div><div class="line">        &#125;</div><div class="line">        canvas.addEventListener(<span class="string">'mousedown'</span>, handler, options);</div><div class="line">        canvas.addEventListener(<span class="string">'mousemove'</span>, handler, options);</div><div class="line">        canvas.addEventListener(<span class="string">'mouseup'</span>, handler, options);</div><div class="line">        canvas.addEventListener(<span class="string">'touchstart'</span>, handler, options);</div><div class="line">        canvas.addEventListener(<span class="string">'touchmove'</span>, handler, options);</div><div class="line">        canvas.addEventListener(<span class="string">'touchend'</span>, handler, options);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// create a single layer object</span></div><div class="line">    <span class="keyword">var</span> createLayer = <span class="function"><span class="keyword">function</span> (<span class="params">opt</span>) </span>&#123;</div><div class="line">        opt = opt || &#123;&#125;;</div><div class="line">        opt.append = opt.append === <span class="literal">undefined</span> ? <span class="literal">true</span> : opt.append;</div><div class="line">        <span class="keyword">var</span> layer = &#123;&#125;;</div><div class="line">        <span class="comment">// a layer should have a container</span></div><div class="line">        layer.container = opt.container || <span class="built_in">document</span>.getElementById(<span class="string">'canvas-app'</span>) || <span class="built_in">document</span>.body;</div><div class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> layer.container === <span class="string">'string'</span>) &#123;</div><div class="line">            layer.container = <span class="built_in">document</span>.querySelector(layer.container);</div><div class="line">        &#125;</div><div class="line">        layer.canvas = <span class="built_in">document</span>.createElement(<span class="string">'canvas'</span>);</div><div class="line">        layer.ctx = layer.canvas.getContext(<span class="string">'2d'</span>);</div><div class="line">        <span class="comment">// assign the 'canvas_layer' className</span></div><div class="line">        layer.canvas.className = <span class="string">'canvas_layer'</span>;</div><div class="line">        <span class="comment">// set native width</span></div><div class="line">        layer.canvas.width = opt.width === <span class="literal">undefined</span> ? <span class="number">320</span> : opt.width;</div><div class="line">        layer.canvas.height = opt.height === <span class="literal">undefined</span> ? <span class="number">240</span> : opt.height;</div><div class="line">        <span class="comment">// translate by 0.5, 0.5</span></div><div class="line">        layer.ctx.translate(<span class="number">0.5</span>, <span class="number">0.5</span>);</div><div class="line">        <span class="comment">// disable default action for onselectstart</span></div><div class="line">        layer.canvas.onselectstart = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// append canvas to container</span></div><div class="line">        <span class="keyword">if</span> (opt.append) &#123;</div><div class="line">            layer.container.appendChild(layer.canvas);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> layer;</div><div class="line">    &#125;;</div></pre></td></tr></table></figure>
<h3 id="1-4-The-public-API"><a href="#1-4-The-public-API" class="headerlink" title="1.4 - The public API"></a>1.4 - The public API</h3><p>So now that I have my build in FEATURES object with draw methods, and points methods as well as some helper functions I will now want to get to the public methods that will be used outside of this module. The main method of interest when it comes to using this canvas module is to start out by calling the create layer stack method. When I call this method what is returned is an <a href="/2017/05/12/js-arrays-are-objects/">array like object</a> with a length property and each numbed key in the object is a reference to a layer object, created with the create layer helper method.</p>
<p>Another main pubic method of interest is the main draw method of the module, which I use by calling the draw method and pass a stack of layers, along with the name of the draw method I want to use, and the layer index I want to draw to. As I covered before there are a few built in methods to start off with, but often I will want to add at least a few custom methods when it comes to making an actual demo or project with this module.</p>
<p>There is then the public draw points method that is like the draw method only it is used to create a collection of points using one of the create points methods, rather than drawing to the canvas. I also have the load method that can be used as a way to extend the built in draw and create points methods with optional additional files that add features that I might not want or need for all projects.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div></pre></td><td class="code"><pre><div class="line"> </div><div class="line"><span class="comment">/********* ********** *********</span></div><div class="line"> PUBLIC API</div><div class="line">********** ********** *********/</div><div class="line"> </div><div class="line">    <span class="comment">// create a stack of layers as an 'Array Like' Object</span></div><div class="line">    api.createLayerStack = <span class="function"><span class="keyword">function</span> (<span class="params">opt</span>) </span>&#123;</div><div class="line">        opt = opt || &#123;&#125;;</div><div class="line">        <span class="comment">// creating an array like object</span></div><div class="line">        <span class="keyword">var</span> stack = &#123;</div><div class="line">            <span class="attr">length</span>: opt.length === <span class="literal">undefined</span> ? <span class="number">2</span> : opt.length,</div><div class="line">            <span class="attr">container</span>: opt.container || <span class="built_in">document</span>.getElementById(<span class="string">'canvas-app'</span>) || <span class="built_in">document</span>.body,</div><div class="line">            <span class="attr">events</span>: opt.events || &#123;&#125;,</div><div class="line">            <span class="attr">state</span>: opt.state || &#123;&#125;,</div><div class="line">            <span class="attr">background</span>: opt.background || <span class="string">'blue'</span></div><div class="line">        &#125;;</div><div class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> stack.container === <span class="string">'string'</span>) &#123;</div><div class="line">            stack.container = <span class="built_in">document</span>.querySelector(stack.container);</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// layer options</span></div><div class="line">        <span class="keyword">var</span> layerOpt = &#123;</div><div class="line">            <span class="attr">container</span>: stack.container,</div><div class="line">            <span class="attr">append</span>: <span class="literal">true</span></div><div class="line">        &#125;;</div><div class="line">        <span class="comment">// create layers for the stack</span></div><div class="line">        <span class="keyword">var</span> i = <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span> (i &lt; stack.length) &#123;</div><div class="line">            stack[i] = createLayer(layerOpt);</div><div class="line">            i += <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        attachCanvasPointerEvents(stack);</div><div class="line">        <span class="keyword">return</span> stack;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// main draw method</span></div><div class="line">    api.draw = <span class="function"><span class="keyword">function</span> (<span class="params">stack, key, layerIndex</span>) </span>&#123;</div><div class="line">        <span class="comment">// layer object</span></div><div class="line">        <span class="keyword">var</span> layerObj = stack[layerIndex];</div><div class="line">        <span class="comment">// CORE ARGUMENTS created from stack, and layerIndex arguments of canvasMod.draw</span></div><div class="line">        <span class="keyword">var</span> coreArgu = [stack, layerObj.ctx, layerObj.canvas, layerObj];</div><div class="line">        <span class="comment">// ADDITIONAL ARGUMNETS that will change depending on the draw method used with key argument of canvasMod.draw</span></div><div class="line">        <span class="keyword">var</span> addArgu = [];</div><div class="line">        <span class="keyword">if</span> (<span class="built_in">arguments</span>.length &gt; <span class="number">3</span>) &#123;</div><div class="line">            addArgu = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>, <span class="number">3</span>, <span class="built_in">arguments</span>.length);</div><div class="line">        &#125;</div><div class="line">        FEATURES.drawMethods[key].apply(stack, coreArgu.concat(addArgu));</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// create points</span></div><div class="line">    api.createPoints = <span class="function"><span class="keyword">function</span> (<span class="params">stack, key</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> coreArgu = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>, <span class="number">2</span>, <span class="built_in">arguments</span>.length);</div><div class="line">        <span class="keyword">var</span> points = pointsMethods[key].apply(stack, coreArgu);</div><div class="line">        <span class="keyword">return</span> points;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// load additional FEATURES</span></div><div class="line">    api.load = <span class="function"><span class="keyword">function</span>(<span class="params">plugObj</span>)</span>&#123;</div><div class="line">         <span class="built_in">Object</span>.keys(plugObj).forEach(<span class="function"><span class="keyword">function</span>(<span class="params">featuresKey</span>)</span>&#123;</div><div class="line">             <span class="keyword">var</span> featureArray = plugObj[featuresKey];</div><div class="line">             featureArray.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">feature</span>)</span>&#123;</div><div class="line">                 FEATURES[featuresKey][feature.name] = feature.method;</div><div class="line">             &#125;)   </div><div class="line">         &#125;);</div><div class="line">         <span class="built_in">console</span>.log(FEATURES);</div><div class="line">    &#125;;</div><div class="line">&#125;</div><div class="line">    (<span class="keyword">this</span>[<span class="string">'canvasMod'</span>] = &#123;&#125;));</div></pre></td></tr></table></figure>
<h2 id="2-Some-css-to-use-with-the-module"><a href="#2-Some-css-to-use-with-the-module" class="headerlink" title="2 - Some css to use with the module"></a>2 - Some css to use with the module</h2><p>I have some css together that should be used with the canvas module. When I create a stack the default id name for a container is canvas-app, and I also assign a canvas_layer class name to every canvas element that is part of a stack of layers created with the canvas module create layer stack method. I might want to adjust the css a little now and then here and there, but in the project folder I have this css worked out that seems to work out well thus far.</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line"><span class="selector-id">#canvas-app</span>&#123;</div><div class="line">    <span class="attribute">position</span>: relative;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.canvas_layer</span> &#123;</div><div class="line">    <span class="attribute">position</span>:absolute;</div><div class="line">  &#125;</div><div class="line">@<span class="keyword">media</span> (max-width: <span class="number">599px</span>) &#123;</div><div class="line">  <span class="selector-id">#canvas-app</span> &#123;</div><div class="line">    <span class="attribute">margin</span>: -<span class="number">10px</span>;</div><div class="line">    <span class="attribute">width</span>: <span class="number">240px</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">180px</span>;</div><div class="line">    <span class="attribute">margin-left</span>: auto;</div><div class="line">    <span class="attribute">margin-right</span>: auto;</div><div class="line">  &#125;</div><div class="line">  <span class="selector-class">.canvas_layer</span> &#123;</div><div class="line">    <span class="attribute">width</span>: <span class="number">240px</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">180px</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">@<span class="keyword">media</span> (min-width: <span class="number">600px</span>) and (max-width: <span class="number">999px</span>) &#123;</div><div class="line">  <span class="selector-id">#canvas-app</span> &#123;</div><div class="line">    <span class="attribute">margin</span>: <span class="number">0px</span>;</div><div class="line">    <span class="attribute">width</span>: <span class="number">320px</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">240px</span>;</div><div class="line">    <span class="attribute">margin-left</span>: auto;</div><div class="line">    <span class="attribute">margin-right</span>: auto;</div><div class="line">  &#125;</div><div class="line">  <span class="selector-class">.canvas_layer</span> &#123;</div><div class="line">    <span class="attribute">width</span>: <span class="number">320px</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">240px</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">@<span class="keyword">media</span> (min-width: <span class="number">1000px</span>) &#123;</div><div class="line">  <span class="selector-id">#canvas-app</span> &#123;</div><div class="line">    <span class="attribute">margin</span>: <span class="number">0px</span>;</div><div class="line">    <span class="attribute">width</span>: <span class="number">640px</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">480px</span>;</div><div class="line">    <span class="attribute">margin-left</span>: auto;</div><div class="line">    <span class="attribute">margin-right</span>: auto;</div><div class="line">  &#125;</div><div class="line">  <span class="selector-class">.canvas_layer</span> &#123;</div><div class="line">    <span class="attribute">width</span>: <span class="number">640px</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">480px</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="3-A-box-demo-of-the-canvas-module"><a href="#3-A-box-demo-of-the-canvas-module" class="headerlink" title="3 - A box demo of the canvas module"></a>3 - A box demo of the canvas module</h2><p>Now to work out at least one if not a few basic examples of this canvas module just for the sake of making sure the project works the way that it should. For this example the goal was to just make a quick project that just makes use of the built in box method in the create points object. I wanted to still test out all the basic features of the module though so even though this is a basic example, it is still the beginnings of something that is not so basic. Many of my canvas project prototype examples make use of a state machine, in fact I have one <a href="/2020/01/28/canvas-example-state-machine/">canvas example where a state machine that was the focus of the example</a>.</p>
<p>Anyway for this demo I worked out just a single update game method that takes the place of what would otherwise be a full game module. In this update game module I am not really updating the state of a game but I am created the state of a collection of points that I will then be using with the built in draw points method.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// helpers</span></div><div class="line"> </div><div class="line"><span class="keyword">var</span> updateGame = <span class="function"><span class="keyword">function</span>(<span class="params">sm, secs</span>)</span>&#123;</div><div class="line">    sm.game.size += <span class="number">32</span> * secs;</div><div class="line">    <span class="keyword">if</span>(sm.game.size &gt; <span class="number">128</span>)&#123;</div><div class="line">        sm.game.size = <span class="number">64</span>;</div><div class="line">    &#125;</div><div class="line">    sm.game.w = sm.game.size;</div><div class="line">    sm.game.h = sm.game.size;</div><div class="line">    sm.game.points = canvasMod.createPoints(sm.layers, <span class="string">'box'</span>, sm.game.x, sm.game.y, sm.game.w, sm.game.h);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// state object</span></div><div class="line"> </div><div class="line"><span class="keyword">var</span> sm = &#123;</div><div class="line">    <span class="attr">secs</span>: <span class="number">0</span>,</div><div class="line">    <span class="attr">fps</span>: <span class="number">30</span>,</div><div class="line">    <span class="attr">lt</span>: <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">    <span class="attr">currentState</span>: <span class="string">'game'</span>,</div><div class="line">    <span class="attr">game</span>: &#123;&#125;,</div><div class="line">    <span class="attr">layers</span>: &#123;&#125;,</div><div class="line">    <span class="attr">events</span>: &#123;</div><div class="line">        <span class="attr">pointerStart</span>: <span class="function"><span class="keyword">function</span> (<span class="params">e, pos, sm</span>) </span>&#123;</div><div class="line">            sm.states[sm.currentState].events.pointerStart.call(sm, e, pos, sm);</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">pointerMove</span>: <span class="function"><span class="keyword">function</span> (<span class="params">e, pos, sm</span>) </span>&#123;</div><div class="line">            sm.states[sm.currentState].events.pointerMove.call(sm, e, pos, sm);</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">pointerEnd</span>: <span class="function"><span class="keyword">function</span> (<span class="params">e, pos, sm</span>) </span>&#123;</div><div class="line">            sm.states[sm.currentState].events.pointerEnd.call(sm, e, pos, sm);</div><div class="line">        &#125;</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">states</span>: &#123;&#125;</div><div class="line">&#125;;</div><div class="line">sm.layers = canvasMod.createLayerStack(&#123;</div><div class="line">    <span class="attr">container</span>: <span class="string">'#canvas-app'</span>,</div><div class="line">    <span class="attr">events</span>: sm.events,</div><div class="line">    <span class="attr">state</span>: sm</div><div class="line">&#125;);</div><div class="line">sm.game = &#123;</div><div class="line">    <span class="attr">x</span>: <span class="number">160</span>,</div><div class="line">    <span class="attr">y</span>: <span class="number">120</span>,</div><div class="line">    <span class="attr">w</span>: <span class="number">256</span>,</div><div class="line">    <span class="attr">h</span>: <span class="number">256</span>,</div><div class="line">    <span class="attr">size</span>: <span class="number">32</span>,</div><div class="line">    <span class="attr">points</span>: []</div><div class="line">&#125;;</div><div class="line">updateGame(sm, <span class="number">0</span>);</div><div class="line"> </div><div class="line"><span class="comment">// game state</span></div><div class="line"> </div><div class="line">sm.states.game = &#123;</div><div class="line">    <span class="comment">// this start hook will be called just once</span></div><div class="line">    <span class="comment">// here I can draw a static background to the canvas just once</span></div><div class="line">    start: <span class="function"><span class="keyword">function</span>(<span class="params">sm</span>)</span>&#123;</div><div class="line">        canvasMod.draw(sm.layers, <span class="string">'background'</span>, <span class="number">0</span>, <span class="string">'red'</span>);</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">update</span>: <span class="function"><span class="keyword">function</span> (<span class="params">sm, secs</span>) </span>&#123;</div><div class="line">        updateGame(sm, secs);</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">draw</span>: <span class="function"><span class="keyword">function</span> (<span class="params">sm, stack</span>) </span>&#123;</div><div class="line">        canvasMod.draw(stack, <span class="string">'clear'</span>, <span class="number">1</span>);</div><div class="line">        canvasMod.draw(stack, <span class="string">'points'</span>, <span class="number">1</span>, sm.game.points, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">events</span>: &#123;</div><div class="line">        <span class="attr">pointerStart</span>: <span class="function"><span class="keyword">function</span> (<span class="params">e, pos, sm</span>) </span>&#123;</div><div class="line">            <span class="comment">// change loction of box</span></div><div class="line">            sm.game.x = pos.x;</div><div class="line">            sm.game.y = pos.y;</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">pointerMove</span>: <span class="function"><span class="keyword">function</span> (<span class="params">e, pos, sm</span>) </span>&#123;&#125;,</div><div class="line">        <span class="attr">pointerEnd</span>: <span class="function"><span class="keyword">function</span> (<span class="params">e, pos, sm</span>) </span>&#123;&#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// loop</span></div><div class="line"> </div><div class="line"><span class="comment">// call start just once</span></div><div class="line">sm.states.game.start(sm);</div><div class="line"><span class="keyword">var</span> loop = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">    secs = (now - sm.lt) / <span class="number">1000</span>,</div><div class="line">    state = sm.states[sm.currentState];</div><div class="line">    requestAnimationFrame(loop);</div><div class="line">    <span class="keyword">if</span> (secs &gt;= <span class="number">1</span> / sm.fps) &#123;</div><div class="line">        state.update(sm, secs);</div><div class="line">        state.draw(sm, sm.layers);</div><div class="line">        sm.lt = now;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">loop();</div></pre></td></tr></table></figure>
<h2 id="4-Testing-out-the-plug-in-system-with-a-circle-create-points-method"><a href="#4-Testing-out-the-plug-in-system-with-a-circle-create-points-method" class="headerlink" title="4 - Testing out the plug in system with a circle create points method"></a>4 - Testing out the plug in system with a circle create points method</h2><p>I am going to want to have at least one additional demo in which I am testing out the load method of this canvas module. When it comes to using this module in any kind of project I am going to want to define some custom draw methods, and also some methods that will create an array of points also. In this example I am adding a circle create points method, along with an additional oval create points method. When creating a plug in object for the canvas module I can define more than one new method when it comes to points methods, as well as draw methods, so I just wanted to quickly make sure that this feature is working as it should with this demo basically.</p>
<h3 id="4-1-points-circle-js-method"><a href="#4-1-points-circle-js-method" class="headerlink" title="4.1 - points-circle.js method"></a>4.1 - points-circle.js method</h3><p>Here I have the points circle javaScript file of this demo in which I am extending the features of the canvas module by adding a circle and over method for creating an array of points. In addition to this I also have added a single new draw method that can be sued to draw text to a layer of a stack.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line">canvasMod.load(&#123;</div><div class="line">    <span class="comment">// points methods to add</span></div><div class="line">    pointsMethods : [</div><div class="line">        <span class="comment">// a circle method</span></div><div class="line">        &#123;</div><div class="line">            <span class="attr">name</span>: <span class="string">'circle'</span>,</div><div class="line">            <span class="attr">method</span>: <span class="function"><span class="keyword">function</span>(<span class="params">cx, cy, radius, pointCount</span>)</span>&#123;</div><div class="line">                pointCount = pointCount === <span class="literal">undefined</span> ? <span class="number">100</span> : pointCount;</div><div class="line">                <span class="keyword">var</span> points = [[]];</div><div class="line">                <span class="keyword">var</span> i = <span class="number">0</span>, x, y, radian;</div><div class="line">                <span class="keyword">while</span>(i &lt; pointCount)&#123;</div><div class="line">                    radian = <span class="built_in">Math</span>.PI * <span class="number">2</span> / pointCount * i;</div><div class="line">                    x = cx + <span class="built_in">Math</span>.cos(radian) * radius;</div><div class="line">                    y = cy + <span class="built_in">Math</span>.sin(radian) * radius;</div><div class="line">                    points[<span class="number">0</span>].push(x, y);</div><div class="line">                    i += <span class="number">1</span>;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">return</span> points;</div><div class="line">            &#125;</div><div class="line">        &#125;,</div><div class="line">        <span class="comment">// an oval method</span></div><div class="line">        &#123;</div><div class="line">            <span class="attr">name</span>: <span class="string">'oval'</span>,</div><div class="line">            <span class="attr">method</span>: <span class="function"><span class="keyword">function</span>(<span class="params">cx, cy, radius1, radius2, pointCount</span>)</span>&#123;</div><div class="line">                pointCount = pointCount === <span class="literal">undefined</span> ? <span class="number">100</span> : pointCount;</div><div class="line">                <span class="keyword">var</span> points = [[]];</div><div class="line">                <span class="keyword">var</span> i = <span class="number">0</span>, x, y, radian;</div><div class="line">                <span class="keyword">while</span>(i &lt; pointCount)&#123;</div><div class="line">                    radian = <span class="built_in">Math</span>.PI * <span class="number">2</span> / pointCount * i;</div><div class="line">                    x = cx + <span class="built_in">Math</span>.cos(radian) * radius1;</div><div class="line">                    y = cy + <span class="built_in">Math</span>.sin(radian) * radius2;</div><div class="line">                    points[<span class="number">0</span>].push(x, y);</div><div class="line">                    i += <span class="number">1</span>;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">return</span> points;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    ],</div><div class="line">    <span class="attr">drawMethods</span>: [</div><div class="line">        &#123;</div><div class="line">            <span class="attr">name</span>: <span class="string">'print'</span>,</div><div class="line">            <span class="attr">method</span>: <span class="function"><span class="keyword">function</span>(<span class="params">stack, ctx, canvas, layerObj, text, x, y, opt</span>)</span>&#123;</div><div class="line">                opt = opt || &#123;&#125;;</div><div class="line">                opt.fontSize = opt.fontSize || <span class="number">10</span>;</div><div class="line">                ctx.fillStyle = opt.fillStyle || <span class="string">'black'</span>;</div><div class="line">                ctx.textBaseline = <span class="string">'top'</span>;</div><div class="line">                ctx.font = opt.fontSize + <span class="string">'px arial'</span>;</div><div class="line">                ctx.fillText(text, x, y);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="4-2-The-main-js-file-for-this-points-circle-demo"><a href="#4-2-The-main-js-file-for-this-points-circle-demo" class="headerlink" title="4.2 - The main.js file for this points circle demo"></a>4.2 - The main.js file for this points circle demo</h3><p>When I test this out everything seems to work the way it should. So then I can create all kinds of additional files that I might reuse from one project to the next with this. Also when it comes to just about any kind of project there will need to be at least a few custom draw methods for various kinds of things. So then I can use the canvas modules load methods as a way to add these draw methods in.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> sm = &#123;&#125;;</div><div class="line"><span class="comment">// testing out oval</span></div><div class="line">sm.points = canvasMod.createPoints(sm.layers, <span class="string">'oval'</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">150</span>, <span class="number">75</span>, <span class="number">20</span>)</div><div class="line">sm.stack = canvasMod.createLayerStack(&#123;</div><div class="line">    <span class="attr">container</span>: <span class="string">'#canvas-app'</span>,</div><div class="line">    <span class="attr">state</span>: sm</div><div class="line">&#125;);</div><div class="line">canvasMod.draw(sm.stack, <span class="string">'background'</span>, <span class="number">0</span>, <span class="string">'red'</span>);</div><div class="line">canvasMod.draw(sm.stack, <span class="string">'clear'</span>, <span class="number">1</span>);</div><div class="line">canvasMod.draw(sm.stack, <span class="string">'points'</span>, <span class="number">1</span>, sm.points, <span class="number">160</span>, <span class="number">120</span>);</div><div class="line"><span class="comment">// custom draw method works</span></div><div class="line">canvasMod.draw(sm.stack, <span class="string">'print'</span>, <span class="number">1</span>, <span class="string">'hello world'</span>, <span class="number">5</span>, <span class="number">5</span>, &#123;<span class="attr">fillStyle</span>: <span class="string">'white'</span>, <span class="attr">fontSize</span>: <span class="number">20</span> &#125;);</div></pre></td></tr></table></figure>
<h2 id="5-Conclusion"><a href="#5-Conclusion" class="headerlink" title="5 - Conclusion"></a>5 - Conclusion</h2><p>The current state of the canvas module seems to work okay thus far, but there are a few more features that I would like to add. However I think most of this functionality should be added in the form of optional plug ins rather than making the module itself more bloated. In my <a href="/2020/03/23/canvas-example/">canvas example posts</a> I have one <a href="/2020/02/12/canvas-example-star/">example that is just drawing stars with a canvas element</a> and a little javaScript code, I think I would like to have that to work with as a draw points method but I do not think I want to hard code it into the canvas module itself. There is also another <a href="/2021/01/29/canvas-example-animation-pixmaps/">canvas example where I worked out a standard for making sprite sheets without loading external images</a> that is another project that I might want to work into this also.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dustinpfister.github.io/2021/08/27/js-javascript-example-canvas-module/" data-id="ckx9e2e6t00qy3kv1ldv18sqd" class="article-share-link">Share</a>
      
        <a href="https://dustinpfister.github.io/2021/08/27/js-javascript-example-canvas-module/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2021/09/03/js-javascript-example-game-framework/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          A game framework JavaScript example
        
      </div>
    </a>
  
  
    <a href="/2021/08/20/js-javascript-example-grid-module/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">JavaScript example of a grid module</div>
    </a>
  
</nav>

  
</article>



<section id="comments">

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://dustinpfister.github.io/2021/08/27/js-javascript-example-canvas-module/index.html';
    this.page.identifier = '926';
    this.page.title = 'Canvas Module JavaScript example';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://dustinpfister-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular/">angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/api/">api</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/backbone/">backbone</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/discovery/">discovery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/games/">games</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/grunt/">grunt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hapi/">hapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/heroku/">heroku</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jquery/">jquery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lodash/">lodash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node-js/">node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/phaser/">phaser</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/statistics/">statistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/three-js/">three.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backbone/">backbone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/corejs/">corejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deterministic/">deterministic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discovery/">discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejs/">ejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hapi/">hapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jimp/">jimp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js13k/">js13k</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/structured-data/">structured-data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/themes/">themes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three-js/">three.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JSON/" style="font-size: 12.27px;">JSON</a> <a href="/tags/SEO/" style="font-size: 10.45px;">SEO</a> <a href="/tags/angular/" style="font-size: 13.18px;">angular</a> <a href="/tags/animation/" style="font-size: 11.82px;">animation</a> <a href="/tags/automation/" style="font-size: 11.82px;">automation</a> <a href="/tags/backbone/" style="font-size: 12.27px;">backbone</a> <a href="/tags/blog/" style="font-size: 14.55px;">blog</a> <a href="/tags/canvas/" style="font-size: 19.09px;">canvas</a> <a href="/tags/corejs/" style="font-size: 12.73px;">corejs</a> <a href="/tags/deterministic/" style="font-size: 10px;">deterministic</a> <a href="/tags/discovery/" style="font-size: 10.91px;">discovery</a> <a href="/tags/ejs/" style="font-size: 11.36px;">ejs</a> <a href="/tags/express/" style="font-size: 16.36px;">express</a> <a href="/tags/games/" style="font-size: 16.82px;">games</a> <a href="/tags/git/" style="font-size: 12.73px;">git</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hapi/" style="font-size: 15px;">hapi</a> <a href="/tags/heroku/" style="font-size: 11.82px;">heroku</a> <a href="/tags/hexo/" style="font-size: 14.09px;">hexo</a> <a href="/tags/jimp/" style="font-size: 10.45px;">jimp</a> <a href="/tags/jquery/" style="font-size: 11.36px;">jquery</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/js13k/" style="font-size: 10px;">js13k</a> <a href="/tags/linux/" style="font-size: 17.27px;">linux</a> <a href="/tags/lodash/" style="font-size: 18.18px;">lodash</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mongodb/" style="font-size: 14.09px;">mongodb</a> <a href="/tags/node-js/" style="font-size: 19.55px;">node.js</a> <a href="/tags/phaser/" style="font-size: 17.73px;">phaser</a> <a href="/tags/python/" style="font-size: 15.45px;">python</a> <a href="/tags/statistics/" style="font-size: 13.64px;">statistics</a> <a href="/tags/structured-data/" style="font-size: 10px;">structured-data</a> <a href="/tags/themes/" style="font-size: 10px;">themes</a> <a href="/tags/three-js/" style="font-size: 18.64px;">three.js</a> <a href="/tags/vuejs/" style="font-size: 15.91px;">vuejs</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/12/10/js-javascript-example-turn-based-rpg/">Making a turn based RPG game javaScript project example</a>
          </li>
        
          <li>
            <a href="/2021/12/03/threejs-examples-menus/">Menus and crude state machine threejs example</a>
          </li>
        
          <li>
            <a href="/2021/11/26/linux-tar/">The Linux tar command for compressions files and folders</a>
          </li>
        
          <li>
            <a href="/2021/11/23/linux-tree/">The Linux tree command</a>
          </li>
        
          <li>
            <a href="/2021/11/19/linux-xxd/">The Linux xxd command for dumping hex to the standard output rather than text</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 Dustin Pfister<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      <br>
      <a href="/privacy.html" target="_blank">Privacy Policy</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/2020/03/23/canvas-example/" class="mobile-nav-link">Canvas-Examples</a>
  
    <a href="https://github.com/dustinpfister" class="mobile-nav-link">Github</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'dustinpfister-github-io';
  
  var disqus_url = 'https://dustinpfister.github.io/2021/08/27/js-javascript-example-canvas-module/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


  </div>
</body>
</html>