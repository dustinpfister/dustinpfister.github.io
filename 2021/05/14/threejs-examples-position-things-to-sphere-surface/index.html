<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <!-- disqus image-->
  <meta property="og:image" content="https://dustinpfister.github.io/css/images/banner.jpg">
  
  <title>Position Other Mesh Objects onto the surface of a Sphere Three.js example | Dustin John Pfister at github pages</title>
  
  <!-- no index tag or blank here -->
  
  
  <link rel="canonical" href="https://dustinpfister.github.io/2021/05/14/threejs-examples-position-things-to-sphere-surface/" />

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="This threejs example post will have to do with positioning a mesh object on the the surface of another mesh object that makes use of a sphere geometry. There are a lot of ways to go about doing this s">
<meta property="og:type" content="article">
<meta property="og:title" content="Position Other Mesh Objects onto the surface of a Sphere Three.js example">
<meta property="og:url" content="https://dustinpfister.github.io/2021/05/14/threejs-examples-position-things-to-sphere-surface/index.html">
<meta property="og:site_name" content="Dustin John Pfister at github pages">
<meta property="og:description" content="This threejs example post will have to do with positioning a mesh object on the the surface of another mesh object that makes use of a sphere geometry. There are a lot of ways to go about doing this s">
<meta property="og:updated_time" content="2022-12-22T18:00:53.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Position Other Mesh Objects onto the surface of a Sphere Three.js example">
<meta name="twitter:description" content="This threejs example post will have to do with positioning a mesh object on the the surface of another mesh object that makes use of a sphere geometry. There are a lot of ways to go about doing this s">
  
    <link rel="alternate" href="/atom.xml" title="Dustin John Pfister at github pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <!-- Google Analytics -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y8XLNG6JRW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Y8XLNG6JRW');
</script>
<!-- End Google Analytics -->


  <!-- structured data set in structured-data.ejs -->
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "email": "distin.pfister@gmail.com",
    "givenName": "Dustin",
    "familyName" : "Pfister",
    "additionalName": "John",
    "name": "Dustin John Pfister",
    "gender": "Male"
}
</script>
<!-- end structured data -->
  
  <!-- adsense if indexed -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1658284027672315",
    enable_page_level_ads: true
  });
  </script>
  
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <!-- added the image, as well as the link to my youtube -->
        <a href="https://www.youtube.com/user/javaweaver"><div class="selfimage"></div></a>
        <!--<a href="/" id="logo">Dustin John Pfister at github pages</a>-->
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/2021/02/19/threejs-examples/">ThreeJS</a>
        
          <a class="main-nav-link" href="/2020/03/23/canvas-example/">Canvas</a>
        
          <a class="main-nav-link" href="https://www.youtube.com/user/javaweaver">Youtube</a>
        
          <a class="main-nav-link" href="https://github.com/dustinpfister">Github</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <!-- removed rss link-->
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dustinpfister.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article itemscope itemtype="http://schema.org/Blog" id="post-threejs-examples-position-things-to-sphere-surface" class="article article-type-post" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/05/14/threejs-examples-position-things-to-sphere-surface/" class="article-date"> Published:
  <time datetime="2021-05-14T17:40:00.000Z" itemprop="datePublished">2021-05-14</time>
</a>

    <!-- other info (dustin) -->
    <a href="/2021/05/14/threejs-examples-position-things-to-sphere-surface/" class="article-date"> Modified:
  <time datetime="2022-12-22T18:00:53.000Z" itemprop="dateModified">2022-12-22</time>
</a>

    <span class="article-date">V1.3</span>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/three-js/">three.js</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Position Other Mesh Objects onto the surface of a Sphere Three.js example
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="text">
      
        <p>This <a href="/2021/02/19/threejs-examples/">threejs example</a> post will have to do with positioning a mesh object on the the surface of another mesh object that makes use of a sphere geometry. There are a lot of ways to go about doing this sort of thing, such as using <a href="/2018/05/16/threejs-grouping-mesh-objects/">group objects</a>, Vector3 class methods, the Raycaster class, and even the attributes of buffer geometries.</p>
<p>The first version ( r0 ) of this example made use of a module that creates uses the first option that I mentioned which making use of group objects. The Basic idea with this is I have a group object that I then add the child object to that I want to position to the sphere. I then position the child object away from the origin of the group by a distance that is equal to the radius of the sphere. I then add the group as a child of the sphere, and then rotate the group as a way to change the position of the mesh object on the sphere surface. This might be a crude way to go about doing it, but never the less it gives a desired end result all the same.</p>
<p>When it comes to R1 of this example I went with the use of the apply Euler method along with several other vector3 class methods. thus far I have to say that I like this way of doing it far more than the nested group solution that I started out with. Still it may have its limitations compared to other alternatives such as the Raycaster class.</p>
<a id="more"></a>
<iframe class="youtube_video" src="https://www.youtube.com/embed/QSdjTqOvJVY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>


<h2 id="This-Sphere-Surface-Mesh-Placement-example-and-what-to-know-first-before-getting-into"><a href="#This-Sphere-Surface-Mesh-Placement-example-and-what-to-know-first-before-getting-into" class="headerlink" title="This Sphere Surface Mesh Placement example and what to know first before getting into"></a>This Sphere Surface Mesh Placement example and what to know first before getting into</h2><p>This is a post on a threejs project example that is a module that I can use to position a mesh object onto the surface of the sphere. This is then a post that is on a somewhat advance topic, and is then not any kind of post that has to do with the <a href="/2018/04/04/threejs-getting-started/">basics of getting started with threejs</a>. I will not be getting into basic things about threejs and javaScript in general in this post, but I do still often write about a few things you might want to read up more on in these opening sections.</p>
<h3 id="Check-out-the-Vector3-class"><a href="#Check-out-the-Vector3-class" class="headerlink" title="Check out the Vector3 class"></a>Check out the Vector3 class</h3><p>There are a lot of useful methods in the vector3 class that can be used to help with this sort of thing. One such method is the <a href="/2022/02/04/threejs-vector3-set-from-spherical-coords/">set from spherical coords method</a> of vector3, but there is also the <a href="/2021/06/18/threejs-vector3-apply-euler/">apply Euler</a> method that can be used with a collection of other methods in the class also. When it comes to Vector3 objects there is not just adjusting the direction of a vector but also changing the magnitude of the vector as well. So there is also the normalize and multiply scalar methods of the vector3 class that are very helpful when it comes to the over all theme of this post.</p>
<h3 id="Raycaster-is-worth-looking-into-also"><a href="#Raycaster-is-worth-looking-into-also" class="headerlink" title="Raycaster is worth looking into also"></a>Raycaster is worth looking into also</h3><p>The <a href="/2021/05/18/threejs-raycaster/">raycaster class</a> could also be used as a way to get a position on the surface of a sphere. A Raycaster might prove to be a little overkill when it comes to a sphere, but it would prove to be more flexible when it comes to geometry in general beyond just that of a sphere. This simply fact is why it might be the best option in the long run when it comes to getting position values on the surface of mesh objects in general. In this example I might be dealing with just a sphere, but there is also dealing with sphere like geometry that has all kinds of features that can be descried as mountains and valleys.</p>
<h3 id="Source-code-is-also-on-Github"><a href="#Source-code-is-also-on-Github" class="headerlink" title="Source code is also on Github"></a>Source code is also on Github</h3><p>The latest source code for this example can also be found in my <a href="https://github.com/dustinpfister/test_threejs/tree/master/views/forpost/threejs-examples-position-things-to-sphere-surface" target="_blank" rel="external">test threejs repository on Github</a>.</p>
<h3 id="Version-Numbers-matter-with-three-js"><a href="#Version-Numbers-matter-with-three-js" class="headerlink" title="Version Numbers matter with three.js"></a>Version Numbers matter with three.js</h3><p>When I first wrote this post I was using three.js version r127 which was a late version of three.js at of April of 2021, and the last time I edited this post I was using r146. Always be mindful of the dates of posts, as well as the dates at which I have last updated them. many code breaking changes are introduced to three.js that will case code examples such as the ones I have outline here to stop working. I do make an effort to update my content and the code examples in them now and then, but I have a whole lot of other posts on three.js and other categories that are also in need of some editing.</p>
<h2 id="1-Using-the-Raycaster-method-along-with-Vector2-methods-r2"><a href="#1-Using-the-Raycaster-method-along-with-Vector2-methods-r2" class="headerlink" title="1 - Using the Raycaster method, along with Vector2 methods ( r2 )"></a>1 - Using the Raycaster method, along with Vector2 methods ( r2 )</h2><p>For R2 of this threejs example I started a method that can be used to make use of a raycaster as a way to get a Vector3 object that can then be used to set the position. For the most part this way of setting position works very well, and also allows for flexibility when it comes to getting positions on geometry in general beyond that of sphere objects. However I have found that I run into problems with raycaster with certain angles which presents a problem. I have found a duck tape style solution though which involves just avoiding using values that cause this problem when setting angle values.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*  sphere-pos.js - r2 - from threejs-examples-position-things-to-sphere-surface</span></div><div class="line"> *  </div><div class="line"> *    * getPositionOnSphere method that will give a Vector3</div><div class="line"> *    * positionToSphere method calls getPositionOnSphere to get position</div><div class="line"> *    * positionToSphere method gets radius by using computeBoundingSphere while getPositionOnSphere takes a radius argument</div><div class="line"> *    * getRaycasterPositionOnSphere method started</div><div class="line"> */</div><div class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">api</span>) </span>&#123;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// HELPERS</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">const</span> getRadius = <span class="function">(<span class="params">sphereMesh</span>) =&gt;</span> &#123;</div><div class="line">        <span class="comment">// get geometry of the sphere mesh</span></div><div class="line">        <span class="keyword">var</span> sGeo = sphereMesh.geometry;</div><div class="line">        <span class="comment">// computer bounding sphere for geometry of the sphere mesh</span></div><div class="line">        sGeo.computeBoundingSphere();</div><div class="line">        <span class="comment">// use radius value of Sphere instance at </span></div><div class="line">        <span class="comment">// boundingSphere of the geometry of sphereMesh</span></div><div class="line">        <span class="keyword">return</span> sGeo.boundingSphere.radius;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// Position an Object to a sphere mesh</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// for a given sphere mesh, position a given object to it</span></div><div class="line">    api.positionToSphere1 = <span class="function"><span class="keyword">function</span>(<span class="params">sphereMesh, obj, lat, long, alt</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> radius = getRadius(sphereMesh);</div><div class="line">        <span class="keyword">const</span> pos = api.getPositionOnSphere(sphereMesh, radius, lat, long, alt);</div><div class="line">        obj.position.copy(pos);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// Get A Vector3</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// get position by raycaster</span></div><div class="line">    api.getRaycasterPositionOnSphere = <span class="function"><span class="keyword">function</span>(<span class="params">sphereMesh, radius, deg1, deg2, alt</span>)</span>&#123;</div><div class="line">        <span class="comment">// defaults for lat, long, and alt</span></div><div class="line">        deg1 = deg1 === <span class="literal">undefined</span> ? <span class="number">0</span> : deg1;</div><div class="line">        deg2 = deg2 === <span class="literal">undefined</span> ? <span class="number">0</span> : deg2;</div><div class="line">        alt = alt === <span class="literal">undefined</span> ? <span class="number">0</span> : alt;</div><div class="line">        <span class="comment">// orign for raycaster</span></div><div class="line">        <span class="keyword">const</span> angle1 = <span class="built_in">Math</span>.PI / <span class="number">180</span> * deg1;</div><div class="line">        <span class="keyword">const</span> angle2 = <span class="built_in">Math</span>.PI / <span class="number">180</span> * deg2;</div><div class="line">        <span class="comment">// using applyEuler and multiplyScalar to set origin for rayster</span></div><div class="line">        <span class="keyword">const</span> origin = <span class="keyword">new</span> THREE.Vector3(<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">        origin.applyEuler( <span class="keyword">new</span> THREE.Euler( <span class="number">0</span>, angle1, angle2) ).multiplyScalar(radius);</div><div class="line">        <span class="comment">// direction for raycaster</span></div><div class="line">        <span class="comment">// using vector3 clone, lerp, negate, and normalize methods to get a dir</span></div><div class="line">        <span class="keyword">const</span> dir = origin.clone().lerp(sphereMesh.position, <span class="number">0.5</span>).negate().normalize();</div><div class="line">        <span class="comment">// create and set raycaster</span></div><div class="line">        <span class="keyword">const</span> raycaster = <span class="keyword">new</span> THREE.Raycaster();</div><div class="line">        raycaster.set( origin, dir );</div><div class="line">        <span class="keyword">const</span> arr = raycaster.intersectObjects([ sphereMesh ]);</div><div class="line">        <span class="keyword">if</span>(arr.length === <span class="number">1</span>)&#123;</div><div class="line">            <span class="comment">// copy position</span></div><div class="line">            <span class="keyword">const</span> pos = arr[<span class="number">0</span>].point;</div><div class="line">            <span class="keyword">return</span> pos.setLength( pos.length() + alt )</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> THREE.Vector3();</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// for a given sphere mesh, get a Vector3 object on the surface</span></div><div class="line">    api.getPositionOnSphere = <span class="function"><span class="keyword">function</span>(<span class="params">sphereMesh, radius, lat, long, alt</span>)</span>&#123;</div><div class="line">        <span class="comment">// defaults for lat, long, and alt</span></div><div class="line">        lat = lat === <span class="literal">undefined</span> ? <span class="number">0</span> : lat;</div><div class="line">        long = long === <span class="literal">undefined</span> ? <span class="number">0</span> : long;</div><div class="line">        alt = alt === <span class="literal">undefined</span> ? <span class="number">0</span> : alt;</div><div class="line">        <span class="comment">// position mesh to position of sphereMesh, and translate</span></div><div class="line">        <span class="comment">// from there using lat, long, alt, and radius of sphereMesh</span></div><div class="line">        <span class="comment">// using the copy, add, and apply Euler methods of the Vector3 class</span></div><div class="line">        <span class="keyword">var</span> v1 = <span class="keyword">new</span> THREE.Vector3(<span class="number">0</span>, radius + alt, <span class="number">0</span>);</div><div class="line">        <span class="keyword">var</span> x = <span class="built_in">Math</span>.PI * lat;</div><div class="line">        <span class="keyword">var</span> z = <span class="built_in">Math</span>.PI * <span class="number">2</span> * long;</div><div class="line">        <span class="keyword">var</span> e1 = <span class="keyword">new</span> THREE.Euler(x, <span class="number">0</span>, z);</div><div class="line">        <span class="keyword">return</span> sphereMesh.position.clone().add(v1).applyEuler(e1);</div><div class="line">    &#125;;</div><div class="line">&#125;</div><div class="line">    (<span class="keyword">this</span>[<span class="string">'SphereWrap'</span>] = &#123;&#125;));</div></pre></td></tr></table></figure>
<h3 id="1-1-New-loop-demo-using-the-raycaster-method"><a href="#1-1-New-loop-demo-using-the-raycaster-method" class="headerlink" title="1.1 - New loop demo using the raycaster method"></a>1.1 - New loop demo using the raycaster method</h3><p>Once again I have a loop example in which I am testing out the new features of this revision of the set to sphere surface module.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line"><span class="comment">//scene.add(new THREE.GridHelper(10, 10));</span></div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">60</span>, <span class="number">320</span> / <span class="number">240</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line">camera.position.set(<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">(<span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) ||  <span class="built_in">document</span>.body ).appendChild(renderer.domElement);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// MESH OBJECTS</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> sphere1 = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">    <span class="keyword">new</span> THREE.SphereGeometry(<span class="number">1</span>, <span class="number">30</span>, <span class="number">30</span>),</div><div class="line">    <span class="keyword">new</span> THREE.MeshNormalMaterial(&#123;<span class="attr">wireframe</span>: <span class="literal">true</span>&#125;)</div><div class="line">);</div><div class="line">scene.add(sphere1);</div><div class="line"><span class="keyword">const</span> box1 =  <span class="keyword">new</span> THREE.Mesh(</div><div class="line">    <span class="keyword">new</span> THREE.BoxGeometry(<span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>),</div><div class="line">    <span class="keyword">new</span> THREE.MeshNormalMaterial()</div><div class="line">);</div><div class="line">scene.add(box1);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// LOOP</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">let</span> lt = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">frame = <span class="number">0</span>;</div><div class="line"><span class="keyword">const</span> maxFrame = <span class="number">800</span>,</div><div class="line">fps = <span class="number">30</span>;</div><div class="line"><span class="keyword">const</span> loop = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">const</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">    per = frame / maxFrame,</div><div class="line">    secs = (now - lt) / <span class="number">1000</span>;</div><div class="line">    requestAnimationFrame(loop);</div><div class="line">    <span class="keyword">if</span> (secs &gt; <span class="number">1</span> / fps) &#123;</div><div class="line">        <span class="keyword">const</span> p = per * <span class="number">6</span> % <span class="number">1</span>,</div><div class="line">        b = <span class="number">1</span> - <span class="built_in">Math</span>.abs(<span class="number">0.5</span> - p) / <span class="number">0.5</span>;</div><div class="line">        <span class="comment">// using the new raycaster method</span></div><div class="line">        <span class="keyword">const</span> deg1 = <span class="number">360</span> * per;</div><div class="line">        <span class="keyword">const</span> deg2 = <span class="number">-89.9</span> + <span class="number">180</span> * b;</div><div class="line">        <span class="keyword">const</span> v3 = SphereWrap.getRaycasterPositionOnSphere(sphere1, <span class="number">2</span>, deg1, deg2, <span class="number">0.25</span>);</div><div class="line">        box1.position.copy(v3);</div><div class="line">        box1.lookAt(sphere1.position);</div><div class="line">        <span class="comment">// render, step frame</span></div><div class="line">        renderer.render(scene, camera);</div><div class="line">        frame += fps * secs;</div><div class="line">        frame %= maxFrame;</div><div class="line">        lt = now;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">loop();</div></pre></td></tr></table></figure>
<h2 id="2-Using-Vector3-Copy-add-and-Apply-Euler-methods-with-the-radius-of-the-Sphere-class-instance-of-the-Sphere-Geometry-r1"><a href="#2-Using-Vector3-Copy-add-and-Apply-Euler-methods-with-the-radius-of-the-Sphere-class-instance-of-the-Sphere-Geometry-r1" class="headerlink" title="2 - Using Vector3 Copy, add, and Apply Euler methods with the radius of the Sphere class instance of the Sphere Geometry ( r1 )"></a>2 - Using Vector3 Copy, add, and Apply Euler methods with the radius of the Sphere class instance of the Sphere Geometry ( r1 )</h2><p>When I first wrote this blog post I was writing about the first version of the example that I now call r0 that was a solution involving the use of groups as a way to get a desired end result. With r1 of the example I am now making use of a collection of vector3 class methods along with the radius property of the sphere class as a way to get a desired end result. The main Vector3 class method of interest here is the apply Euler method that will preform a change of the direction of the vector by way of a given Euler class object.</p>
<p>Sense I am taking a whole new approach to this sort of thing with this revision I made some major changes from the ground up, and for now the sphere wrap module now just has a single public method. This single method now is the position to sphere method where I pass a mesh that has sphere geometry as the first argument, then the object I want to position to the sphere as the second argument. After that I can give lat and long values in 0 to 1 number form, along with an altitude arguyemt as the final argument when calling the method.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*  sphere-pos.js - r1 - from threejs-examples-position-things-to-sphere-surface</span></div><div class="line"> *  </div><div class="line"> */</div><div class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">api</span>) </span>&#123;</div><div class="line">    <span class="comment">// position a mesh to a sphere mesh with a given lat, long, and alt</span></div><div class="line">    api.positionToSphere = <span class="function"><span class="keyword">function</span>(<span class="params">sphereMesh, mesh, lat, long, alt</span>)</span>&#123;</div><div class="line">        <span class="comment">// defaults for lat, long, and alt</span></div><div class="line">        lat = lat === <span class="literal">undefined</span> ? <span class="number">0</span> : lat;</div><div class="line">        long = long === <span class="literal">undefined</span> ? <span class="number">0</span> : long;</div><div class="line">        alt = alt === <span class="literal">undefined</span> ? <span class="number">0</span> : alt;</div><div class="line">        <span class="comment">// get geometry of the sphere mesh</span></div><div class="line">        <span class="keyword">var</span> sGeo = sphereMesh.geometry;</div><div class="line">        <span class="comment">// computer bounding sphere for geometry of the sphere mesh</span></div><div class="line">        sGeo.computeBoundingSphere();</div><div class="line">        <span class="comment">// use radius value of Sphere instance at </span></div><div class="line">        <span class="comment">// boundingSphere of the geometry of sphereMesh</span></div><div class="line">        <span class="keyword">var</span> radius = sGeo.boundingSphere.radius;</div><div class="line">        <span class="comment">// position mesh to position of sphereMesh, and translate</span></div><div class="line">        <span class="comment">// from there using lat, long, alt, and radius of sphereMesh</span></div><div class="line">        <span class="comment">// using the copy, add, and apply Euler methods of the Vector3 class</span></div><div class="line">        <span class="keyword">var</span> v1 = <span class="keyword">new</span> THREE.Vector3(<span class="number">0</span>, radius + alt, <span class="number">0</span>);</div><div class="line">        <span class="keyword">var</span> x = <span class="built_in">Math</span>.PI * lat;</div><div class="line">        <span class="keyword">var</span> z = <span class="built_in">Math</span>.PI * <span class="number">2</span> * long;</div><div class="line">        <span class="keyword">var</span> e1 = <span class="keyword">new</span> THREE.Euler(x, <span class="number">0</span>, z)</div><div class="line">        mesh.position.copy(sphereMesh.position).add(v1).applyEuler(e1);</div><div class="line">    &#125;;</div><div class="line">&#125;</div><div class="line">    (<span class="keyword">this</span>[<span class="string">'SphereWrap'</span>] = &#123;&#125;));</div></pre></td></tr></table></figure>
<h3 id="2-2-Demo-of-r1"><a href="#2-2-Demo-of-r1" class="headerlink" title="2.2 - Demo of r1"></a>2.2 - Demo of r1</h3><p>When creating a project with this module I can now just create mesh objects however I like when it comes to the mesh that is the sphere an any number of other mesh objects that i would like to place on the surface of the sphere. For this demo I just make a single mesh with a sphere geometry, and one other mesh using the box geometry. In the body of the app loop function I am then using the position of sphere method, and then the look at method of the object3d class as a way to set rotation of the object that I am placing on the sphere.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">scene.add(<span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>));</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">60</span>, <span class="number">320</span> / <span class="number">240</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line">camera.position.set(<span class="number">3.0</span>, <span class="number">3.0</span>, <span class="number">3.0</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">(<span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) ||  <span class="built_in">document</span>.body ).appendChild(renderer.domElement);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// MESH OBJECTS</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> sphere1 = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">    <span class="keyword">new</span> THREE.SphereGeometry(<span class="number">1</span>, <span class="number">30</span>, <span class="number">30</span>),</div><div class="line">    <span class="keyword">new</span> THREE.MeshNormalMaterial(&#123;<span class="attr">wireframe</span>: <span class="literal">true</span>&#125;)</div><div class="line">);</div><div class="line">scene.add(sphere1);</div><div class="line"><span class="keyword">const</span> box1 =  <span class="keyword">new</span> THREE.Mesh(</div><div class="line">    <span class="keyword">new</span> THREE.BoxGeometry(<span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>),</div><div class="line">    <span class="keyword">new</span> THREE.MeshNormalMaterial()</div><div class="line">);</div><div class="line">scene.add(box1);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// LOOP</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">let</span> lt = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">frame = <span class="number">0</span>;</div><div class="line"><span class="keyword">const</span> maxFrame = <span class="number">100</span>,</div><div class="line">fps = <span class="number">30</span>;</div><div class="line"><span class="keyword">const</span> loop = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">const</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">    per = frame / maxFrame,</div><div class="line">    secs = (now - lt) / <span class="number">1000</span>;</div><div class="line">    requestAnimationFrame(loop);</div><div class="line">    <span class="keyword">if</span> (secs &gt; <span class="number">1</span> / fps) &#123;</div><div class="line">        <span class="comment">// position to sphere</span></div><div class="line">        <span class="keyword">const</span> p = per * <span class="number">6</span> % <span class="number">1</span>,</div><div class="line">        b = <span class="number">1</span> - <span class="built_in">Math</span>.abs(<span class="number">0.5</span> - p) / <span class="number">0.5</span>;</div><div class="line">        SphereWrap.positionToSphere(sphere1, box1, <span class="number">0.75</span> - <span class="number">0.5</span> * b, per, <span class="number">0.25</span>);</div><div class="line">        <span class="comment">// using lookAt method to set box rotation</span></div><div class="line">        box1.lookAt(sphere1.position);</div><div class="line">        renderer.render(scene, camera);</div><div class="line">        frame += fps * secs;</div><div class="line">        frame %= maxFrame;</div><div class="line">        lt = now;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">loop();</div></pre></td></tr></table></figure>
<h2 id="3-The-first-version-of-this-example-r0"><a href="#3-The-first-version-of-this-example-r0" class="headerlink" title="3 - The first version of this example ( r0 )"></a>3 - The first version of this example ( r0 )</h2><p>In this section I will be going over the source code of this sphere warp module that creates an instance of a special group that contains a sphere as a child, along with another group that contains object wrap groups. Each object wrap group then contains a Mesh Object. The system is a little convoluted, and I am sure than in time I might be able to find or more elegant solution for this sort of thing, however when  it just comes to how things look the module seems to work as I expect it to.<br>The main create wrap method is what I will be using in the main javaScript file of a project that uses this module to create an instance of this sphere wrap group. The value that is returned by the create wrap method is an instance of the THREE.Group class which is of course based on object3d. So the object that is returned by the create method can just be directly passed to the add method of the scene object when I use this module. I then park any additional data that I will be using with my other methods in the user data object of this main wrap method and any other groups and mesh objects as needed.</p>
<p>To add a Mesh object to be placed on the surface of the sphere I will want to use the add object to wrap method for this. When calling this method the first value I pass is the wrap object I want to add an object for, followed by a name for this object. By default the method will add a cube mesh object, but I can also pass my own mesh object as a third value for this method. When calling the app object to wrap method the mesh object will be added as a child of an object wrap group and then this group will be added to a surface group. The values of the object wrap group and the mesh object itself are then what are mutated to change the position of the mesh object so it is positioned onto the surface of the sphere.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*  sphere-pos.js - r0 - from threejs-examples-position-things-to-sphere-surface</span></div><div class="line"> *  </div><div class="line"> */</div><div class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">api</span>) </span>&#123;</div><div class="line">    <span class="comment">// create wrap method</span></div><div class="line">    api.createWrap = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="comment">// create a wrap group</span></div><div class="line">        <span class="keyword">var</span> wrap = <span class="keyword">new</span> THREE.Group();</div><div class="line">        <span class="comment">// add a sphere to the wrap</span></div><div class="line">        <span class="keyword">var</span> sphere = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">                <span class="keyword">new</span> THREE.SphereGeometry(<span class="number">1</span>, <span class="number">40</span>, <span class="number">40</span>),</div><div class="line">                <span class="keyword">new</span> THREE.MeshNormalMaterial(&#123;</div><div class="line">                    <span class="attr">wireframe</span>: <span class="literal">true</span></div><div class="line">                &#125;));</div><div class="line">        wrap.userData.sphere = sphere;</div><div class="line">        wrap.add(sphere);</div><div class="line">        <span class="comment">// create a surface group and add to wrap</span></div><div class="line">        <span class="keyword">var</span> surface = <span class="keyword">new</span> THREE.Group();</div><div class="line">        wrap.userData.surface = surface;</div><div class="line">        wrap.add(surface);</div><div class="line">        <span class="keyword">return</span> wrap;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// set to lat and long helper</span></div><div class="line">    api.setObjToLatLong = <span class="function"><span class="keyword">function</span> (<span class="params">wrap, childName, latPer, longPer, dist</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> childWrap = wrap.getObjectByName(<span class="string">'objwrap_'</span> + childName),</div><div class="line">        child = childWrap.children[<span class="number">0</span>]; <span class="comment">//wrap.getObjectByName(childName),</span></div><div class="line">        <span class="comment">// set lat</span></div><div class="line">        <span class="keyword">var</span> radian = <span class="built_in">Math</span>.PI * <span class="number">-0.5</span> + <span class="built_in">Math</span>.PI * latPer,</div><div class="line">        x = <span class="built_in">Math</span>.cos(radian) * dist,</div><div class="line">        y = <span class="built_in">Math</span>.sin(radian) * dist;</div><div class="line">        child.position.set(x, y, <span class="number">0</span>);</div><div class="line">        <span class="comment">// set long</span></div><div class="line">        childWrap.rotation.y = <span class="built_in">Math</span>.PI * <span class="number">2</span> * longPer;</div><div class="line">        <span class="comment">// look at origin of wrap</span></div><div class="line">        <span class="keyword">var</span> v = <span class="keyword">new</span> THREE.Vector3();</div><div class="line">        wrap.getWorldPosition(v);</div><div class="line">        child.lookAt(v);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// Add an Object to a Sphere Wrap Group</span></div><div class="line">    api.addObjectToWrap = <span class="function"><span class="keyword">function</span> (<span class="params">wrap, objectName, obj</span>) </span>&#123;</div><div class="line">        <span class="comment">// create an obj</span></div><div class="line">        obj = obj || <span class="keyword">new</span> THREE.Mesh(</div><div class="line">                <span class="keyword">new</span> THREE.BoxGeometry(<span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>),</div><div class="line">                <span class="keyword">new</span> THREE.MeshNormalMaterial(&#123;</div><div class="line">                    <span class="attr">wireframe</span>: <span class="literal">false</span></div><div class="line">                &#125;));</div><div class="line">        obj.name = objectName;</div><div class="line">        <span class="keyword">var</span> objWrap = <span class="keyword">new</span> THREE.Group();</div><div class="line">        objWrap.name = <span class="string">'objwrap_'</span> + objectName;</div><div class="line">        objWrap.add(obj);</div><div class="line">        <span class="comment">// obj wrap user data object</span></div><div class="line">        <span class="keyword">var</span> ud = objWrap.userData;</div><div class="line">        ud.latPer = <span class="number">0</span>;</div><div class="line">        ud.longPer = <span class="number">0</span>;</div><div class="line">        <span class="keyword">var</span> radius = wrap.userData.sphere.geometry.parameters.radius;</div><div class="line">        ud.dist = radius + <span class="number">0.25</span>;</div><div class="line">        <span class="comment">// add the objWrap group to the surface group</span></div><div class="line">        wrap.userData.surface.add(objWrap);</div><div class="line">        <span class="comment">//set position for the first time</span></div><div class="line">        api.setObjToLatLong(wrap, objectName, ud.latPer, ud.longPer, ud.dist);</div><div class="line">    &#125;;</div><div class="line">&#125;</div><div class="line">    (<span class="keyword">this</span>[<span class="string">'SphereWrap'</span>] = &#123;&#125;));</div></pre></td></tr></table></figure>
<p>I then also have my set object to lat and long method that is what I can use to set the position of the mesh relative to a location on the surface of the sphere. When calling this method I pass the wrap object as the first object followed by the name of the object I want to set the position for. I can then set a latitude and longitude values in the form of numbers between 0 and 1. I then also have an additional argument that can be used to adjust the distance from the center of the sphere.</p>
<h3 id="3-1-Time-to-test-this-module-out"><a href="#3-1-Time-to-test-this-module-out" class="headerlink" title="3.1 - Time to test this module out"></a>3.1 - Time to test this module out</h3><p>In this section I will now be going over one demo of this module to test things out and make sure that everything is working as it should before toying with the idea of using this module in additional examples. In this demo of the sphere wrap module I set up an instance of a scene object, and then also set up my camera and renderer as well as an an animation loop method like many other such three.js examples.</p>
<p>I then added to instances of this sphere wrap group in this demo just for the sake of exercising the use case of having more than one of these in a scene. In the first one I added to mesh objects to the surface that are the default cube objects, but i also added one that is an instance of cone geometry. When doing so I needed to adjust the geometry so that it is facing the desired direction. This is because I have the mesh objects always looking down at the center of the sphere, so one way or another I need to adjust for that.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">scene.add(<span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>));</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">60</span>, <span class="number">320</span> / <span class="number">240</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line">camera.position.set(<span class="number">3.0</span>, <span class="number">3.0</span>, <span class="number">3.0</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">(<span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body ).appendChild(renderer.domElement);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// MESH OBJECTS</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// add wrap the the scene, and some cube objects</span></div><div class="line"><span class="keyword">const</span> wrap = SphereWrap.createWrap();</div><div class="line">scene.add(wrap);</div><div class="line">SphereWrap.addObjectToWrap(wrap, <span class="string">'cube'</span>);</div><div class="line">SphereWrap.addObjectToWrap(wrap, <span class="string">'cube2'</span>);</div><div class="line"><span class="comment">// adding a cone rather than the default cube</span></div><div class="line"><span class="comment">// some times I might want to rotate the geometry when doing so</span></div><div class="line"><span class="comment">// rather than Object3d as I will always have that looking at the origin of the</span></div><div class="line"><span class="comment">// sphere wrap group</span></div><div class="line"><span class="keyword">const</span> cone = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">        <span class="keyword">new</span> THREE.ConeGeometry(<span class="number">0.25</span>, <span class="number">0.5</span>, <span class="number">30</span>, <span class="number">30</span>),</div><div class="line">        <span class="keyword">new</span> THREE.MeshNormalMaterial(&#123;</div><div class="line">            <span class="attr">wireframe</span>: <span class="literal">true</span></div><div class="line">        &#125;));</div><div class="line">cone.geometry.rotateX(<span class="built_in">Math</span>.PI * <span class="number">1.5</span>);</div><div class="line">SphereWrap.addObjectToWrap(wrap, <span class="string">'cone'</span>, cone);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// LOOP</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// dist and lat log values</span></div><div class="line"><span class="keyword">let</span> dist = <span class="number">1.25</span>, <span class="comment">// radius + half of mesh height</span></div><div class="line">latPer = <span class="number">0.75</span>, <span class="comment">// 0 - 1</span></div><div class="line">longPer = <span class="number">0.5</span>; <span class="comment">// 0 - 1</span></div><div class="line"><span class="comment">// loop</span></div><div class="line"><span class="keyword">let</span> lt = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">frame = <span class="number">0</span>;</div><div class="line"><span class="keyword">const</span> maxFrame = <span class="number">600</span>,</div><div class="line">fps = <span class="number">30</span>;</div><div class="line"><span class="keyword">const</span> loop = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">const</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">    per = frame / maxFrame,</div><div class="line">    bias = <span class="number">1</span> - <span class="built_in">Math</span>.abs(per - <span class="number">0.5</span>) / <span class="number">0.5</span>,</div><div class="line">    secs = (now - lt) / <span class="number">1000</span>;</div><div class="line">    requestAnimationFrame(loop);</div><div class="line">    <span class="keyword">if</span> (secs &gt; <span class="number">1</span> / fps) &#123;</div><div class="line">        <span class="comment">// setting lat and long for 'cube'</span></div><div class="line">        latPer = <span class="number">0.25</span> + <span class="built_in">Math</span>.sin(<span class="built_in">Math</span>.PI * bias) * <span class="number">0.25</span>;</div><div class="line">        longPer = per;</div><div class="line">        SphereWrap.setObjToLatLong(wrap, <span class="string">'cube'</span>, latPer, longPer, dist);</div><div class="line">        <span class="comment">// rotating cube2</span></div><div class="line">        <span class="keyword">const</span> obj = wrap.getObjectByName(<span class="string">'cube2'</span>);</div><div class="line">        obj.geometry.rotateZ(<span class="built_in">Math</span>.PI / <span class="number">180</span> * <span class="number">20</span> * secs);</div><div class="line">        <span class="comment">// cone</span></div><div class="line">        SphereWrap.setObjToLatLong(wrap, <span class="string">'cone'</span>, <span class="number">1</span> - <span class="number">0.25</span> * bias, <span class="number">1</span> - <span class="number">1</span> * per, dist);</div><div class="line">        <span class="comment">// whole group</span></div><div class="line">        wrap.position.x = <span class="number">1</span> - <span class="number">2</span> * bias;</div><div class="line">        wrap.position.z = <span class="built_in">Math</span>.sin(<span class="built_in">Math</span>.PI * <span class="number">2</span> * bias) * <span class="number">2</span>;</div><div class="line">        renderer.render(scene, camera);</div><div class="line">        frame += fps * secs;</div><div class="line">        frame %= maxFrame;</div><div class="line">        lt = now;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">loop();</div></pre></td></tr></table></figure>
<p>In the main animation loop of this demo I am moving the objects in the surface of one of the sphere wrap instances, and also moving the sphere wrap group itself. It would seem that everything is working they way that it should thus far with this the objects on the surface move as they should along the surface of the sphere, and the whole group moves when I change those values.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>I learned a lot about three.js while working on this example, and a whole lot of other examples that I worked on this week. There are still a few methods and properties of classes like the object3d class that I have just not been using that much thus far, but now have a better understand of the class and why I some times need to use methods like the get world position method of the object 3d class. As such much of what I have worked out here will apply to future edits of other three.js posts, and examples when it comes to addressing some problems that I have discovered with some of my older work.</p>
<p>When writing the source code for this example I ended up exercising a few methods and features of threejs that are worth writing about also that can apply to a great many other things. For example there is using the <a href="/2021/05/13/threejs-object3d-lookat/">look at method of the object3d class</a> to get a mesh object to look at the center of the sphere. However when doing so I want the mesh to look at the actual center of the sphere rather than the location relative to world space so I am also using the get world position method of the object3d class to do so. However because I am always having the mesh objects look at the center of the sphere I will also want to make sure that the geometries of the mesh objects are always looking up away from the sphere, or in any other direction that I might want apart from the downward direction. So to help with this there are methods to work with when it comes to an instance of Buffer Geometry to change the orientation of the geometry independent from that of the mesh object.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dustinpfister.github.io/2021/05/14/threejs-examples-position-things-to-sphere-surface/" data-id="cleu7syn3029qecv1i9rfd6yj" class="article-share-link">Share</a>
      
        <a href="https://dustinpfister.github.io/2021/05/14/threejs-examples-position-things-to-sphere-surface/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/three-js/">three.js</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2021/05/17/threejs-examples-build-a-box/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Build a Box Helper Three.js example
        
      </div>
    </a>
  
  
    <a href="/2021/05/13/threejs-object3d-lookat/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">The Look At method in three.js</div>
    </a>
  
</nav>

  
</article>



<section id="comments">

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://dustinpfister.github.io/2021/05/14/threejs-examples-position-things-to-sphere-surface/index.html';
    this.page.identifier = '867';
    this.page.title = 'Position Other Mesh Objects onto the surface of a Sphere Three.js example';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://dustinpfister-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular/">angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/api/">api</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/backbone/">backbone</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/discovery/">discovery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/electronjs/">electronjs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/games/">games</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/grunt/">grunt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hapi/">hapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/heroku/">heroku</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jquery/">jquery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lodash/">lodash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node-js/">node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/phaser/">phaser</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/statistics/">statistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/three-js/">three.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backbone/">backbone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/corejs/">corejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deterministic/">deterministic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discovery/">discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejs/">ejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/electronjs/">electronjs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hapi/">hapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jimp/">jimp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js13k/">js13k</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/structured-data/">structured-data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/themes/">themes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three-js/">three.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JSON/" style="font-size: 12.27px;">JSON</a> <a href="/tags/SEO/" style="font-size: 10.45px;">SEO</a> <a href="/tags/angular/" style="font-size: 13.18px;">angular</a> <a href="/tags/animation/" style="font-size: 11.82px;">animation</a> <a href="/tags/automation/" style="font-size: 11.82px;">automation</a> <a href="/tags/backbone/" style="font-size: 12.27px;">backbone</a> <a href="/tags/blog/" style="font-size: 15.45px;">blog</a> <a href="/tags/canvas/" style="font-size: 18.64px;">canvas</a> <a href="/tags/corejs/" style="font-size: 12.73px;">corejs</a> <a href="/tags/deterministic/" style="font-size: 10px;">deterministic</a> <a href="/tags/discovery/" style="font-size: 10.91px;">discovery</a> <a href="/tags/ejs/" style="font-size: 11.36px;">ejs</a> <a href="/tags/electronjs/" style="font-size: 13.64px;">electronjs</a> <a href="/tags/express/" style="font-size: 16.82px;">express</a> <a href="/tags/games/" style="font-size: 17.27px;">games</a> <a href="/tags/git/" style="font-size: 12.73px;">git</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hapi/" style="font-size: 15px;">hapi</a> <a href="/tags/heroku/" style="font-size: 11.82px;">heroku</a> <a href="/tags/hexo/" style="font-size: 14.55px;">hexo</a> <a href="/tags/jimp/" style="font-size: 10.45px;">jimp</a> <a href="/tags/jquery/" style="font-size: 11.36px;">jquery</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/js13k/" style="font-size: 10px;">js13k</a> <a href="/tags/linux/" style="font-size: 17.73px;">linux</a> <a href="/tags/lodash/" style="font-size: 18.64px;">lodash</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mongodb/" style="font-size: 14.55px;">mongodb</a> <a href="/tags/node-js/" style="font-size: 19.55px;">node.js</a> <a href="/tags/phaser/" style="font-size: 18.18px;">phaser</a> <a href="/tags/python/" style="font-size: 15.91px;">python</a> <a href="/tags/statistics/" style="font-size: 14.09px;">statistics</a> <a href="/tags/structured-data/" style="font-size: 10px;">structured-data</a> <a href="/tags/themes/" style="font-size: 10px;">themes</a> <a href="/tags/three-js/" style="font-size: 19.09px;">three.js</a> <a href="/tags/vuejs/" style="font-size: 16.36px;">vuejs</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/03/03/threejs-examples-breath-module/">A Breath Module threejs project example</a>
          </li>
        
          <li>
            <a href="/2023/02/23/threejs-points/">Points in threejs</a>
          </li>
        
          <li>
            <a href="/2023/02/17/threejs-examples-tracks/">Train Track threejs module project example</a>
          </li>
        
          <li>
            <a href="/2023/02/10/threejs-curves-cubicbeziercurve3/">Cubic Bezier Curves in threejs</a>
          </li>
        
          <li>
            <a href="/2023/02/03/threejs-buffer-geometry-morph-attributes/">Morph Attributes of buffer geometry objects</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2023 Dustin Pfister<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      <br>
      <a href="/privacy.html" target="_blank">Privacy Policy</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/2021/02/19/threejs-examples/" class="mobile-nav-link">ThreeJS</a>
  
    <a href="/2020/03/23/canvas-example/" class="mobile-nav-link">Canvas</a>
  
    <a href="https://www.youtube.com/user/javaweaver" class="mobile-nav-link">Youtube</a>
  
    <a href="https://github.com/dustinpfister" class="mobile-nav-link">Github</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'dustinpfister-github-io';
  
  var disqus_url = 'https://dustinpfister.github.io/2021/05/14/threejs-examples-position-things-to-sphere-surface/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


  </div>
</body>
</html>