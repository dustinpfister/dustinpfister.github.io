<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <!-- disqus image-->
  <meta property="og:image" content="https://dustinpfister.github.io/css/images/banner.jpg">
  
  <title>Nested Groups threejs example | Dustin John Pfister at github pages</title>
  
  <!-- no index tag or blank here -->
  
  
  <link rel="canonical" href="https://dustinpfister.github.io/2021/05/10/threejs-examples-nested-groups/" />

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="This will be a post on a nested groups threejs example that I made today that is a continuation of what I started with my post on use of the user data object in the object3d class. The user data objec">
<meta property="og:type" content="article">
<meta property="og:title" content="Nested Groups threejs example">
<meta property="og:url" content="https://dustinpfister.github.io/2021/05/10/threejs-examples-nested-groups/index.html">
<meta property="og:site_name" content="Dustin John Pfister at github pages">
<meta property="og:description" content="This will be a post on a nested groups threejs example that I made today that is a continuation of what I started with my post on use of the user data object in the object3d class. The user data objec">
<meta property="og:updated_time" content="2022-04-28T19:52:14.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Nested Groups threejs example">
<meta name="twitter:description" content="This will be a post on a nested groups threejs example that I made today that is a continuation of what I started with my post on use of the user data object in the object3d class. The user data objec">
  
    <link rel="alternate" href="/atom.xml" title="Dustin John Pfister at github pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <!-- Google Analytics -->

<!-- old UA property using (analytics.js) -->

<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-83195184-1', 'auto');
ga('send', 'pageview');

</script>


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y8XLNG6JRW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Y8XLNG6JRW');
</script>
<!-- End Google Analytics -->


  <!-- structured data set in structured-data.ejs -->
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "email": "distin.pfister@gmail.com",
    "givenName": "Dustin",
    "familyName" : "Pfister",
    "additionalName": "John",
    "name": "Dustin John Pfister",
    "gender": "Male"
}
</script>
<!-- end structured data -->
  
  <!-- adsense if indexed -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1658284027672315",
    enable_page_level_ads: true
  });
  </script>
  
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <!-- added the image-->
        <div class="selfimage"></div>
        <!--<a href="/" id="logo">Dustin John Pfister at github pages</a>-->
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/2021/02/19/threejs-examples/">ThreeJS-Examples</a>
        
          <a class="main-nav-link" href="/2020/03/23/canvas-example/">Canvas-Examples</a>
        
          <a class="main-nav-link" href="https://github.com/dustinpfister">Github</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <!-- removed rss link-->
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dustinpfister.github.io"></form>
      </div>
    </div>
  </div>
</header>

<!-- adding my canvas thing ( Dustin ) -->
<script src="/js/the_matrix.js"></script>
      <div class="outer">
        <section id="main"><article itemscope itemtype="http://schema.org/Blog" id="post-threejs-examples-nested-groups" class="article article-type-post" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/05/10/threejs-examples-nested-groups/" class="article-date"> Published:
  <time datetime="2021-05-10T19:03:00.000Z" itemprop="datePublished">2021-05-10</time>
</a>

    <!-- other info (dustin) -->
    <a href="/2021/05/10/threejs-examples-nested-groups/" class="article-date"> Modified:
  <time datetime="2022-04-28T19:52:14.000Z" itemprop="dateModified">2022-04-28</time>
</a>

    <span class="article-date">V1.12</span>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/three-js/">three.js</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Nested Groups threejs example
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="text">
      
        <p>This will be a post on a nested groups <a href="/2021/02/19/threejs-examples/">threejs example</a> that I made today that is a continuation of what I started with my post on use of the user data object in the object3d class. The user data object of the Object3d class is a standard object for everything based on object3d for parking application specific data to help make sure that there are no conflicts with properties that are used with three.js. </p>
<p>When making my own code for an over all three.js project I am going to end up with a lot of my own properties and javaScript code that updates those properties. I could do something where I keep all of my own code separate, and then apply that to mesh objects, groups, cameras and so forth. That is to have say to separate collections of state data, one of which I create and update with my own code, and then methods that I used to update the state of a scene objects and all children. However there should still be a standard way of appending some data to objects and the way to do so would be to make use of this user data object.</p>
<a id="more"></a>
<h2 id="What-to-know-first-before-reading-more-about-this-three-js-example"><a href="#What-to-know-first-before-reading-more-about-this-three-js-example" class="headerlink" title="What to know first before reading more about this three.js example"></a>What to know first before reading more about this three.js example</h2><p>This is one of my many three.js examples that makes use of the client side <a href="https://threejs.org/docs/index.html#manual/en/introduction/Creating-a-scene" target="_blank" rel="external">javaScript library known as three.js</a>. This post is intended for javaScript developers that have learned a thing or two about the basics and are not looking into how to go about getting started when it comes to making some actual projects of some kind with three.js. So I assume that you have at least some background with the <a href="/2018/04/04/threejs-getting-started/">basics of three.js</a>, and know at least a thing or two about <a href="/2018/11/27/js-getting-started/">javaScript in general</a>. So I will not be touching base on the basics of three.js and javaScript here, but in this section I will be going over a few things that I think you should read up mre on before getting into this example.</p>
<iframe class="youtube_video" src="https://www.youtube.com/embed/3hN1kC7mH6k" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<h3 id="Version-Numbers-matter-with-three-js"><a href="#Version-Numbers-matter-with-three-js" class="headerlink" title="Version Numbers matter with three.js"></a>Version Numbers matter with three.js</h3><p>When I first wrote this post I was using three.js revision r127, as such the code here might break in future versions of three.js.</p>
<h3 id="Read-up-more-on-the-user-data-property-of-the-Object3d-class"><a href="#Read-up-more-on-the-user-data-property-of-the-Object3d-class" class="headerlink" title="Read up more on the user data property of the Object3d class"></a>Read up more on the user data property of the Object3d class</h3><p>This example is an advanced continuation of <a href="/2021/02/16/threejs-userdata/">one of the examples that I worked out for my post on the user data object</a> of the object3d class. This object is the official object in a Mesh, Group, Camera, or anything the is based on the object3d class that can be used to park user defined data. This user defined data is just data that belongs to a given object of some kind of a three.js project that has to do with ones own code rather than three.js internal logic. Speaking of the <a href="/2018/04/23/threejs-object3d/">object3d class</a> it might be a good idea to read up more on that class in general as it is a major part of three.js that I tend to use just about all the time.</p>
<h2 id="1-The-cube-groups-module"><a href="#1-The-cube-groups-module" class="headerlink" title="1 - The cube groups module"></a>1 - The cube groups module</h2><p>This is the cube group module that I started in my post that has to do with the user data object of the object3d class. I do not think that I did much to it when it comes to changes from what I wrote about in that post, but still I think I should write a thing or two about it here as I am using it in my main nested groups module that I will be getting to later in this post.</p>
<p>This cube groups module will return a group of mesh objects where each mesh object is a box geometry and a given material that is given when calling the main create method of this module. Tne idea here is to just have a collection of eight of these mesh objects, and then be able to tweak some options to change the way that these groups of objects move over time.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">api</span>) </span>&#123;</div><div class="line"> </div><div class="line">    <span class="keyword">var</span> ANGLES_A = [<span class="number">225</span>, <span class="number">315</span>, <span class="number">135</span>, <span class="number">45</span>];</div><div class="line"> </div><div class="line">    <span class="keyword">var</span> toRadians = <span class="function"><span class="keyword">function</span> (<span class="params">array</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> array.map(<span class="function"><span class="keyword">function</span>(<span class="params">deg</span>)</span>&#123;</div><div class="line">            <span class="keyword">return</span> <span class="built_in">Math</span>.PI / <span class="number">180</span> * deg;</div><div class="line">        &#125;);</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="comment">// create a single cube mesh</span></div><div class="line">    <span class="keyword">var</span> createCube = <span class="function"><span class="keyword">function</span> (<span class="params">rotationCounts, position, materials</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> cube = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">                <span class="keyword">new</span> THREE.BoxGeometry(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>),</div><div class="line">                materials || <span class="keyword">new</span> THREE.MeshNormalMaterial());</div><div class="line">        <span class="comment">// USER DATA OBJECT FOR A SINGLE CUBE</span></div><div class="line">        <span class="keyword">var</span> ud = cube.userData;</div><div class="line">        ud.rotationCounts = rotationCounts || [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>];</div><div class="line">        cube.position.copy(position || <span class="keyword">new</span> THREE.Vector3(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>));</div><div class="line">        <span class="keyword">return</span> cube;</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="comment">// update a single cube</span></div><div class="line">    <span class="keyword">var</span> updateCube = <span class="function"><span class="keyword">function</span> (<span class="params">cube, per</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> ud = cube.userData,</div><div class="line">        rc = ud.rotationCounts,</div><div class="line">        pi2 = <span class="built_in">Math</span>.PI * <span class="number">2</span>;</div><div class="line">        cube.rotation.x = pi2 * rc[<span class="number">0</span>] * per;</div><div class="line">        cube.rotation.y = pi2 * rc[<span class="number">1</span>] * per;</div><div class="line">        cube.rotation.z = pi2 * rc[<span class="number">2</span>] * per;</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="comment">// public method to create a cube group</span></div><div class="line">    api.create = <span class="function"><span class="keyword">function</span>(<span class="params">opt</span>) </span>&#123;</div><div class="line">        opt = opt || &#123;&#125;;</div><div class="line">        opt.cubeRotations = opt.cubeRotations || [];</div><div class="line">        <span class="keyword">var</span> cubes = <span class="keyword">new</span> THREE.Group(),</div><div class="line">        <span class="comment">// USER DATA OBJECT FOR A GROUP OF CUBES</span></div><div class="line">        gud = cubes.userData;</div><div class="line">        gud.frame = <span class="number">0</span>;</div><div class="line">        gud.maxFrame = opt.maxFrame || <span class="number">180</span>;</div><div class="line">        gud.fps = opt.fps || <span class="number">30</span>;</div><div class="line">        gud.anglesA = toRadians(opt.anglesA || ANGLES_A);</div><div class="line">        gud.yDelta = opt.yDelta === <span class="literal">undefined</span> ? <span class="number">2</span> : opt.yDelta;</div><div class="line">        gud.xzDelta = opt.xzDelta === <span class="literal">undefined</span> ? <span class="number">2</span> : opt.xzDelta;</div><div class="line">        gud.rotations = opt.rotations || [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>];</div><div class="line">        gud.secs = <span class="number">0</span>;</div><div class="line">        gud.type = <span class="string">'cubegroup'</span>;</div><div class="line">        <span class="keyword">var</span> i = <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span>(i &lt; <span class="number">8</span>)&#123;</div><div class="line">            <span class="keyword">var</span> cubeRotations = opt.cubeRotations[i] || [<span class="number">0.00</span>, <span class="number">0.00</span>, <span class="number">0.00</span>];</div><div class="line">            <span class="keyword">var</span> cube = createCube(</div><div class="line">                cubeRotations, </div><div class="line">                <span class="keyword">new</span> THREE.Vector3(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>),</div><div class="line">                opt.materials);</div><div class="line">            cubes.add(cube);</div><div class="line">            i += <span class="number">1</span>;</div><div class="line">        &#125;;        </div><div class="line">        <span class="keyword">return</span> cubes;</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="keyword">var</span> setCubesRotation = <span class="function"><span class="keyword">function</span>(<span class="params">cubes, per</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> gud = cubes.userData,</div><div class="line">        r = gud.rotations,</div><div class="line">        PI2 = <span class="built_in">Math</span>.PI * <span class="number">2</span>;</div><div class="line">        <span class="keyword">var</span> x = PI2 * r[<span class="number">0</span>] * per,</div><div class="line">        y = PI2 * r[<span class="number">1</span>] * per,</div><div class="line">        z = PI2 * r[<span class="number">2</span>] * per;</div><div class="line">        cubes.rotation.set(x, y, z);</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="comment">// update the group</span></div><div class="line">    api.update = <span class="function"><span class="keyword">function</span>(<span class="params">cubes, secs</span>) </span>&#123;</div><div class="line">        <span class="comment">// GROUP USER DATA OBJECT</span></div><div class="line">        <span class="keyword">var</span> gud = cubes.userData;</div><div class="line">        <span class="keyword">var</span> per = gud.frame / gud.maxFrame,</div><div class="line">        bias = <span class="number">1</span> - <span class="built_in">Math</span>.abs(per - <span class="number">0.5</span>) / <span class="number">0.5</span>;</div><div class="line">        <span class="comment">// update cubes</span></div><div class="line">        cubes.children.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">cube, i</span>) </span>&#123;</div><div class="line">            <span class="comment">// start values</span></div><div class="line">            <span class="keyword">var</span> sx = i % <span class="number">2</span> - <span class="number">0.5</span>,</div><div class="line">            sz = <span class="built_in">Math</span>.floor(i / <span class="number">2</span>) - <span class="built_in">Math</span>.floor(i / <span class="number">4</span>) * <span class="number">2</span> - <span class="number">0.5</span>,</div><div class="line">            sy = <span class="built_in">Math</span>.floor(i / (<span class="number">2</span> * <span class="number">2</span>)) - <span class="number">0.5</span>;</div><div class="line">            <span class="comment">// adjusted</span></div><div class="line">            <span class="keyword">var</span> aIndex = i % <span class="number">4</span>,</div><div class="line">            bIndex = <span class="built_in">Math</span>.floor(i / <span class="number">4</span>),</div><div class="line">            r1 = gud.anglesA[aIndex],</div><div class="line">            x = sx + <span class="built_in">Math</span>.cos(r1) * gud.xzDelta * bias,</div><div class="line">            y = sy + gud.yDelta * bias * (bIndex === <span class="number">0</span> ? <span class="number">-1</span> : <span class="number">1</span>),</div><div class="line">            z = sz + <span class="built_in">Math</span>.sin(r1) * gud.xzDelta * bias;</div><div class="line">            <span class="comment">// set position of cube</span></div><div class="line">            cube.position.set(x, y, z);</div><div class="line">            <span class="comment">// call cube update method</span></div><div class="line">            updateCube(cube, per);</div><div class="line">        &#125;);</div><div class="line">        <span class="comment">// whole group rotation</span></div><div class="line">        setCubesRotation(cubes, bias);</div><div class="line">        <span class="comment">// step frame</span></div><div class="line">        gud.secs += secs;</div><div class="line">        <span class="keyword">if</span>(gud.secs &gt;= <span class="number">1</span> / gud.fps)&#123;</div><div class="line">            gud.frame += <span class="number">1</span>; <span class="comment">// gud.fps * secs;</span></div><div class="line">            gud.frame %= gud.maxFrame;</div><div class="line">            gud.secs %= <span class="number">1</span> / gud.fps; </div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">&#125;</div><div class="line">    (<span class="keyword">this</span>[<span class="string">'CubeGroupMod'</span>] = &#123;&#125;));</div></pre></td></tr></table></figure>
<h2 id="2-The-nested-groups-module"><a href="#2-The-nested-groups-module" class="headerlink" title="2 - The nested groups module"></a>2 - The nested groups module</h2><p>Here I now I have my main nested groups module that will create an return a main group that I will be adding to the scene in my main javaScript file. The general idea I have here is to have a main module like this that will return a group object, and then everything else the composes the example that is attached to that group as a child. This group will contain additional groups, and thus be a situation in which I am dealing with nested groups, thus the name of this example.</p>
<p>At the top of the file I have a create point light, and create point light group helpers. The method that is used to create a point light group is one of several nested groups that I will be attaching to the main group that is returned by the create method of this module. This group of lights is a collection of three point lights one lime, one blue, and another that is read along with a white one that I have placed at the center. I can then rotate and position this group of lights relative to the main group.</p>
<p>I then have a create world group helper that will contain all the instances of my cube group module that I wen over in an above section in this post. I wanted to create at least a few instances of this kind of group and position them all over the place in the world group. At the time of this writing the only other object that I have in this word group is a grid helper that that I often like to add to many examples like this. Although I might not be doing much of anything with this group now, if I keep working on this I might want to do something that will effect all mesh objects in this group, but not any objects or groups outside of it, such as a screen shake type thing or something to that effect.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">api</span>) </span>&#123;</div><div class="line"> </div><div class="line">    <span class="keyword">var</span> MATERIALS_CUBE = <span class="keyword">new</span> THREE.MeshStandardMaterial(&#123;<span class="attr">color</span>: <span class="string">'white'</span>&#125;);</div><div class="line"> </div><div class="line">    <span class="keyword">var</span> createPointLight = <span class="function"><span class="keyword">function</span>(<span class="params">color</span>)</span>&#123;</div><div class="line">        color = color || <span class="keyword">new</span> THREE.Color(<span class="string">'white'</span>);</div><div class="line">        <span class="keyword">var</span> light = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">            <span class="keyword">new</span> THREE.SphereGeometry(<span class="number">0.25</span>, <span class="number">30</span>, <span class="number">30</span>), </div><div class="line">            <span class="keyword">new</span> THREE.MeshBasicMaterial(&#123;</div><div class="line">                <span class="attr">color</span>: color,</div><div class="line">                <span class="attr">transparent</span>: <span class="literal">true</span>,</div><div class="line">                <span class="attr">opacity</span>: <span class="number">1</span></div><div class="line">            &#125;)</div><div class="line">        );</div><div class="line">        light.userData.pointLight = <span class="keyword">new</span> THREE.PointLight(color, <span class="number">0.25</span>);</div><div class="line">        light.add(light.userData.pointLight);</div><div class="line">        <span class="keyword">return</span> light;</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="keyword">var</span> createPointLightGroup = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> lightGroup = <span class="keyword">new</span> THREE.Group();</div><div class="line">        <span class="comment">// lights</span></div><div class="line">        <span class="keyword">var</span> light = createPointLight(<span class="keyword">new</span> THREE.Color(<span class="string">'lime'</span>));</div><div class="line">        light.position.set(<span class="number">0</span>, <span class="number">8</span>, <span class="number">0</span>);</div><div class="line">        lightGroup.add(light);</div><div class="line">        <span class="keyword">var</span> light = createPointLight(<span class="keyword">new</span> THREE.Color(<span class="string">'blue'</span>));</div><div class="line">        light.position.set(<span class="number">0</span>, <span class="number">-8</span>, <span class="number">0</span>);</div><div class="line">        lightGroup.add(light);</div><div class="line">        <span class="keyword">var</span> light = createPointLight(<span class="keyword">new</span> THREE.Color(<span class="string">'red'</span>));</div><div class="line">        light.position.set(<span class="number">8</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">        lightGroup.add(light);</div><div class="line">        <span class="keyword">var</span> light = createPointLight(<span class="keyword">new</span> THREE.Color(<span class="string">'white'</span>));</div><div class="line">        light.position.set(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">        lightGroup.add(light);</div><div class="line">        <span class="keyword">return</span> lightGroup;</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="keyword">var</span> createWorldObjects = <span class="function"><span class="keyword">function</span>(<span class="params">nud</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> worldObjects = <span class="keyword">new</span> THREE.Group();</div><div class="line">        <span class="comment">// grid helper</span></div><div class="line">        <span class="keyword">var</span> gridHelper = <span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>);</div><div class="line">        worldObjects.add(gridHelper);</div><div class="line">        <span class="comment">// nested cube group one</span></div><div class="line">        <span class="keyword">var</span> cubes1 = nud.cubes1 = CubeGroupMod.create(&#123;</div><div class="line">            <span class="attr">materials</span>: MATERIALS_CUBE,</div><div class="line">            <span class="attr">rotations</span>: [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]</div><div class="line">        &#125;);</div><div class="line">        worldObjects.add(cubes1);</div><div class="line">        <span class="keyword">var</span> cubes2 = nud.cubes2 = CubeGroupMod.create(&#123;</div><div class="line">            <span class="attr">materials</span>: MATERIALS_CUBE,</div><div class="line">            <span class="attr">anglesA</span>: [<span class="number">180</span>, <span class="number">180</span>, <span class="number">90</span>, <span class="number">90</span>],</div><div class="line">            <span class="attr">rotations</span>: [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>]</div><div class="line">        &#125;);</div><div class="line">        cubes2.position.set(<span class="number">5</span>, <span class="number">0</span>, <span class="number">5</span>);</div><div class="line">        worldObjects.add(cubes2);</div><div class="line">        <span class="keyword">var</span> cubes3 = nud.cubes3 = CubeGroupMod.create(&#123;</div><div class="line">            <span class="attr">materials</span>: MATERIALS_CUBE,</div><div class="line">            <span class="attr">anglesA</span>: [<span class="number">180</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</div><div class="line">            <span class="attr">rotations</span>: [<span class="number">2</span>, <span class="number">0</span>, <span class="number">1</span>]</div><div class="line">        &#125;);</div><div class="line">        cubes3.position.set(<span class="number">-5</span>, <span class="number">0</span>, <span class="number">-5</span>);</div><div class="line">        worldObjects.add(cubes3);</div><div class="line">        <span class="keyword">return</span> worldObjects;</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="comment">// create nested groups</span></div><div class="line">    api.create = <span class="function"><span class="keyword">function</span>(<span class="params">opt</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> nested = <span class="keyword">new</span> THREE.Group(),</div><div class="line">        nud = nested.userData;</div><div class="line">        nud.frame = <span class="number">0</span>;</div><div class="line">        nud.maxFrame = <span class="number">600</span>;</div><div class="line">        <span class="comment">// Camera</span></div><div class="line">        <span class="keyword">var</span> camera = nud.camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">45</span>, <span class="number">4</span> / <span class="number">3</span>, <span class="number">5</span>, <span class="number">60</span>);</div><div class="line">        camera.position.set(<span class="number">0</span>, <span class="number">10</span>, <span class="number">10</span>);</div><div class="line">        camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">        nud.cameraRadian = <span class="number">0</span>;</div><div class="line">        <span class="comment">// add camera to nested</span></div><div class="line">        nested.add(camera);</div><div class="line">        <span class="comment">// lights</span></div><div class="line">        <span class="keyword">var</span> lightGroup = nud.lightGroup = createPointLightGroup();</div><div class="line">        nested.add(lightGroup);</div><div class="line"> </div><div class="line">        <span class="comment">// world objects</span></div><div class="line">        nud.worldObjects = createWorldObjects(nud);</div><div class="line">        nested.add(nud.worldObjects);</div><div class="line">        <span class="keyword">return</span> nested;</div><div class="line"> </div><div class="line">    &#125;;</div><div class="line">  </div><div class="line">    <span class="comment">// update the nested groups</span></div><div class="line">    api.update = <span class="function"><span class="keyword">function</span>(<span class="params">nested, secs</span>) </span>&#123;</div><div class="line">       <span class="keyword">var</span> nud = nested.userData,</div><div class="line">       per = nud.frame / nud.maxFrame,</div><div class="line">       bias = <span class="number">1</span> - <span class="built_in">Math</span>.abs(per - <span class="number">0.5</span>) / <span class="number">0.5</span>;</div><div class="line">       <span class="comment">// camera</span></div><div class="line">       nud.cameraRadian = <span class="built_in">Math</span>.PI * <span class="number">2</span> * per;</div><div class="line">       nud.camera.position.x = <span class="built_in">Math</span>.cos(nud.cameraRadian) * <span class="number">15</span>;</div><div class="line">       nud.camera.position.y = <span class="number">15</span> * <span class="built_in">Math</span>.sin(nud.cameraRadian);</div><div class="line">       nud.camera.position.z = <span class="built_in">Math</span>.sin(nud.cameraRadian) * <span class="number">15</span>;</div><div class="line">       nud.camera.lookAt(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>);</div><div class="line">       <span class="comment">// update cube group</span></div><div class="line">       nud.worldObjects.children.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">obj</span>)</span>&#123;</div><div class="line">           <span class="keyword">if</span>(obj.userData.type)&#123;</div><div class="line">               <span class="keyword">if</span>(obj.userData.type === <span class="string">'cubegroup'</span>)&#123;</div><div class="line">                   CubeGroupMod.update(obj, secs);</div><div class="line">               &#125;</div><div class="line">           &#125;</div><div class="line">       &#125;);</div><div class="line">       <span class="comment">// lights</span></div><div class="line">       nud.lightGroup.rotation.x = <span class="built_in">Math</span>.PI * <span class="number">8</span> * per;</div><div class="line">       nud.lightGroup.children.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">light</span>)</span>&#123;</div><div class="line">           <span class="keyword">var</span> pointLight = light.userData.pointLight,</div><div class="line">           intensity = <span class="number">0.05</span> + <span class="number">0.95</span> * bias;</div><div class="line">           pointLight.intensity = intensity;</div><div class="line">           light.material.opacity = intensity;</div><div class="line">       &#125;);</div><div class="line">       <span class="comment">// step frame</span></div><div class="line">       nud.frame += <span class="number">30</span> * secs;</div><div class="line">       nud.frame %= nud.maxFrame;</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">&#125;</div><div class="line">    (<span class="keyword">this</span>[<span class="string">'NestedGroupsMod'</span>] = &#123;&#125;));</div></pre></td></tr></table></figure>
<h2 id="3-The-main-javaScript-file"><a href="#3-The-main-javaScript-file" class="headerlink" title="3 - The main javaScript file"></a>3 - The main javaScript file</h2><p>The main javaScript file of this example is then pretty thin as much of the logic is pulled away into the nested groups module. I do not even create a camera here in as I typically would in most other projects because this time I want the camera to be part of the nested groups module.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">    <span class="keyword">var</span> nested = NestedGroupsMod.create();</div><div class="line">    scene.add(nested);</div><div class="line">    <span class="comment">// Render</span></div><div class="line">    <span class="keyword">var</span> renderer = <span class="keyword">new</span> THREE.WebGLRenderer();</div><div class="line">    renderer.setSize(<span class="number">640</span>, <span class="number">480</span>);</div><div class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>).appendChild(renderer.domElement);</div><div class="line"> </div><div class="line">    <span class="comment">// loop</span></div><div class="line">    <span class="keyword">var</span> lt = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">    fps = <span class="number">24</span>;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">loop</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">        secs = (now - lt) / <span class="number">1000</span>;</div><div class="line">        requestAnimationFrame(loop);</div><div class="line">        <span class="keyword">if</span> (secs &gt; <span class="number">1</span> / fps) &#123;</div><div class="line">            NestedGroupsMod.update(nested, secs);</div><div class="line">            renderer.render(scene, nested.userData.camera);</div><div class="line">            lt = now;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    loop();</div><div class="line"> </div><div class="line">&#125;</div><div class="line">    ());</div></pre></td></tr></table></figure>
<p>When I have this example up and running I end up with a pretty cool looking scene, but there is still more I think I would like to change around a little when it comes to making this a little more interesting maybe. I like how everything is pretty animated and that it is all combined together into this one main module. If I get more time to work on this example I might want to break things down more by having separates modules for the light objects, as well as maybe bring some additional modules that I have worked out in other examples into this scene.</p>
<h2 id="4-Conclusion"><a href="#4-Conclusion" class="headerlink" title="4 - Conclusion"></a>4 - Conclusion</h2><p>This turned out to just be a quick fun example just for the sake of having a little fun with three.js, after all this is a pretty cool library and I would like to just create weird stuff with it. However I did not just play around with threejs just for the sake of making another project example like this, I would like to get into the habit of making use of the user data object as a way to go about packing data that has to do with my own javaScript code when making one or more modules. Doing so will make it so that the create methods that I make for my modules will return an object that is based off of Object3d rather than having that kind of object be a property of some kind of weird custom object format.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dustinpfister.github.io/2021/05/10/threejs-examples-nested-groups/" data-id="cl51f0np6026504v1f30zomhw" class="article-share-link">Share</a>
      
        <a href="https://dustinpfister.github.io/2021/05/10/threejs-examples-nested-groups/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/three-js/">three.js</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2021/05/11/threejs-object3d-scale/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Scale Mesh Objects, Groups, and so forth in threejs
        
      </div>
    </a>
  
  
    <a href="/2021/05/07/threejs-examples-backyard/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Backyard Scene threejs example</div>
    </a>
  
</nav>

  
</article>



<section id="comments">

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://dustinpfister.github.io/2021/05/10/threejs-examples-nested-groups/index.html';
    this.page.identifier = '863';
    this.page.title = 'Nested Groups threejs example';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://dustinpfister-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular/">angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/api/">api</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/backbone/">backbone</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/discovery/">discovery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/electronjs/">electronjs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/games/">games</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/grunt/">grunt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hapi/">hapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/heroku/">heroku</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jquery/">jquery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lodash/">lodash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node-js/">node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/phaser/">phaser</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/statistics/">statistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/three-js/">three.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backbone/">backbone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/corejs/">corejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deterministic/">deterministic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discovery/">discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejs/">ejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/electronjs/">electronjs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hapi/">hapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jimp/">jimp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js13k/">js13k</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/structured-data/">structured-data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/themes/">themes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three-js/">three.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JSON/" style="font-size: 12.5px;">JSON</a> <a href="/tags/SEO/" style="font-size: 10.5px;">SEO</a> <a href="/tags/angular/" style="font-size: 13.5px;">angular</a> <a href="/tags/animation/" style="font-size: 12px;">animation</a> <a href="/tags/automation/" style="font-size: 12px;">automation</a> <a href="/tags/backbone/" style="font-size: 12.5px;">backbone</a> <a href="/tags/blog/" style="font-size: 15px;">blog</a> <a href="/tags/canvas/" style="font-size: 18.5px;">canvas</a> <a href="/tags/corejs/" style="font-size: 13px;">corejs</a> <a href="/tags/deterministic/" style="font-size: 10px;">deterministic</a> <a href="/tags/discovery/" style="font-size: 11px;">discovery</a> <a href="/tags/ejs/" style="font-size: 11.5px;">ejs</a> <a href="/tags/electronjs/" style="font-size: 13px;">electronjs</a> <a href="/tags/express/" style="font-size: 16.5px;">express</a> <a href="/tags/games/" style="font-size: 17px;">games</a> <a href="/tags/git/" style="font-size: 13px;">git</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hapi/" style="font-size: 15px;">hapi</a> <a href="/tags/heroku/" style="font-size: 12px;">heroku</a> <a href="/tags/hexo/" style="font-size: 14.5px;">hexo</a> <a href="/tags/jimp/" style="font-size: 10.5px;">jimp</a> <a href="/tags/jquery/" style="font-size: 11.5px;">jquery</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/js13k/" style="font-size: 10px;">js13k</a> <a href="/tags/linux/" style="font-size: 17.5px;">linux</a> <a href="/tags/lodash/" style="font-size: 18.5px;">lodash</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mongodb/" style="font-size: 14.5px;">mongodb</a> <a href="/tags/node-js/" style="font-size: 19.5px;">node.js</a> <a href="/tags/phaser/" style="font-size: 18px;">phaser</a> <a href="/tags/python/" style="font-size: 15.5px;">python</a> <a href="/tags/statistics/" style="font-size: 14px;">statistics</a> <a href="/tags/structured-data/" style="font-size: 10px;">structured-data</a> <a href="/tags/themes/" style="font-size: 10px;">themes</a> <a href="/tags/three-js/" style="font-size: 19px;">three.js</a> <a href="/tags/vuejs/" style="font-size: 16px;">vuejs</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/06/17/threejs-curve/">The Curve class and tube geometry in threejs</a>
          </li>
        
          <li>
            <a href="/2022/06/10/threejs-examples-lines-deterministic/">Deterministic Lines threejs example</a>
          </li>
        
          <li>
            <a href="/2022/06/03/threejs-examples-lines-sphere-circles/">Sphere circles Lines threejs example</a>
          </li>
        
          <li>
            <a href="/2022/05/31/threejs-examples-dae-tools-sphere-normals-invert/">Inverting the normals of a sphere threejs example</a>
          </li>
        
          <li>
            <a href="/2022/05/24/threejs-examples-weird-walk-three/">Weird walk three threejs example</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 Dustin Pfister<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      <br>
      <a href="/privacy.html" target="_blank">Privacy Policy</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/2021/02/19/threejs-examples/" class="mobile-nav-link">ThreeJS-Examples</a>
  
    <a href="/2020/03/23/canvas-example/" class="mobile-nav-link">Canvas-Examples</a>
  
    <a href="https://github.com/dustinpfister" class="mobile-nav-link">Github</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'dustinpfister-github-io';
  
  var disqus_url = 'https://dustinpfister.github.io/2021/05/10/threejs-examples-nested-groups/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


  </div>
</body>
</html>