<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  
  <title>Express Middleware Example Keyword Viewer App | Dustin John Pfister at github pages</title>
  
  <!-- no index tag or blank here -->
  
  
  <link rel="canonical" href="https://dustinpfister.github.io/2019/04/20/express-middleware-example-keyword-viewer/" />

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="In this post I will be writing about an app I have made that is an example of express middleware in action. I have wrote a main post on express middleware in which I explore the subject in general, as">
<meta property="og:type" content="article">
<meta property="og:title" content="Express Middleware Example Keyword Viewer App">
<meta property="og:url" content="https://dustinpfister.github.io/2019/04/20/express-middleware-example-keyword-viewer/index.html">
<meta property="og:site_name" content="Dustin John Pfister at github pages">
<meta property="og:description" content="In this post I will be writing about an app I have made that is an example of express middleware in action. I have wrote a main post on express middleware in which I explore the subject in general, as">
<meta property="og:updated_time" content="2019-04-27T16:33:23.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Express Middleware Example Keyword Viewer App">
<meta name="twitter:description" content="In this post I will be writing about an app I have made that is an example of express middleware in action. I have wrote a main post on express middleware in which I explore the subject in general, as">
  
    <link rel="alternate" href="/atom.xml" title="Dustin John Pfister at github pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-83195184-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  <!-- structured data set in structured-data.ejs -->
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "email": "distin.pfister@gmail.com",
    "givenName": "Dustin",
    "familyName" : "Pfister",
    "additionalName": "John",
    "name": "Dustin John Pfister",
    "gender": "Male"
}
</script>
<!-- end structured data -->
  
  <!-- adsense if indexed -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1658284027672315",
    enable_page_level_ads: true
  });
  </script>
  
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <!-- added the image-->
        <div class="selfimage"></div>
        <!--<a href="/" id="logo">Dustin John Pfister at github pages</a>-->
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <!-- removed rss link-->
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dustinpfister.github.io"></form>
      </div>
    </div>
  </div>
</header>

<!-- adding my canvas thing ( Dustin ) -->
<script src="/js/the_matrix.js"></script>
      <div class="outer">
        <section id="main"><article itemscope itemtype="http://schema.org/Blog" id="post-express-middleware-example-keyword-viewer" class="article article-type-post" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/04/20/express-middleware-example-keyword-viewer/" class="article-date"> Published:
  <time datetime="2019-04-21T00:59:00.000Z" itemprop="datePublished">2019-04-20</time>
</a>

    <!-- other info (dustin) -->
    <a href="/2019/04/20/express-middleware-example-keyword-viewer/" class="article-date"> Modified:
  <time datetime="2019-04-27T16:33:23.000Z" itemprop="dateModified">2019-04-27</time>
</a>

    <span class="article-date">V1.15</span>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/express/">express</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Express Middleware Example Keyword Viewer App
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="text">
      
        <p>In this post I will be writing about an app I have made that is an example of <a href="https://expressjs.com/en/guide/using-middleware.html" target="_blank" rel="external">express middleware</a> in action. I have wrote a <a href="/2018/06/25/express-middleware/">main post on express middleware</a> in which I explore the subject in general, as well as another post in which I cover just the <a href="/2019/04/19/express-middleware-basics/">very basics</a> of this topic as well. However this post will be one of several posts in which I demonstrate the usefulness of express middleware, mainly when it comes to writing your own to accomplish whatever needs to get done server side.</p>
<a id="more"></a>
<h2 id="1-The-Express-Middleware-Example-overview"><a href="#1-The-Express-Middleware-Example-overview" class="headerlink" title="1 - The Express Middleware Example overview"></a>1 - The Express Middleware Example overview</h2><p>I wanted to start developing some tools that will help me gain some insight into how it is that some of my content is preforming well with organic search, while other posts are not so much. There are many metrics that come to mind when it comes to this sort of thing, but one of them is the number of times that an full pattern match for a keyword is found in the content. </p>
<p>So that being said I wanted to make a tool that will loop over the contents of a folder that contains json files in which I am storing one or more keywords that I am targeting in another corresponding markdown file in another folder. For each file in the keyword folder a link will appear in an index that when clicked on will result in another view in which the content of the post is displayed with each instance of the keyword highlighted.</p>
<h3 id="1-1-Setup"><a href="#1-1-Setup" class="headerlink" title="1.1 - Setup"></a>1.1 - Setup</h3><p>In this project on top of using express I am also using <a href="/2017/11/19/nodejs-marked/">marked</a> as a way to quickly parse markdown into html, and I am also <a href="/2018/05/25/express-rendering-with-ejs/">useing ejs</a> as a template system. I also made a few folders where I will be placing router level middleware, markdown, and json files.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">$ mkdir express-middleware-example-keyword-viewer</div><div class="line">$ cd express-middleware-example-keyword-viewer</div><div class="line">$ npm init</div><div class="line">$ npm install express --save</div><div class="line">$ npm install ejs --save</div><div class="line">$ npm install marked --save</div><div class="line">$ mkdir views</div><div class="line">$ mkdir _posts</div><div class="line">$ mkdir _keywords</div><div class="line">$ mkdir middleware</div></pre></td></tr></table></figure>
<h2 id="2-The-middleware-folder"><a href="#2-The-middleware-folder" class="headerlink" title="2 - The middleware folder"></a>2 - The middleware folder</h2><p>The middleware folder is where I will be placing all of my router level middleware that I will then be using in the main express application at the root name space of the project folder. In here I have two files, one is used when a get request is received the the root name space of the site, and as such it serves an index of links to posts that I have keyword targeting data for. The other is used to render the text for a given post with matches for that keyword highlighted.</p>
<h3 id="2-1-The-middleware-list-all-js"><a href="#2-1-The-middleware-list-all-js" class="headerlink" title="2.1 - The middleware/list_all.js"></a>2.1 - The middleware/list_all.js</h3><p>Here is the middleware that creates a list of filenames to which there is keyword data. This is achieved by using the node.js file system modules fs.readdir method to get a list of json files in the keyword folder. Each of the filenames in this keyword folder corresponds with a markdown file in the posts folder.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>),</div><div class="line">path = <span class="built_in">require</span>(<span class="string">'path'</span>),</div><div class="line">fs = <span class="built_in">require</span>(<span class="string">'fs'</span>),</div><div class="line">dir_keywords = path.resolve(<span class="string">'_keywords'</span>);</div><div class="line"> </div><div class="line"><span class="comment">// create a router, and use body-parser</span></div><div class="line">router = <span class="built_in">module</span>.exports = express.Router();</div><div class="line"> </div><div class="line">router.get(<span class="string">'*'</span>, (req, res, next) =&gt; &#123;</div><div class="line">    req.filenames = [];</div><div class="line">    fs.readdir(dir_keywords, (err, files) =&gt; &#123;</div><div class="line">        <span class="keyword">if</span> (err) &#123;</div><div class="line">            <span class="built_in">console</span>.log(err.message);</div><div class="line">            next()</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            files.forEach(<span class="function">(<span class="params">fn</span>) =&gt;</span> &#123;</div><div class="line">                req.filenames.push(path.basename(fn, <span class="string">'.json'</span>));</div><div class="line">            &#125;);</div><div class="line">            next();</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line"> </div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>The actual rendering of this list of filenames is done in the ejs template for the index of the project, more on that as well as the json file format later.</p>
<h3 id="2-2-The-middleware-process-post-js"><a href="#2-2-The-middleware-process-post-js" class="headerlink" title="2.2 - The middleware/process_post.js"></a>2.2 - The middleware/process_post.js</h3><p>This is the middleware that creates html form the markdown of a post in the post folder, and also injects span tags that highlight each instance of a keyword that I am targeting in the corresponding json file. Like the other router level middleware in this folder this does not do any actual rendering, but rather builds something that will be used in the rendering process by passing the data that it acquires and generates as an object to an ejs template.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>),</div><div class="line">path = <span class="built_in">require</span>(<span class="string">'path'</span>),</div><div class="line">marked = <span class="built_in">require</span>(<span class="string">'marked'</span>),</div><div class="line">fs = <span class="built_in">require</span>(<span class="string">'fs'</span>),</div><div class="line">dir_keywords = path.resolve(<span class="string">'_keywords'</span>),</div><div class="line">dir_posts = path.resolve(<span class="string">'_posts'</span>);</div><div class="line"></div><div class="line"><span class="comment">// create a router, and use body-parser</span></div><div class="line">router = <span class="built_in">module</span>.exports = express.Router();</div><div class="line"></div><div class="line">router.get(<span class="string">'*'</span>, [</div><div class="line"></div><div class="line">        <span class="comment">// set defaults for reg.data</span></div><div class="line">        (req, res, next) =&gt; &#123;</div><div class="line">            req.data = &#123;</div><div class="line">                <span class="attr">html</span>: <span class="string">''</span>,</div><div class="line">                <span class="attr">mess</span>: <span class="string">''</span>,</div><div class="line">                <span class="attr">filename</span>: <span class="literal">null</span>,</div><div class="line">                <span class="attr">keywords</span>: []</div><div class="line">            &#125;;</div><div class="line">            next()</div><div class="line">        &#125;,</div><div class="line"></div><div class="line">        <span class="comment">// check params</span></div><div class="line">        (req, res, next) =&gt; &#123;</div><div class="line">            <span class="keyword">if</span> (!req.params) &#123;</div><div class="line">                req.data.mess = <span class="string">'A post name must be given'</span>;</div><div class="line">                next(<span class="string">'router'</span>);</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                req.data.filename = req.params[<span class="number">0</span>].split(<span class="string">'/'</span>)[<span class="number">2</span>];</div><div class="line">                next();</div><div class="line">            &#125;</div><div class="line">        &#125;,</div><div class="line"></div><div class="line">        <span class="comment">// get keywords json file</span></div><div class="line">        (req, res, next) =&gt; &#123;</div><div class="line">            fs.readFile(path.join(dir_keywords, req.data.filename + <span class="string">'.json'</span>), <span class="string">'utf-8'</span>, (e, json) =&gt; &#123;</div><div class="line">                <span class="keyword">if</span> (e) &#123;</div><div class="line">                    req.data.mess = e.message;</div><div class="line">                    next(<span class="string">'router'</span>);</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    req.data.keywords = <span class="built_in">JSON</span>.parse(json);</div><div class="line">                    next();</div><div class="line">                &#125;</div><div class="line">            &#125;)</div><div class="line"></div><div class="line">        &#125;,</div><div class="line"></div><div class="line">        <span class="comment">// create html from markdown, and create special style for keywords</span></div><div class="line">        (req, res, next) =&gt; &#123;</div><div class="line">            fs.readFile(path.join(dir_posts, req.data.filename + <span class="string">'.md'</span>), <span class="string">'utf-8'</span>, (e, md) =&gt; &#123;</div><div class="line">                <span class="keyword">if</span> (e) &#123;</div><div class="line">                    req.data.mess = e.message;</div><div class="line">                    next();</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    <span class="comment">// remove headers from markdown</span></div><div class="line">                    md = md.replace(<span class="regexp">/---/g</span>, <span class="string">''</span>);</div><div class="line"></div><div class="line">                    <span class="comment">// create html from markdown</span></div><div class="line">                    req.data.html = marked(md);</div><div class="line"></div><div class="line">                    <span class="comment">// remove a tags</span></div><div class="line">                    req.data.html = req.data.html.replace(<span class="regexp">/&lt;a [^&gt;]*&gt;|&lt;\/a&gt;/g</span>, <span class="string">''</span>);</div><div class="line"></div><div class="line">                    <span class="comment">// highlight full pattern matches with span elements</span></div><div class="line">                    req.data.keywords.forEach(<span class="function">(<span class="params">kw</span>) =&gt;</span> &#123;</div><div class="line">                        req.data.html = req.data.html.replace(</div><div class="line">                                <span class="keyword">new</span> <span class="built_in">RegExp</span>(kw.keyword, <span class="string">'g'</span>),</div><div class="line">                                <span class="string">'&lt;span style=\"border:3px solid red;\"&gt;'</span> + kw.keyword + <span class="string">'&lt;\/span&gt;'</span>);</div><div class="line">                    &#125;);</div><div class="line">                    next();</div><div class="line">                &#125;</div><div class="line">            &#125;);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">    ]);</div></pre></td></tr></table></figure>
<h2 id="3-The-app-js-file"><a href="#3-The-app-js-file" class="headerlink" title="3 - The /app.js file"></a>3 - The /app.js file</h2><p>Here is the main app.js file of the project. I am using require to input by router level middleware in the middleware folder, and I am using ejs to render templates with that is appended to the request objects by that middleware.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>),</div><div class="line">app = express();</div><div class="line"> </div><div class="line">app.set(<span class="string">'view engine'</span>, <span class="string">'ejs'</span>);</div><div class="line">app.set(<span class="string">'port'</span>, process.env.PORT || process.argv[<span class="number">2</span>] || <span class="number">8080</span>);</div><div class="line"> </div><div class="line">app.get(<span class="string">'/'</span>, [</div><div class="line">        <span class="built_in">require</span>(<span class="string">'./middleware/list_all.js'</span>),</div><div class="line">        (req, res) =&gt; &#123;</div><div class="line">            res.render(<span class="string">'index'</span>, &#123;</div><div class="line">                <span class="attr">filenames</span>: req.filenames</div><div class="line">            &#125;);</div><div class="line">        &#125;</div><div class="line">    ]);</div><div class="line"> </div><div class="line">app.get(<span class="string">'/blog_post/:postname'</span>, [</div><div class="line">        <span class="built_in">require</span>(<span class="string">'./middleware/process_post.js'</span>),</div><div class="line">        (req, res) =&gt; &#123;</div><div class="line">            res.render(<span class="string">'blog_post'</span>, req.data);</div><div class="line">        &#125;</div><div class="line">    ]);</div><div class="line"> </div><div class="line">app.listen(app.get(<span class="string">'port'</span>), () =&gt; <span class="built_in">console</span>.log(<span class="string">'Keyword viewer is up on Port: '</span> + app.get(<span class="string">'port'</span>)));</div></pre></td></tr></table></figure>
<h2 id="4-The-views-folder"><a href="#4-The-views-folder" class="headerlink" title="4 - The /views folder"></a>4 - The /views folder</h2><p>Here in my view folder I have an ejs file for both the index that is rendered when doing to the root path, and then one for when rendering the content of a blog post as well. I will not be getting into ejs in depth here as I have wrote a post on that all ready.</p>
<h3 id="4-1-views-index-ejs"><a href="#4-1-views-index-ejs" class="headerlink" title="4.1 - /views/index.ejs"></a>4.1 - /views/index.ejs</h3><p>Here is the index.ejs file, I am just creating a link for each post for which there is a keywords file. Nothing fancy with pagination or anything to that effect.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">&lt;h1&gt;Keyword Viewer&lt;/h1&gt;</div><div class="line">&lt;% filenames.forEach((fn)=&gt;&#123; %&gt;</div><div class="line">   &lt;p&gt;&lt;a href=&quot;/blog_post/&lt;%= fn %&gt;&quot;&gt;&lt;%= fn %&gt;&lt;/a&gt;&lt;/p&gt;</div><div class="line">&lt;% &#125;); %&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<h3 id="4-2-views-blog-post-ejs"><a href="#4-2-views-blog-post-ejs" class="headerlink" title="4.2 - /views/blog_post.ejs"></a>4.2 - /views/blog_post.ejs</h3><p>The ejs file for rendering the blog post content including the highlighted instances of the keyword</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">&lt;h1&gt;Blog Post: &lt;%= filename %&gt;&lt;/h1&gt;</div><div class="line">&lt;p&gt;&lt;a href=&quot;/&quot;&gt;Back to Index&lt;/a&gt;&lt;/p&gt;</div><div class="line">&lt;p&gt;mess: &lt;%= mess %&gt;&lt;/p&gt;</div><div class="line">&lt;p&gt;keywords: &lt;%= keywords.map((kw)=&gt; kw.keyword) %&gt;&lt;/p&gt;</div><div class="line">&lt;pre style=&quot;white-space: pre-wrap;&quot;&gt;</div><div class="line">&lt;%- html %&gt;</div><div class="line">&lt;/pre&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<h2 id="5-The-keywords-and-posts-folders"><a href="#5-The-keywords-and-posts-folders" class="headerlink" title="5 - The /keywords, and /posts folders"></a>5 - The /keywords, and /posts folders</h2><p>There is then the keywords and posts folders that contain the json file with the keywords I am targeting, and the markdown of the content of the post itself.</p>
<h3 id="5-1-keywords-JSON-file-example-keywords-express-middleware-links-json"><a href="#5-1-keywords-JSON-file-example-keywords-express-middleware-links-json" class="headerlink" title="5.1 - keywords JSON file example /_keywords/express-middleware-links.json"></a>5.1 - keywords JSON file example /_keywords/express-middleware-links.json</h3><p>the format of a json file in the keywords folder looks like this.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">[&#123;</div><div class="line">        &quot;keyword&quot;: &quot;express middleware&quot;,</div><div class="line">        &quot;value&quot;: 6500</div><div class="line">    &#125;, &#123;</div><div class="line">        &quot;keyword&quot;: &quot;expressjs&quot;,</div><div class="line">        &quot;value&quot;: 3500</div><div class="line">    &#125;</div><div class="line">]</div></pre></td></tr></table></figure>
<h3 id="5-2-A-markdown-example-posts-express-middleware-links-md"><a href="#5-2-A-markdown-example-posts-express-middleware-links-md" class="headerlink" title="5.2 - A markdown example /_posts/express-middleware-links.md"></a>5.2 - A markdown example /_posts/express-middleware-links.md</h3><p>I then have a markdown file in which I am using the keyword one or more times.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">## 1 - express middleware links</div><div class="line"> </div><div class="line">This is another post on the keyword express middleware that has [links to things like the expressjs website](https://expressjs.com/). For the sake of this project at least links should be removed, or somthing should be done to avoid injecting tags for keywords that might appear in a tag urls.</div></pre></td></tr></table></figure>
<h2 id="6-Conclusion"><a href="#6-Conclusion" class="headerlink" title="6 - Conclusion"></a>6 - Conclusion</h2><p>There is much more I would like to do with this project if I get the time to work on it more. So far I am happy with it though, using express and node.js is a great way to make useful little tools like this. Be sure to check out my <a href="/2018/06/12/express">main post on expressjs</a> for more expressjs related content on this site.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dustinpfister.github.io/2019/04/20/express-middleware-example-keyword-viewer/" data-id="cjut1iej4000f9wv1uo83hjzl" class="article-share-link">Share</a>
      
        <a href="https://dustinpfister.github.io/2019/04/20/express-middleware-example-keyword-viewer/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/express/">express</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/node-js/">node.js</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/04/21/express-middleware-example-read-write-file/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Express Middleware Example Read and Write to a file
        
      </div>
    </a>
  
  
    <a href="/2019/04/19/express-middleware-basics/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Express Middleware Basics</div>
    </a>
  
</nav>

  
</article>



<section id="comments">

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://dustinpfister.github.io/2019/04/20/express-middleware-example-keyword-viewer/index.html';
    this.page.identifier = '420';
    this.page.title = 'Express Middleware Example Keyword Viewer App';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://dustinpfister-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular/">angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/api/">api</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/backbone/">backbone</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/discovery/">discovery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/games/">games</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/grunt/">grunt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hapi/">hapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/heroku/">heroku</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jquery/">jquery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lodash/">lodash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node-js/">node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/phaser/">phaser</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/statistics/">statistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/three-js/">three.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backbone/">backbone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/corejs/">corejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deterministic/">deterministic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discovery/">discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejs/">ejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hapi/">hapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jimp/">jimp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js13k/">js13k</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/structured-data/">structured-data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/themes/">themes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three-js/">three.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JSON/" style="font-size: 12.11px;">JSON</a> <a href="/tags/SEO/" style="font-size: 10.53px;">SEO</a> <a href="/tags/angular/" style="font-size: 13.68px;">angular</a> <a href="/tags/animation/" style="font-size: 12.63px;">animation</a> <a href="/tags/automation/" style="font-size: 12.63px;">automation</a> <a href="/tags/backbone/" style="font-size: 13.16px;">backbone</a> <a href="/tags/blog/" style="font-size: 15.26px;">blog</a> <a href="/tags/canvas/" style="font-size: 16.84px;">canvas</a> <a href="/tags/corejs/" style="font-size: 12.63px;">corejs</a> <a href="/tags/deterministic/" style="font-size: 10px;">deterministic</a> <a href="/tags/discovery/" style="font-size: 11.05px;">discovery</a> <a href="/tags/ejs/" style="font-size: 11.58px;">ejs</a> <a href="/tags/express/" style="font-size: 17.37px;">express</a> <a href="/tags/games/" style="font-size: 17.89px;">games</a> <a href="/tags/git/" style="font-size: 10.53px;">git</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hapi/" style="font-size: 14.21px;">hapi</a> <a href="/tags/heroku/" style="font-size: 11.58px;">heroku</a> <a href="/tags/hexo/" style="font-size: 14.74px;">hexo</a> <a href="/tags/jimp/" style="font-size: 10.53px;">jimp</a> <a href="/tags/jquery/" style="font-size: 11.58px;">jquery</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/js13k/" style="font-size: 10px;">js13k</a> <a href="/tags/linux/" style="font-size: 11.58px;">linux</a> <a href="/tags/lodash/" style="font-size: 18.42px;">lodash</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mongodb/" style="font-size: 14.74px;">mongodb</a> <a href="/tags/node-js/" style="font-size: 19.47px;">node.js</a> <a href="/tags/phaser/" style="font-size: 18.95px;">phaser</a> <a href="/tags/statistics/" style="font-size: 12.11px;">statistics</a> <a href="/tags/structured-data/" style="font-size: 10px;">structured-data</a> <a href="/tags/themes/" style="font-size: 10px;">themes</a> <a href="/tags/three-js/" style="font-size: 16.32px;">three.js</a> <a href="/tags/vuejs/" style="font-size: 15.79px;">vuejs</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/06/14/nodejs-filesystem-write-file/">Nodejs write file method basics and more</a>
          </li>
        
          <li>
            <a href="/2019/06/13/nodejs-require/">Nodejs require for importing modules and more</a>
          </li>
        
          <li>
            <a href="/2019/06/12/nodejs-json/">Nodejs json read write and convert</a>
          </li>
        
          <li>
            <a href="/2019/06/11/threejs-webgl/">Three js and webGL support</a>
          </li>
        
          <li>
            <a href="/2019/06/10/threejs-box-helper/">Three js Box Helper</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Dustin Pfister<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'dustinpfister-github-io';
  
  var disqus_url = 'https://dustinpfister.github.io/2019/04/20/express-middleware-example-keyword-viewer/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


  </div>
</body>
</html>