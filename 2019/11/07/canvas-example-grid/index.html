<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <!-- disqus image-->
  <meta property="og:image" content="https://dustinpfister.github.io/css/images/banner.jpg">
  
  <title>Canvas grid example view and model | Dustin John Pfister at github pages</title>
  
  <!-- no index tag or blank here -->
  
  
  <link rel="canonical" href="https://dustinpfister.github.io/2019/11/07/canvas-example-grid/" />

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Time for yet another canvas example, this time I am thinking in terms of a decent starting point for a canvas grid module example. A grid is something that will come up all the time when it comes to a">
<meta property="og:type" content="article">
<meta property="og:title" content="Canvas grid example view and model">
<meta property="og:url" content="https://dustinpfister.github.io/2019/11/07/canvas-example-grid/index.html">
<meta property="og:site_name" content="Dustin John Pfister at github pages">
<meta property="og:description" content="Time for yet another canvas example, this time I am thinking in terms of a decent starting point for a canvas grid module example. A grid is something that will come up all the time when it comes to a">
<meta property="og:updated_time" content="2020-11-28T23:36:58.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Canvas grid example view and model">
<meta name="twitter:description" content="Time for yet another canvas example, this time I am thinking in terms of a decent starting point for a canvas grid module example. A grid is something that will come up all the time when it comes to a">
  
    <link rel="alternate" href="/atom.xml" title="Dustin John Pfister at github pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <!-- Google Analytics -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y8XLNG6JRW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Y8XLNG6JRW');
</script>
<!-- End Google Analytics -->


  <!-- structured data set in structured-data.ejs -->
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "email": "distin.pfister@gmail.com",
    "givenName": "Dustin",
    "familyName" : "Pfister",
    "additionalName": "John",
    "name": "Dustin John Pfister",
    "gender": "Male"
}
</script>
<!-- end structured data -->
  
  <!-- adsense if indexed -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1658284027672315",
    enable_page_level_ads: true
  });
  </script>
  
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <!-- added the image-->
        <div class="selfimage"></div>
        <!--<a href="/" id="logo">Dustin John Pfister at github pages</a>-->
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/2021/02/19/threejs-examples/">ThreeJS-Examples</a>
        
          <a class="main-nav-link" href="/2020/03/23/canvas-example/">Canvas-Examples</a>
        
          <a class="main-nav-link" href="https://github.com/dustinpfister">Github</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <!-- removed rss link-->
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dustinpfister.github.io"></form>
      </div>
    </div>
  </div>
</header>

<!-- adding my canvas thing ( Dustin ) -->
<script src="/js/the_matrix.js"></script>
      <div class="outer">
        <section id="main"><article itemscope itemtype="http://schema.org/Blog" id="post-canvas-example-grid" class="article article-type-post" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/11/07/canvas-example-grid/" class="article-date"> Published:
  <time datetime="2019-11-07T22:33:00.000Z" itemprop="datePublished">2019-11-07</time>
</a>

    <!-- other info (dustin) -->
    <a href="/2019/11/07/canvas-example-grid/" class="article-date"> Modified:
  <time datetime="2020-11-28T23:36:58.000Z" itemprop="dateModified">2020-11-28</time>
</a>

    <span class="article-date">V1.36</span>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/canvas/">canvas</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Canvas grid example view and model
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="text">
      
        <p>Time for yet another <a href="/2020/03/23/canvas-example/">canvas example</a>, this time I am thinking in terms of a decent starting point for a <a href="https://medium.com/@xon5/flexible-canvas-grid-without-blurred-lines-907fcadf5bfc" target="_blank" rel="external">canvas grid</a> module example. A grid is something that will come up all the time when it comes to all kinds of canvas games, but other projects as well such as drawing apps.</p>
<p>When it comes to grids there is drawing them, and then there is having a model of sorts that contains the values of the grid that is to be rendered to the canvas. I would say that it is very much a good idea to keep these things independent from each other by having one module that serves as a way to create a grid object, and another that is used to draw all of cells of this grid to a canvas element. So we will want at least three javaScriopt files. One module for creating and mutating a grid object, another module for drawing a grid object to a canvas element, and some additional code that will make use of these two other modules and provide the rest of the functionality of the example.</p>
<p>The grid object can have an array of cell objects for each x and y position in the grid, tile, grid location, or whatever you call it for each such location in the grid. Another approach is to just have a width and height for the count of cells, a cell size value, and think of all cell locations in an abstract sense. That is that there are only cell objects for certain locations but they are snapped into a location that conforms to the nature of a grid. Either way I would want a way to create some kind of grid object, and have a module that will be used to create and mutate this grid object.</p>
<p>There are a wide range of different ways to go about starting with a grid module, however in order to move forward one just has to make a choice and get going with a project. So for this canvas example I will be starting with a module example where I have a single array of objects for each cell.</p>
<a id="more"></a>
<p><div id="canvas-app" style="width:320px;height:240px;margin-left:auto;margin-right:auto;"></div></p>
<script src="/js/canvas-examples/grid/0.0.0/pkg.js"></script>

<h2 id="1-A-good-start-for-a-grid-module-maybe"><a href="#1-A-good-start-for-a-grid-module-maybe" class="headerlink" title="1 - A good start for a grid module, maybe"></a>1 - A good start for a grid module, maybe</h2><p>There are many ways to go about getting started with a grid module, and there are also a whole bunch of issues that will come up when getting into the depth of such a project. Still one has to start somewhere, and this canvas example is just that.</p>
<p>This example will have three modules a grid-cells.js file a grid-cells-draw.js file and a main.js file. The grid-cells.js file is the file that will be used to just create, and mutate an object that will represent the current state of the grid. The grid-cells-draw.js file will contain methods to draw the current state of a grid object as well as a few other things to a canvas element. In addition the main.js file will be used to create and inject a canvas element, create a grid object, and provide a main app loop in which the grid object will be updated and rendered to the canvas with the draw methods.</p>
<h3 id="1-1-The-grid-module"><a href="#1-1-The-grid-module" class="headerlink" title="1.1 - The grid module"></a>1.1 - The grid module</h3><p>First off I have a grid module that I can use to create and mutate a grid object. This gird object will consist of an array of cell objects where each cell will contain and index property as well as an x and y value that is the position of the cell in the grid.</p>
<p>There is a main create grid helper to which I make public to a global object called gridMod. Inside this create method I create the grid object, and append all basic properties I think the grid object should have. In addition I call another helper method in the module that wil create an array of cell objects. </p>
<p>This helper method that creates the cell objects just creates a single array, not an array of arrays, and each object contains an index number as well as the x and y location in the grid. This info can be used in conjunction with the cell size and offset values of the grid object to get an actual pixel location of a cell.</p>
<p>I then have additional helps and methods to work with the grid object. For example a helper that will create a bound object for the gird that can be used to know if the offset values for the grid have gone out of bounds or not. In addition there is also a method that can be used to move the offset values of the grid also.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> gridMod = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line"> </div><div class="line">    <span class="keyword">var</span> createGrid = <span class="function"><span class="keyword">function</span> (<span class="params">opt</span>) </span>&#123;</div><div class="line">        opt = opt || &#123;&#125;;</div><div class="line">        <span class="keyword">var</span> grid = &#123;</div><div class="line">            <span class="attr">ver</span> : opt.ver || <span class="string">''</span></div><div class="line">        &#125;;</div><div class="line">        grid.canvas = opt.canvas || &#123;<span class="attr">width</span>: <span class="number">640</span>, <span class="attr">height</span>: <span class="number">480</span>&#125;;</div><div class="line">        grid.xOffset = opt.xOffset === <span class="literal">undefined</span> ? <span class="number">5</span> : opt.xOffset;</div><div class="line">        grid.yOffset = opt.yOffset === <span class="literal">undefined</span> ? <span class="number">5</span> : opt.yOffset;</div><div class="line">        grid.cellSize = opt.cellSize === <span class="literal">undefined</span> ? <span class="number">32</span> : opt.cellSize;</div><div class="line">        grid.width = opt.width || <span class="number">4</span>;</div><div class="line">        grid.height = opt.height || <span class="number">2</span>;</div><div class="line">        <span class="comment">// create cells</span></div><div class="line">        grid.cells = createBaseCellsArray(grid.width, grid.height);</div><div class="line">        grid.bounds = createBoundsObject(grid, grid.canvas);</div><div class="line">        <span class="keyword">return</span> grid;</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="comment">// set cell objects for each cell in the grid</span></div><div class="line">    <span class="keyword">var</span> createBaseCellsArray = <span class="function"><span class="keyword">function</span> (<span class="params">width, height</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> cells = [],</div><div class="line">        i = <span class="number">0</span>,</div><div class="line">        len = width * height;</div><div class="line">        <span class="keyword">while</span> (i &lt; len) &#123;</div><div class="line">            cells.push(&#123;</div><div class="line">                <span class="attr">i</span>: i,</div><div class="line">                <span class="attr">y</span>: <span class="built_in">Math</span>.floor(i / width),</div><div class="line">                <span class="attr">x</span>: i % width</div><div class="line">            &#125;);</div><div class="line">            i += <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> cells;</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="comment">// PUBLIC API</span></div><div class="line">    <span class="keyword">var</span> api = &#123;&#125;;</div><div class="line"> </div><div class="line">    <span class="comment">// create a grid object</span></div><div class="line">    api.create = createGrid;</div><div class="line"> </div><div class="line">    <span class="comment">// Bounds</span></div><div class="line">    <span class="keyword">var</span> createBoundsObject = <span class="function"><span class="keyword">function</span>(<span class="params">grid</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> xMax = grid.cellSize,</div><div class="line">        yMax = grid.cellSize;</div><div class="line">        <span class="keyword">return</span> &#123;</div><div class="line">            <span class="attr">xMax</span>: xMax,</div><div class="line">            <span class="attr">yMax</span>: yMax,</div><div class="line">            <span class="attr">xMin</span>: xMax + ((grid.cellSize * grid.width) - (grid.canvas.width - grid.cellSize * <span class="number">2</span>)) * <span class="number">-1</span>,</div><div class="line">            <span class="attr">yMin</span>: yMax + ((grid.cellSize * grid.height) - (grid.canvas.height - grid.cellSize * <span class="number">2</span>)) * <span class="number">-1</span></div><div class="line">        &#125;;</div><div class="line">    &#125;;</div><div class="line">    api.applyBounds = <span class="function"><span class="keyword">function</span>(<span class="params">grid, bounds</span>)</span>&#123;</div><div class="line">        bounds = bounds || grid.bounds;</div><div class="line">        grid.xOffset = grid.xOffset &gt; bounds.xMax ? bounds.xMax : grid.xOffset;</div><div class="line">        grid.xOffset = grid.xOffset &lt; bounds.xMin ? bounds.xMin : grid.xOffset;</div><div class="line">        grid.yOffset = grid.yOffset &gt; bounds.yMax ? bounds.yMax : grid.yOffset;</div><div class="line">        grid.yOffset = grid.yOffset &lt; bounds.yMin ? bounds.yMin : grid.yOffset;</div><div class="line">    &#125;;</div><div class="line">    api.onEdge = <span class="function"><span class="keyword">function</span>(<span class="params">grid</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> bounds = createBoundsObject(grid);</div><div class="line">        <span class="keyword">if</span>(grid.xOffset &gt;= bounds.xMax || </div><div class="line">        grid.xOffset &lt;= bounds.xMin || </div><div class="line">        grid.yOffset &gt;= bounds.yMax || </div><div class="line">        grid.yOffset &lt;= bounds.yMin)&#123;</div><div class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="comment">// move map method</span></div><div class="line">    api.moveMap = <span class="function"><span class="keyword">function</span>(<span class="params">grid, secs, radian, pps</span>)</span>&#123;</div><div class="line">        secs = secs === <span class="literal">undefined</span> ? <span class="number">0</span> : secs;</div><div class="line">        radian = radian === <span class="literal">undefined</span> ? <span class="number">0</span> : radian;</div><div class="line">        pps = pps === <span class="literal">undefined</span> ? <span class="number">0</span> : pps;</div><div class="line"> </div><div class="line">        <span class="keyword">var</span> deltaX = <span class="built_in">Math</span>.cos(radian) * pps * secs;</div><div class="line">        <span class="keyword">var</span> deltaY = <span class="built_in">Math</span>.sin(radian) * pps * secs;</div><div class="line"> </div><div class="line">        grid.xOffset += deltaX;</div><div class="line">        grid.yOffset += deltaY;</div><div class="line"> </div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="keyword">return</span> api;</div><div class="line"> </div><div class="line">&#125;());</div></pre></td></tr></table></figure>
<p>So the basic idea is there, but it is still missing a lot of methods that I think I might need for just about every project that I might use a module such as this in. Still I might not want to go nuts with features with something like this, many things that I might add it it might only need to be there for one project but not another. So a starting point such as this would often end up geting hacked over a lot once I make it part of an actual project of some kind.</p>
<h3 id="1-2-The-draw-module"><a href="#1-2-The-draw-module" class="headerlink" title="1.2 - The draw module"></a>1.2 - The draw module</h3><p>I am then going to want to have a file that I can used to draw a grid object to a canvas element. There might be a few draw methods that I would want to add to a module such as this, just for the grid alone, not taking into account other parts of the project to which I would want methods to help with the process of rendering things to a canvas element.</p>
<p>So then for now the main method of interest here is the draw cells method, for this I am just looping over the cell objects, and using the properties to just draw a square at the proper location in the canvas element.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> draw = &#123;&#125;;</div><div class="line"></div><div class="line"><span class="comment">// draw Cell Lines</span></div><div class="line">draw.cells = <span class="function"><span class="keyword">function</span> (<span class="params">ctx, grid, style</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> ci = <span class="number">0</span>,</div><div class="line">    cell,</div><div class="line">    cLen = grid.cells.length;</div><div class="line">    ctx.strokeStyle = style || <span class="string">'red'</span>;</div><div class="line">    <span class="keyword">while</span> (ci &lt; cLen) &#123;</div><div class="line">        cell = grid.cells[ci];</div><div class="line">        ctx.strokeRect(</div><div class="line">            cell.x * grid.cellSize + grid.xOffset + <span class="number">0.5</span>,</div><div class="line">            cell.y * grid.cellSize + grid.yOffset + <span class="number">0.5</span>,</div><div class="line">            grid.cellSize, grid.cellSize)</div><div class="line">        ci += <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// background</span></div><div class="line">draw.back = <span class="function"><span class="keyword">function</span>(<span class="params">ctx, canvas</span>)</span>&#123;</div><div class="line">    ctx.fillStyle = <span class="string">'black'</span>;</div><div class="line">    ctx.fillRect(<span class="number">0</span>, <span class="number">0</span>, canvas.width, canvas.height);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// draw info</span></div><div class="line">draw.info = <span class="function"><span class="keyword">function</span>(<span class="params">ctx, grid</span>)</span>&#123;</div><div class="line">    ctx.fillStyle = <span class="string">'white'</span>;</div><div class="line">    ctx.textBaseline  = <span class="string">'top'</span>;</div><div class="line">    ctx.font = <span class="string">'10px arial'</span>;</div><div class="line">    ctx.fillText(<span class="string">'offset: '</span> + grid.xOffset.toFixed(<span class="number">2</span>) + <span class="string">' , '</span> + grid.yOffset.toFixed(<span class="number">2</span>), <span class="number">5</span>, <span class="number">5</span>);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// version</span></div><div class="line">draw.ver = <span class="function"><span class="keyword">function</span>(<span class="params">ctx, grid</span>)</span>&#123;</div><div class="line">    ctx.fillStyle = <span class="string">'white'</span>;</div><div class="line">    ctx.textBaseline  = <span class="string">'top'</span>;</div><div class="line">    ctx.font = <span class="string">'10px arial'</span>;</div><div class="line">    ctx.fillText(<span class="string">'v'</span> + grid.ver, <span class="number">5</span>, grid.canvas.height - <span class="number">15</span>);</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="1-3-Main-js"><a href="#1-3-Main-js" class="headerlink" title="1.3 - Main.js"></a>1.3 - Main.js</h3><p>Now that I have my grid module, and another module that I can use to draw the grid to a canvas I am now just going to want a little additional code that will make use of these two modules. In this main.js file I will be creating and injecting a canvas element, and setting up a basic app loop.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.createElement(<span class="string">'canvas'</span>),</div><div class="line">ctx = canvas.getContext(<span class="string">'2d'</span>),</div><div class="line">container = <span class="built_in">document</span>.getElementById(<span class="string">'canvas-app'</span>) || <span class="built_in">document</span>.body;</div><div class="line">container.appendChild(canvas);</div><div class="line">canvas.width = <span class="number">320</span>;</div><div class="line">canvas.height = <span class="number">240</span>;</div><div class="line">ctx.translate(<span class="number">0.5</span>, <span class="number">0.5</span>);</div><div class="line"> </div><div class="line"><span class="keyword">var</span> grid = gridMod.create(&#123;</div><div class="line">    <span class="attr">ver</span>: <span class="string">'0.0.0'</span>,</div><div class="line">    <span class="attr">canvas</span>: canvas,</div><div class="line">    <span class="attr">width</span>: <span class="number">16</span>,</div><div class="line">    <span class="attr">height</span>: <span class="number">8</span></div><div class="line">&#125;);</div><div class="line"> </div><div class="line"><span class="keyword">var</span> lt = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">radian = <span class="built_in">Math</span>.PI * <span class="number">1.75</span>;</div><div class="line"><span class="keyword">var</span> loop = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line"> </div><div class="line">    <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">    secs = (now - lt) / <span class="number">1000</span>;</div><div class="line"> </div><div class="line">    requestAnimationFrame(loop);</div><div class="line"> </div><div class="line">    gridMod.moveMap(grid, secs, radian, <span class="number">-128</span>);</div><div class="line">    gridMod.applyBounds(grid);</div><div class="line">    <span class="keyword">if</span>(gridMod.onEdge(grid))&#123;</div><div class="line">        radian = <span class="built_in">Math</span>.PI * <span class="number">2</span> * <span class="built_in">Math</span>.random();</div><div class="line">    &#125;</div><div class="line"> </div><div class="line">    draw.back(ctx, canvas);</div><div class="line">    draw.cells(ctx, grid);</div><div class="line">    draw.info(ctx, grid);</div><div class="line">    draw.ver(ctx, grid);</div><div class="line"> </div><div class="line">    lt = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line"> </div><div class="line">&#125;;</div><div class="line"></div><div class="line">loop();</div></pre></td></tr></table></figure>
<p>So far so good, but there are at least a few more features I should pack on top of this in order to start to turn it into something that I could actually use in a project. However there might only be so much more to add to the grid module actually in terms of public methods. In a real project I would not just have a simple app loop, but a state machine that would contain a lot of the additional features that I would want in a project.</p>
<h2 id="2-Canvas-grid-example-with-draw-grid-lines-method-and-basic-Grid-constructor"><a href="#2-Canvas-grid-example-with-draw-grid-lines-method-and-basic-Grid-constructor" class="headerlink" title="2 - Canvas grid example with draw grid lines method and basic Grid constructor"></a>2 - Canvas grid example with draw grid lines method and basic Grid constructor</h2><p>So in this section I will start out with a very basic Grid Constructor that will serve as a way to pull away the data state of the Grid away from the logic that is used to render that grid. In addition I will just have one draw method that will render the grid lines of the Grid. All other canvas examples in this post will just be improvements, additions, or just simply changes to this basic Canvas Grid example.</p>
<h3 id="2-1-The-html-file"><a href="#2-1-The-html-file" class="headerlink" title="2.1 - The html file"></a>2.1 - The html file</h3><p>Here I have the html file that I am using for the example. In the html I just have a single div element that I am using as a container for the canvas example where I will be creating a canvas element with javaScript and then injecting it.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>canvas grid<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"gamearea"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"main.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>The html file also has a single script tag that links to an external main.js file where I will have all the javaScript code for the example in this section. Any additional sections in this post will just be different renditions of this main.js file.</p>
<h3 id="2-2-The-Grid-constructor-in-main-js"><a href="#2-2-The-Grid-constructor-in-main-js" class="headerlink" title="2.2 - The Grid constructor in main.js"></a>2.2 - The Grid constructor in main.js</h3><p>So I start off my main javaScript file for this Canvas Grid example with a basic Grid constructor. This constructor does not have anything going on with the prototype object at least in this example at least.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// GRID</span></div><div class="line"><span class="keyword">var</span> Grid = <span class="function"><span class="keyword">function</span> (<span class="params">opt</span>) </span>&#123;</div><div class="line">    opt = opt || &#123;&#125;;</div><div class="line">    <span class="keyword">this</span>.xOffset = opt.xOffset === <span class="literal">undefined</span> ? <span class="number">5</span> : opt.xOffset;</div><div class="line">    <span class="keyword">this</span>.yOffset = opt.yOffset === <span class="literal">undefined</span> ? <span class="number">5</span> : opt.yOffset;</div><div class="line">    <span class="keyword">this</span>.cellSize = opt.cellSize === <span class="literal">undefined</span> ? <span class="number">32</span> : opt.cellSize;</div><div class="line">    <span class="keyword">this</span>.cellWidth = opt.cellWidth || <span class="number">7</span>;</div><div class="line">    <span class="keyword">this</span>.cellHeight = opt.cellHeight || <span class="number">6</span>;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>So for now the constructor just creates a standard object that just contains some values that outline the values of a grid such as the x and y offset values of the upper left corner of the gird in the canvas matrix. The cellSize of each grid cell or tile f you prefer, and the width and height of the gird in cell count rather than pixel size.</p>
<h3 id="2-3-The-Draw-Grid-Lines-Method"><a href="#2-3-The-Draw-Grid-Lines-Method" class="headerlink" title="2.3 - The Draw Grid Lines Method"></a>2.3 - The Draw Grid Lines Method</h3><p>After I define the Gird constructor I write my first draw method that can be used to draw the current state of an instance of my Grid constructor. For now this draw method just renders the lines of the gird, a method that I might want to have when ot comes to using something like this in an actual project.</p>
<p>There are many ways to go about writing this kind of method, for this example I decided to go with the two loops kind of approach that seems to be common when it comes to this kind of thing. You might think that it is possible to have just one loop wrapped up into a single separate method and then just call that method twice with deferent arguments. You would be right about that and I will be getting to that in a latter section in this post, however doing so might make things more complicated then they need to be.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// draw grid lines method</span></div><div class="line"><span class="keyword">var</span> drawGridLines = <span class="function"><span class="keyword">function</span> (<span class="params">ctx, grid, style</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> x,</div><div class="line">    y,</div><div class="line">    cx = <span class="number">0</span>,</div><div class="line">    cy = <span class="number">0</span>;</div><div class="line">    ctx.strokeStyle = style || <span class="string">'red'</span>;</div><div class="line">    <span class="keyword">while</span> (cy &lt; grid.cellHeight + <span class="number">1</span>) &#123;</div><div class="line">        y = cy * grid.cellSize + grid.yOffset + <span class="number">0.5</span>;</div><div class="line">        x = grid.xOffset + <span class="number">0.5</span>;</div><div class="line">        ctx.beginPath();</div><div class="line">        ctx.moveTo(x, y);</div><div class="line">        x = grid.xOffset + grid.cellSize * grid.cellWidth + <span class="number">0.5</span>;</div><div class="line">        ctx.lineTo(x, y);</div><div class="line">        ctx.stroke();</div><div class="line">        cy += <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">while</span> (cx &lt; grid.cellWidth + <span class="number">1</span>) &#123;</div><div class="line">        y = grid.yOffset + <span class="number">0.5</span>;</div><div class="line">        x = cx * grid.cellSize + grid.xOffset + <span class="number">0.5</span>;</div><div class="line">        ctx.beginPath();</div><div class="line">        ctx.moveTo(x, y);</div><div class="line">        y = grid.yOffset + grid.cellSize * grid.cellHeight + <span class="number">0.5</span>;</div><div class="line">        ctx.lineTo(x, y);</div><div class="line">        ctx.stroke();</div><div class="line">        cx += <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>The draw grid lines method seems to work okay, but there is the question of drawing more than just grid lines for the canvas Grid. Doing so might require some more work on the Grid constructor, and the introduction of cell objects though, and for now I would like to keep this basic example of a Canvas Grid clean and simple.</p>
<h3 id="2-4-Setup"><a href="#2-4-Setup" class="headerlink" title="2.4 - Setup"></a>2.4 - Setup</h3><p>So now for the setup of the canvas element, and to make use of what I worked out here. I start out by creating a canvas element and setting that to a variable that I also used to get a reference to the 2d drawing context. I then append that canvas element to the container element which in this case is a div element in the HTML.</p>
<p>I then call my Grid constructor using the new keyword,and pass some options for the grid. I then save a reference to the grid instance and use that to draw the gird lines by passing that to my draw grid lines method along with the drawing context and a style to use when stroking the grid lines.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// SETUP CANVAS</span></div><div class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">// create and append canvas element, and get 2d context</span></div><div class="line">    <span class="keyword">var</span> canvas = <span class="built_in">document</span>.createElement(<span class="string">'canvas'</span>),</div><div class="line">    ctx = canvas.getContext(<span class="string">'2d'</span>),</div><div class="line">    container = <span class="built_in">document</span>.getElementById(<span class="string">'gamearea'</span>) || <span class="built_in">document</span>.body;</div><div class="line">    container.appendChild(canvas);</div><div class="line">    <span class="comment">// set width and height</span></div><div class="line">    canvas.width = <span class="number">320</span>;</div><div class="line">    canvas.height = <span class="number">240</span>;</div><div class="line"> </div><div class="line">    <span class="comment">// creating a grid instance</span></div><div class="line">    <span class="keyword">var</span> grid = <span class="keyword">new</span> Grid(&#123;</div><div class="line">            <span class="attr">xOffset</span>: <span class="number">15</span>,</div><div class="line">            <span class="attr">yOffset</span>: <span class="number">25</span>,</div><div class="line">            <span class="attr">cellSize</span>: <span class="number">32</span>,</div><div class="line">            <span class="attr">cellWidth</span>: <span class="number">9</span></div><div class="line">        &#125;);</div><div class="line"> </div><div class="line">    <span class="comment">// fill black</span></div><div class="line">    ctx.fillStyle = <span class="string">'black'</span>;</div><div class="line">    ctx.fillRect(<span class="number">0</span>, <span class="number">0</span>, canvas.width, canvas.height);</div><div class="line"> </div><div class="line">    <span class="comment">// draw grid lines</span></div><div class="line">    drawGridLines(ctx, grid, <span class="string">'orange'</span>);</div><div class="line">&#125;</div><div class="line">    ());</div></pre></td></tr></table></figure>
<p>When this example is up in running in my browser it results in a simple grid being rendered in the canvas. I can change the options that I pass to the gird constructor and that changes the state of this grid.</p>
<p>Not much to get excited over at this point, however in this section the aim is to just start out with a very simple canvas grid example. At this point the Grid constructor is just simply that a constructor function without any methods added to the prototype just yet. Also although my draw grid lines method is working okay I am not sure if I am happy with it, I might like replace that with something else. So lets look at some additional revisions of this in the additional sections in this post.</p>
<h2 id="3-An-attempt-at-a-draw-grid-axis-method"><a href="#3-An-attempt-at-a-draw-grid-axis-method" class="headerlink" title="3 - An attempt at a draw grid axis method"></a>3 - An attempt at a draw grid axis method</h2><p>So as I mentioned in the previous section on the basic canvas grid example it is of course possible to create a sort of draw grid axis lines method that would then be called twice. Just a method could be called twice in the body of the draw grid lines method.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Draw a grid Axis</span></div><div class="line"><span class="keyword">var</span> drawGridAxis = <span class="function"><span class="keyword">function</span> (<span class="params">ctx, grid, axis, style</span>) </span>&#123;</div><div class="line">    axis = axis || <span class="string">'y'</span>;</div><div class="line">    <span class="keyword">var</span> otherAxis = axis === <span class="string">'y'</span> ? <span class="string">'x'</span> : <span class="string">'y'</span>,</div><div class="line">    ca = <span class="number">0</span>,</div><div class="line">    caOffset = grid[axis + <span class="string">'Offset'</span>],</div><div class="line">    oaOffset = grid[otherAxis + <span class="string">'Offset'</span>],</div><div class="line">    caLen = grid[<span class="string">'cell'</span> + (axis === <span class="string">'y'</span> ? <span class="string">'Height'</span> : <span class="string">'Width'</span>)],</div><div class="line">    oaLen = grid[<span class="string">'cell'</span> + (axis === <span class="string">'y'</span> ? <span class="string">'Width'</span> : <span class="string">'Height'</span>)],</div><div class="line">    a1,</div><div class="line">    a2;</div><div class="line">    ctx.strokeStyle = style || <span class="string">'green'</span>;</div><div class="line">    <span class="keyword">while</span> (ca &lt; caLen + <span class="number">1</span>) &#123;</div><div class="line">        a1 = ca * grid.cellSize + caOffset + <span class="number">0.5</span>;</div><div class="line">        a2 = oaOffset + <span class="number">0.5</span>;</div><div class="line">        ctx.beginPath();</div><div class="line">        <span class="keyword">if</span> (axis === <span class="string">'y'</span>) &#123;</div><div class="line">            ctx.moveTo(a2, a1);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            ctx.moveTo(a1, a2)</div><div class="line">        &#125;</div><div class="line">        a2 = oaOffset + grid.cellSize * oaLen + <span class="number">0.5</span>;</div><div class="line">        <span class="keyword">if</span> (axis === <span class="string">'y'</span>) &#123;</div><div class="line">            ctx.lineTo(a2, a1);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            ctx.lineTo(a1, a2)</div><div class="line">        &#125;</div><div class="line">        ctx.stroke();</div><div class="line">        ca += <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// Now by drawGridLines method just calls </span></div><div class="line"><span class="comment">// drawGridLines twice</span></div><div class="line"><span class="keyword">var</span> drawGridLines = <span class="function"><span class="keyword">function</span>(<span class="params">ctx, grid, style</span>)</span>&#123;</div><div class="line">    drawGridAxis(ctx, grid, <span class="string">'y'</span>, style);</div><div class="line">    drawGridAxis(ctx, grid, <span class="string">'x'</span>, style);</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>This satisfies a desire to find a way to keep from repeating the same code, but it also results in a more complicated way of doing the same thing. So maybe there is yet another way to go about doing this that will be a bit more concise, I hate making things more complicated than they need to be. I can get into adding some more features to my Grid constrictor such as cells, and then just loop threw that array of cells as a way of drawing grid lines, and also any additional drawing for the background of each cell.</p>
<h2 id="4-Draw-Canvas-Grid-Cells-method-and-first-Grid-Constructor-Prototype-method"><a href="#4-Draw-Canvas-Grid-Cells-method-and-first-Grid-Constructor-Prototype-method" class="headerlink" title="4 - Draw Canvas Grid Cells method and first Grid Constructor Prototype method"></a>4 - Draw Canvas Grid Cells method and first Grid Constructor Prototype method</h2><p>So now lets make a more advanced version of the Gird constructor that introduces at least one prototype method. In addition I think it is time to have a cells array as part of the Grid constructor as well. This gird cells array will be a collection of objects, and each object can contain values like the cell position in the grid, and also an index value for a type of background for the cell. So I can just loop over this array and use that data in the drawing method, to draw grid lines as well as backgrounds.</p>
<p>The single prototype method will be used to build the cells array, and will be called with the constructor, but it could also be used after the instance is created to rebuild the cells of the grid.</p>
<p>In addition to creating a prototype method for the Grid constructor in this section I will also be going over a draw Cell lines method that will be yet another way to draw the lines of a grid, however in some respects this might be a better way of doing so, and the other draw methods that I have outlined so far may not be necessary. There is more than one way to solve a problem, and if I am going to have a cells array for my Grid constructor this might be the preferred way to go about drawing canvas Grid lines.</p>
<h3 id="4-1-The-Canvas-Grid-Constructor"><a href="#4-1-The-Canvas-Grid-Constructor" class="headerlink" title="4.1 - The Canvas Grid Constructor"></a>4.1 - The Canvas Grid Constructor</h3><p>So here is the updated Grid constructor, things are more or less the same only now I am calling a set cells method in the body of the constructor, and of course I have that method in the prototype object of the Grid constructor.</p>
<p>I made it so that the set cells method can accept a single argument that is a function that will be called for each cell in the Grid. I am not sure if I really want or even need that feature though I could always just do an <a href="/2019/02/16/js-javascript-foreach/">Array.prototype.forEach</a> call over the cells array as it is a public property of a Grid constructor instance. This might be getting off topic for this section at least, as here I just want a slightly more advanced version of the grid constructor that introduces cells, and a single prototype method that creates that array of cells.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// GRID</span></div><div class="line"><span class="keyword">var</span> Grid = <span class="function"><span class="keyword">function</span> (<span class="params">opt</span>) </span>&#123;</div><div class="line">    opt = opt || &#123;&#125;;</div><div class="line">    <span class="keyword">this</span>.xOffset = opt.xOffset === <span class="literal">undefined</span> ? <span class="number">5</span> : opt.xOffset;</div><div class="line">    <span class="keyword">this</span>.yOffset = opt.yOffset === <span class="literal">undefined</span> ? <span class="number">5</span> : opt.yOffset;</div><div class="line">    <span class="keyword">this</span>.cellSize = opt.cellSize === <span class="literal">undefined</span> ? <span class="number">32</span> : opt.cellSize;</div><div class="line">    <span class="keyword">this</span>.cellWidth = opt.cellWidth || <span class="number">7</span>;</div><div class="line">    <span class="keyword">this</span>.cellHeight = opt.cellHeight || <span class="number">6</span>;</div><div class="line">    <span class="comment">// set cells for the grid</span></div><div class="line">    <span class="keyword">this</span>.setCells();</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// set cell objects for each cell in the grid</span></div><div class="line">Grid.prototype.setCells = <span class="function"><span class="keyword">function</span> (<span class="params">forCell</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.cells = [];</div><div class="line">    <span class="keyword">var</span> ci = <span class="number">0</span>,</div><div class="line">    cellObj,</div><div class="line">    cLen = <span class="keyword">this</span>.cellWidth * <span class="keyword">this</span>.cellHeight;</div><div class="line">    forCell = forCell || <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</div><div class="line">    <span class="keyword">while</span> (ci &lt; cLen) &#123;</div><div class="line">        cellObj = &#123;</div><div class="line">            <span class="attr">i</span>: ci,</div><div class="line">            <span class="attr">y</span>: <span class="built_in">Math</span>.floor(ci / <span class="keyword">this</span>.cellWidth),</div><div class="line">            <span class="attr">x</span>: ci % <span class="keyword">this</span>.cellWidth,</div><div class="line">            <span class="attr">backgroundIndex</span>: <span class="number">0</span></div><div class="line">        &#125;;</div><div class="line">        forCell(cellObj);</div><div class="line">        <span class="keyword">this</span>.cells.push(cellObj);</div><div class="line">        ci += <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>I have decided to go with a single linear array design rather than an array of arrays design. Having to choose between one or the other ends u being a rabbit hole of sorts for me that I wish to avoid by just simply choosing this kind of approach of that other general option that I see often.</p>
<h3 id="4-2-The-Draw-Canvas-Grid-Cell-Lines-method"><a href="#4-2-The-Draw-Canvas-Grid-Cell-Lines-method" class="headerlink" title="4.2 - The Draw Canvas Grid Cell Lines method"></a>4.2 - The Draw Canvas Grid Cell Lines method</h3><p>Here I have the draw canvas grid lines method that is yet another way of going about drawing grid lines in canvas with javaScript. This might be a better way though considering that I can do so with just a single loop without making things more complicated as I did the the previous sections.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// draw Cell Lines</span></div><div class="line"><span class="keyword">var</span> drawCellLines = <span class="function"><span class="keyword">function</span> (<span class="params">ctx, grid, style</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> ci = <span class="number">0</span>,</div><div class="line">    cell,</div><div class="line">    cLen = grid.cells.length;</div><div class="line">    ctx.strokeStyle = style || <span class="string">'red'</span>;</div><div class="line">    <span class="keyword">while</span> (ci &lt; cLen) &#123;</div><div class="line">        cell = grid.cells[ci];</div><div class="line">        ctx.strokeRect(</div><div class="line">            cell.x * grid.cellSize + grid.xOffset + <span class="number">0.5</span>,</div><div class="line">            cell.y * grid.cellSize + grid.yOffset + <span class="number">0.5</span>,</div><div class="line">            grid.cellSize, grid.cellSize)</div><div class="line">        ci += <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>This method should maybe be keep separate from any additional draw methods such as one that draws the backgrounds of each cell in the grid. This will help to keep things more fine grain, and also I might only want to draw grid lines alone for the grid, or I might want to draw the grid lines after drawing the backgrounds.</p>
<h3 id="4-3-Draw-the-canvas-grid-cell-backgrounds"><a href="#4-3-Draw-the-canvas-grid-cell-backgrounds" class="headerlink" title="4.3 - Draw the canvas grid cell backgrounds"></a>4.3 - Draw the canvas grid cell backgrounds</h3><p>So now on top of having a draw method that draws the grid lines I now have a methods that will draw the backgrounds also. This method works more or less the same way, only now I am using the draw image method, and I am passing a reference to a tile sheet in the from of an image or another canvas element. This of course makes use of the background index value that I added to the cell objects.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// draw cell backgrounds</span></div><div class="line"><span class="keyword">var</span> drawCellBackgrounds = <span class="function"><span class="keyword">function</span> (<span class="params">ctx, grid, sheet</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> ci = <span class="number">0</span>,</div><div class="line">    cell,</div><div class="line">    cLen = grid.cells.length;</div><div class="line">    <span class="keyword">while</span> (ci &lt; cLen) &#123;</div><div class="line">        cell = grid.cells[ci];</div><div class="line">        ctx.drawImage(</div><div class="line">            sheet,</div><div class="line">            <span class="comment">// source</span></div><div class="line">            cell.backgroundIndex * grid.cellSize + <span class="number">0.5</span>,</div><div class="line">            <span class="number">-0.5</span>,</div><div class="line">            grid.cellSize, grid.cellSize,</div><div class="line">            <span class="comment">// placement</span></div><div class="line">            cell.x * grid.cellSize + grid.xOffset + <span class="number">0.5</span>,</div><div class="line">            cell.y * grid.cellSize + grid.yOffset + <span class="number">0.5</span>,</div><div class="line">            grid.cellSize, grid.cellSize)</div><div class="line">        ci += <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>I will not be getting into the draw image method in depth here but the first argument is of course a reference to the sheet that I will be using to draw the backgrounds, and then there are values for the source position as well as width in height when it comes to getting the tile in the tile sheet, followed by the same set of values for drawing it to the canvas.</p>
<h3 id="4-4-Using-the-new-Grid-Constructor-and-draw-methods"><a href="#4-4-Using-the-new-Grid-Constructor-and-draw-methods" class="headerlink" title="4.4 - Using the new Grid Constructor and draw methods"></a>4.4 - Using the new Grid Constructor and draw methods</h3><p>So then once again I just need to use everything I worked out. This time I am still using the same options as before, but now I am also creating a sprite sheet as a canvas element rather than loading an extremal image, and using the canvas as the tile sheet when calling the draw cell backgrounds method. </p>
<p>I also set some background index properties of cell objects to something other than the default zero value. For this sheet I just have two cell values, but in a real project there would of course be many more.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// SETUP CANVAS</span></div><div class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">// create and append canvas element, and get 2d context</span></div><div class="line">    <span class="keyword">var</span> canvas = <span class="built_in">document</span>.createElement(<span class="string">'canvas'</span>),</div><div class="line">    ctx = canvas.getContext(<span class="string">'2d'</span>),</div><div class="line">    container = <span class="built_in">document</span>.getElementById(<span class="string">'gamearea'</span>) || <span class="built_in">document</span>.body;</div><div class="line">    container.appendChild(canvas);</div><div class="line">    <span class="comment">// set width and height</span></div><div class="line">    canvas.width = <span class="number">320</span>;</div><div class="line">    canvas.height = <span class="number">240</span>;</div><div class="line"> </div><div class="line">    <span class="comment">// creating a grid instance</span></div><div class="line">    <span class="keyword">var</span> grid = <span class="keyword">new</span> Grid(&#123;</div><div class="line">            <span class="attr">xOffset</span>: <span class="number">15</span>,</div><div class="line">            <span class="attr">yOffset</span>: <span class="number">25</span>,</div><div class="line">            <span class="attr">cellSize</span>: <span class="number">32</span>,</div><div class="line">            <span class="attr">cellWidth</span>: <span class="number">9</span></div><div class="line">        &#125;);</div><div class="line"> </div><div class="line">    <span class="comment">// create a sheet</span></div><div class="line">    <span class="keyword">var</span> sheet = <span class="built_in">document</span>.createElement(<span class="string">'canvas'</span>),</div><div class="line">    ctx_sheet = sheet.getContext(<span class="string">'2d'</span>);</div><div class="line">    sheet.width = <span class="number">64</span>;</div><div class="line">    sheet.height = <span class="number">32</span>;</div><div class="line">    ctx_sheet.fillStyle = <span class="string">'orange'</span>;</div><div class="line">    ctx_sheet.fillRect(<span class="number">0</span>, <span class="number">0</span>, sheet.width, sheet.height);</div><div class="line">    ctx_sheet.fillStyle = <span class="string">'green'</span>;</div><div class="line">    ctx_sheet.fillRect(grid.cellSize, <span class="number">0</span>, grid.cellSize, grid.cellSize);</div><div class="line"> </div><div class="line">    <span class="comment">// setting some cells to a background index</span></div><div class="line">    <span class="comment">// other that the default 0</span></div><div class="line">    grid.cells[<span class="number">10</span>].backgroundIndex = <span class="number">1</span>;</div><div class="line">    grid.cells[<span class="number">18</span>].backgroundIndex = <span class="number">1</span>;</div><div class="line">    grid.cells[<span class="number">19</span>].backgroundIndex = <span class="number">1</span>;</div><div class="line">    grid.cells[<span class="number">20</span>].backgroundIndex = <span class="number">1</span>;</div><div class="line">    grid.cells[<span class="number">28</span>].backgroundIndex = <span class="number">1</span>;</div><div class="line"> </div><div class="line">    <span class="comment">// fill black</span></div><div class="line">    ctx.fillStyle = <span class="string">'black'</span>;</div><div class="line">    ctx.fillRect(<span class="number">0</span>, <span class="number">0</span>, canvas.width, canvas.height);</div><div class="line"> </div><div class="line">    <span class="comment">// draw backgrounds</span></div><div class="line">    drawCellBackgrounds(ctx, grid, sheet);</div><div class="line">    <span class="comment">// draw grid lines</span></div><div class="line">    drawCellLines(ctx, grid, <span class="string">'grey'</span>);</div><div class="line"> </div><div class="line">&#125;</div><div class="line">    ());</div></pre></td></tr></table></figure>
<p>When this example is working I see what I would expect I have orange tiles as the default background, and then green tiles for each one that I have set to a value of one. I then have gray grid lines over this.</p>
<h2 id="5-Conclusion"><a href="#5-Conclusion" class="headerlink" title="5 - Conclusion"></a>5 - Conclusion</h2><p>This is my no means the end all be all solution for creating a canvas grid there are many different ways of going about doing this, such is the nature of programing in general of course. I was considering making more of a functional approach to this for example where there would be a method that just creates a plain old object that can then be passed to all kinds f methods that act on that object. In any case I might use what is written here in additional posts on canvas examples that make used of a grid to do something interesting.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dustinpfister.github.io/2019/11/07/canvas-example-grid/" data-id="cl5y3xeju005tj8v11f5y4jmt" class="article-share-link">Share</a>
      
        <a href="https://dustinpfister.github.io/2019/11/07/canvas-example-grid/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/canvas/">canvas</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/11/08/canvas-move/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Canvas move objects by Pixels per second
        
      </div>
    </a>
  
  
    <a href="/2019/11/06/js-javascript-option/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">The javaScript Option constructor and select lists in general</div>
    </a>
  
</nav>

  
</article>



<section id="comments">

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://dustinpfister.github.io/2019/11/07/canvas-example-grid/index.html';
    this.page.identifier = '558';
    this.page.title = 'Canvas grid example view and model';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://dustinpfister-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular/">angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/api/">api</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/backbone/">backbone</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/discovery/">discovery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/electronjs/">electronjs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/games/">games</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/grunt/">grunt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hapi/">hapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/heroku/">heroku</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jquery/">jquery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lodash/">lodash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node-js/">node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/phaser/">phaser</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/statistics/">statistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/three-js/">three.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backbone/">backbone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/corejs/">corejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deterministic/">deterministic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discovery/">discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejs/">ejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/electronjs/">electronjs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hapi/">hapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jimp/">jimp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js13k/">js13k</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/structured-data/">structured-data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/themes/">themes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three-js/">three.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JSON/" style="font-size: 12.5px;">JSON</a> <a href="/tags/SEO/" style="font-size: 10.5px;">SEO</a> <a href="/tags/angular/" style="font-size: 13.5px;">angular</a> <a href="/tags/animation/" style="font-size: 12px;">animation</a> <a href="/tags/automation/" style="font-size: 12px;">automation</a> <a href="/tags/backbone/" style="font-size: 12.5px;">backbone</a> <a href="/tags/blog/" style="font-size: 15px;">blog</a> <a href="/tags/canvas/" style="font-size: 18.5px;">canvas</a> <a href="/tags/corejs/" style="font-size: 13px;">corejs</a> <a href="/tags/deterministic/" style="font-size: 10px;">deterministic</a> <a href="/tags/discovery/" style="font-size: 11px;">discovery</a> <a href="/tags/ejs/" style="font-size: 11.5px;">ejs</a> <a href="/tags/electronjs/" style="font-size: 13px;">electronjs</a> <a href="/tags/express/" style="font-size: 16.5px;">express</a> <a href="/tags/games/" style="font-size: 17px;">games</a> <a href="/tags/git/" style="font-size: 13px;">git</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hapi/" style="font-size: 15px;">hapi</a> <a href="/tags/heroku/" style="font-size: 12px;">heroku</a> <a href="/tags/hexo/" style="font-size: 14.5px;">hexo</a> <a href="/tags/jimp/" style="font-size: 10.5px;">jimp</a> <a href="/tags/jquery/" style="font-size: 11.5px;">jquery</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/js13k/" style="font-size: 10px;">js13k</a> <a href="/tags/linux/" style="font-size: 17.5px;">linux</a> <a href="/tags/lodash/" style="font-size: 18.5px;">lodash</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mongodb/" style="font-size: 14.5px;">mongodb</a> <a href="/tags/node-js/" style="font-size: 19.5px;">node.js</a> <a href="/tags/phaser/" style="font-size: 18px;">phaser</a> <a href="/tags/python/" style="font-size: 15.5px;">python</a> <a href="/tags/statistics/" style="font-size: 14px;">statistics</a> <a href="/tags/structured-data/" style="font-size: 10px;">structured-data</a> <a href="/tags/themes/" style="font-size: 10px;">themes</a> <a href="/tags/three-js/" style="font-size: 19px;">three.js</a> <a href="/tags/vuejs/" style="font-size: 16px;">vuejs</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/07/22/threejs-capsule-geometry/">Capsule geometry in threejs</a>
          </li>
        
          <li>
            <a href="/2022/07/15/threejs-examples-object-grid-wrap-land/">THREEJS Looping land animation using the Object grid wrap module</a>
          </li>
        
          <li>
            <a href="/2022/07/08/threejs-examples-weird-face-one/">Weird face one threejs example</a>
          </li>
        
          <li>
            <a href="/2022/07/01/threejs-examples-lerp-geo/">Lerping the points of a geometry from one to another</a>
          </li>
        
          <li>
            <a href="/2022/06/17/threejs-curve/">The Curve class and tube geometry in threejs</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 Dustin Pfister<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      <br>
      <a href="/privacy.html" target="_blank">Privacy Policy</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/2021/02/19/threejs-examples/" class="mobile-nav-link">ThreeJS-Examples</a>
  
    <a href="/2020/03/23/canvas-example/" class="mobile-nav-link">Canvas-Examples</a>
  
    <a href="https://github.com/dustinpfister" class="mobile-nav-link">Github</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'dustinpfister-github-io';
  
  var disqus_url = 'https://dustinpfister.github.io/2019/11/07/canvas-example-grid/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


  </div>
</body>
</html>