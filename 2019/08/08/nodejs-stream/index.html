<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  
  <title>The node stream module and making custom readable and writable streams | Dustin John Pfister at github pages</title>
  
  <!-- no index tag or blank here -->
  
  
  <link rel="canonical" href="https://dustinpfister.github.io/2019/08/08/nodejs-stream/" />

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="So I have wrote a few posts on streams when it comes to the create read stream and create write stream file system module methods, as well as many other such methods in various native nodejs modules.">
<meta property="og:type" content="article">
<meta property="og:title" content="The node stream module and making custom readable and writable streams">
<meta property="og:url" content="https://dustinpfister.github.io/2019/08/08/nodejs-stream/index.html">
<meta property="og:site_name" content="Dustin John Pfister at github pages">
<meta property="og:description" content="So I have wrote a few posts on streams when it comes to the create read stream and create write stream file system module methods, as well as many other such methods in various native nodejs modules.">
<meta property="og:updated_time" content="2019-08-08T20:09:13.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="The node stream module and making custom readable and writable streams">
<meta name="twitter:description" content="So I have wrote a few posts on streams when it comes to the create read stream and create write stream file system module methods, as well as many other such methods in various native nodejs modules.">
  
    <link rel="alternate" href="/atom.xml" title="Dustin John Pfister at github pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-83195184-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  <!-- structured data set in structured-data.ejs -->
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "email": "distin.pfister@gmail.com",
    "givenName": "Dustin",
    "familyName" : "Pfister",
    "additionalName": "John",
    "name": "Dustin John Pfister",
    "gender": "Male"
}
</script>
<!-- end structured data -->
  
  <!-- adsense if indexed -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1658284027672315",
    enable_page_level_ads: true
  });
  </script>
  
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <!-- added the image-->
        <div class="selfimage"></div>
        <!--<a href="/" id="logo">Dustin John Pfister at github pages</a>-->
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <!-- removed rss link-->
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dustinpfister.github.io"></form>
      </div>
    </div>
  </div>
</header>

<!-- adding my canvas thing ( Dustin ) -->
<script src="/js/the_matrix.js"></script>
      <div class="outer">
        <section id="main"><article itemscope itemtype="http://schema.org/Blog" id="post-nodejs-stream" class="article article-type-post" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/08/08/nodejs-stream/" class="article-date"> Published:
  <time datetime="2019-08-08T14:51:00.000Z" itemprop="datePublished">2019-08-08</time>
</a>

    <!-- other info (dustin) -->
    <a href="/2019/08/08/nodejs-stream/" class="article-date"> Modified:
  <time datetime="2019-08-08T20:09:13.000Z" itemprop="dateModified">2019-08-08</time>
</a>

    <span class="article-date">V1.9</span>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/node-js/">node.js</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      The node stream module and making custom readable and writable streams
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="text">
      
        <p>So I have wrote a few posts on streams when it comes to the create read stream and create write stream file system module methods, as well as many other such methods in various native nodejs modules. However I have not wrote much on the <a href="https://nodejs.org/api/stream.html" target="_blank" rel="external">node stream</a> module by itself, and how to go about using that module to make my own custom streams. Also it is important to know a thing or two about this module and the nature of streams in general when it comes to working on nodejs projects. So I thought I would put together a piece of content in which I am focusing on the node stream module and custom made streams, rather than something else in nodejs that inherits from the base classes in this module.</p>
<a id="more"></a>
<h2 id="1-Readable-Node-Stream-example-that-streams-random-letters"><a href="#1-Readable-Node-Stream-example-that-streams-random-letters" class="headerlink" title="1 - Readable Node Stream example that streams random letters"></a>1 - Readable Node Stream example that streams random letters</h2><p>So there are writable streams and duplex streams that can both read and write, but for starters readable streams might be a good place to begin with streams in nodejs. So I made a quick example that can be used to stream random letters to a writable stream that can console the data. This might not be the most piratical example of a readable stream, but the basic concepts can surly be applied to a stream that might have some kind of piratical application. So in this section I will be writing about using the node stream module to make a custom readable stream, and some basic examples that make use of it.</p>
<h3 id="1-1-The-Random-Letters-Readable-stream-file"><a href="#1-1-The-Random-Letters-Readable-stream-file" class="headerlink" title="1.1 - The Random Letters Readable stream file"></a>1.1 - The Random Letters Readable stream file</h3><p>So I started out by making a readable node stream module that exports a method that can be used to create an instance of the Random Letters readable stream.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> stream = <span class="built_in">require</span>(<span class="string">'stream'</span>);</div><div class="line"> </div><div class="line"><span class="comment">// default stop if method</span></div><div class="line"><span class="keyword">let</span> stopIf = <span class="function"><span class="keyword">function</span> (<span class="params">buff, opt</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (opt.byteIndex &lt; opt.totalBytes) &#123;</div><div class="line">        <span class="comment">// use the push method to push data to be</span></div><div class="line">        <span class="comment">// consumed</span></div><div class="line">        <span class="keyword">this</span>.push(buff);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="comment">// push null when done</span></div><div class="line">        <span class="keyword">this</span>.push(<span class="literal">null</span>);</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// returns a RandomLetters Readable Stream</span></div><div class="line">exports.RandomLetters = <span class="function"><span class="keyword">function</span> (<span class="params">opt</span>) </span>&#123;</div><div class="line">    opt = opt || &#123;&#125;;</div><div class="line">    opt.byteIndex = opt.byteIndex === <span class="literal">undefined</span> ? <span class="number">0</span> : opt.byteIndex;</div><div class="line">    opt.totalBytes = opt.totalBytes === <span class="literal">undefined</span> ? <span class="number">1024</span> : opt.totalBytes;</div><div class="line">    opt.stopIf = opt.stopIf || stopIf;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> stream.Readable(&#123;</div><div class="line">        <span class="comment">// must have a read method</span></div><div class="line">        read: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line"> </div><div class="line">            <span class="comment">// generate some data</span></div><div class="line">            <span class="keyword">let</span> n = <span class="number">65</span> + <span class="built_in">Math</span>.round(<span class="number">25</span> * <span class="built_in">Math</span>.random());</div><div class="line">            <span class="keyword">let</span> buff = Buffer.from(n.toString(<span class="number">16</span>), <span class="string">'hex'</span>);</div><div class="line"> </div><div class="line">            <span class="comment">// call stopIf and step index</span></div><div class="line">            opt.stopIf.call(<span class="keyword">this</span>, buff, opt);</div><div class="line">            opt.byteIndex += <span class="number">1</span>;</div><div class="line">            <span class="keyword">if</span> (opt.byteIndex &gt; opt.totalBytes) &#123;</div><div class="line">                opt.byteIndex %= opt.totalBytes;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="1-2-Using-a-pipe-to-standard-output-with-default-stop-method"><a href="#1-2-Using-a-pipe-to-standard-output-with-default-stop-method" class="headerlink" title="1.2 - Using a pipe to standard output with default stop method"></a>1.2 - Using a pipe to standard output with default stop method</h3><p>So by default I am using a hard coded stop if method that will push null ending the readable stream once the current byte index reaches a total bytes value. I can set what that total byes value is via an option when creating the readable node stream. So for the first example that makes use of this random letters readable stream example, I am just piping to the standard output.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Using my Random Letters Read Stream</span></div><div class="line"><span class="keyword">let</span> RandomLetters = <span class="built_in">require</span>(<span class="string">'./read_random_letters.js'</span>).RandomLetters;</div><div class="line"> </div><div class="line"><span class="comment">// create an instance of the read stream</span></div><div class="line"><span class="keyword">let</span> readStream = RandomLetters(&#123;<span class="attr">totalBytes</span>: process.argv[<span class="number">2</span>] || <span class="number">1024</span> &#125;);</div><div class="line"> </div><div class="line"><span class="comment">// pipe to a writable stream like the standard output</span></div><div class="line">readStream.pipe(process.stdout);</div></pre></td></tr></table></figure>
<p>Using a pipe is one way to go about setting the stream into flowing mode, so the stream will just keep flowing non stop into the standard output until it is stopped somehow. In this case the stream stops because there is a stop if method that is called in the body of the read method. By default the hard coded stop if method will push null if the byte index equals or surpasses the totalBytes value.</p>
<h3 id="1-3-Using-a-pipe-with-custom-stop-method-that-gives-to-condition-to-stop"><a href="#1-3-Using-a-pipe-with-custom-stop-method-that-gives-to-condition-to-stop" class="headerlink" title="1.3 - Using a pipe with custom stop method that gives to condition to stop"></a>1.3 - Using a pipe with custom stop method that gives to condition to stop</h3><p>One of the options that is possible with this module I put together is the option to give a custom stop if method that can be used to define the condition required to push null ending the stream, or not. In this example I am not defining any condition to push null, I just keep pushing the current buffer value created in the read method. </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Using my Random Letters Read Stream</span></div><div class="line"><span class="keyword">let</span> RandomLetters = <span class="built_in">require</span>(<span class="string">'./read_random_letters.js'</span>).RandomLetters;</div><div class="line"> </div><div class="line"><span class="comment">// create an instance of the read stream</span></div><div class="line"><span class="keyword">let</span> readStream = RandomLetters(&#123;</div><div class="line">        <span class="attr">stopIf</span>: <span class="function"><span class="keyword">function</span> (<span class="params">buff, opt</span>) </span>&#123;</div><div class="line">            <span class="comment">// no stop condition</span></div><div class="line">            <span class="keyword">this</span>.push(buff);</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line"> </div><div class="line"><span class="comment">// this will go forever until I break with ctr+c</span></div><div class="line"><span class="comment">// because piping is a way to enter flowing state</span></div><div class="line">readStream.pipe(process.stdout);</div></pre></td></tr></table></figure>
<p>So this example results in data being generated and spit out to the standard output non stop the only way is to break out some how in the console by pressing ctr + C for example.</p>
<h3 id="1-4-Fine-grain-pause-and-resume-control"><a href="#1-4-Fine-grain-pause-and-resume-control" class="headerlink" title="1.4 - Fine grain pause and resume control"></a>1.4 - Fine grain pause and resume control</h3><p>So I have wrote a few examples that involve piping the readable node stream to another node stream that is writable such as the standard output. By using the readable.pipe method this places the stream in the flowing state, but what if I want to pause and resume that state from some reason so that I have fine grain control over the process. For this there is the resume, read, and puse methods.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Using my Random Letters Read Stream</span></div><div class="line"><span class="keyword">let</span> RandomLetters = <span class="built_in">require</span>(<span class="string">'./read_random_letters.js'</span>).RandomLetters;</div><div class="line"> </div><div class="line"><span class="comment">// create an instance of the read stream</span></div><div class="line"><span class="keyword">let</span> readStream = RandomLetters(&#123;</div><div class="line">        <span class="attr">stopIf</span>: <span class="function"><span class="keyword">function</span> (<span class="params">buff, opt</span>) </span>&#123;</div><div class="line">            <span class="comment">// no stop condition</span></div><div class="line">            <span class="keyword">this</span>.push(buff);</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line"><span class="comment">// So then I can just read and read and define my condition to stop</span></div><div class="line"><span class="comment">// by some other way such as using the readable.resume, read, and pause</span></div><div class="line"><span class="comment">// methods to control the flow state</span></div><div class="line"><span class="built_in">console</span>.log(readStream._readableState.flowing); <span class="comment">// null</span></div><div class="line">setInterval(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    readStream.resume();</div><div class="line">    process.stdout.write(readStream.read().toString());</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">' '</span> + readStream._readableState.flowing); <span class="comment">// true</span></div><div class="line">    readStream.pause();</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">' '</span> + readStream._readableState.flowing); <span class="comment">// false</span></div><div class="line">&#125;, <span class="number">1000</span>);</div></pre></td></tr></table></figure>
<h2 id="2-Writable-node-stream-example-that-has-to-do-with-base64-encoding"><a href="#2-Writable-node-stream-example-that-has-to-do-with-base64-encoding" class="headerlink" title="2 - Writable node stream example that has to do with base64 encoding"></a>2 - Writable node stream example that has to do with base64 encoding</h2><p>In this section I will be going over a simple example of making a custom writable node stream. This example involves making a function that returns a writable stream that can encode text as base64, and another that can decode it back to plan text.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> stream = <span class="built_in">require</span>(<span class="string">'stream'</span>);</div><div class="line"> </div><div class="line"><span class="keyword">let</span> WB64 = <span class="function"><span class="keyword">function</span> (<span class="params">opt</span>) </span>&#123;</div><div class="line">    opt = opt || &#123;&#125;;</div><div class="line">    opt.toB64 = opt.toB64 === <span class="literal">undefined</span> ? <span class="literal">true</span> : opt.toB64;</div><div class="line">    <span class="keyword">if</span> (opt.toB64) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> stream.Writable(&#123;</div><div class="line">            <span class="attr">write</span>: <span class="function"><span class="keyword">function</span> (<span class="params">chunk, enc, cb</span>) </span>&#123;</div><div class="line">                <span class="built_in">console</span>.log(chunk.toString(<span class="string">'base64'</span>));</div><div class="line">                cb(<span class="literal">null</span>);</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> stream.Writable(&#123;</div><div class="line">        <span class="attr">write</span>: <span class="function"><span class="keyword">function</span> (<span class="params">chunk, enc, cb</span>) </span>&#123;</div><div class="line">            <span class="built_in">console</span>.log(Buffer.from(chunk.toString(<span class="string">'utf8'</span>), <span class="string">'base64'</span>).toString());</div><div class="line">            cb(<span class="literal">null</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="keyword">let</span> toB64 = WB64(),</div><div class="line">fromB64 = WB64(&#123;</div><div class="line">        <span class="attr">toB64</span>: <span class="literal">false</span></div><div class="line">    &#125;);</div><div class="line">toB64.write(<span class="string">'So this will be based 64 encoded'</span>);</div><div class="line"><span class="comment">// U28gdGhpcyB3aWxsIGJlIGJhc2VkIDY0IGVuY29kZWQ=</span></div><div class="line">fromB64.write(<span class="string">'U28gdGhpcyB3aWxsIGJlIGJhc2VkIDY0IGVuY29kZWQ='</span>);</div><div class="line"><span class="comment">// So this will be based 64 encoded</span></div></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://dustinpfister.github.io/2019/08/08/nodejs-stream/" data-id="cjz4pv50e0009o8v1oi8eni4h" class="article-share-link">Share</a>
      
        <a href="https://dustinpfister.github.io/2019/08/08/nodejs-stream/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/node-js/">node.js</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/08/09/express-stream/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Express stream and the XMLHttprequest on process event
        
      </div>
    </a>
  
  
    <a href="/2019/08/07/nodejs-child-process-fork/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">The node fork child process method.</div>
    </a>
  
</nav>

  
</article>



<section id="comments">

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://dustinpfister.github.io/2019/08/08/nodejs-stream/index.html';
    this.page.identifier = '518';
    this.page.title = 'The node stream module and making custom readable and writable streams';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://dustinpfister-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular/">angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/api/">api</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/backbone/">backbone</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/discovery/">discovery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/games/">games</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/grunt/">grunt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hapi/">hapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/heroku/">heroku</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jquery/">jquery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lodash/">lodash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node-js/">node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/phaser/">phaser</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/statistics/">statistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/three-js/">three.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backbone/">backbone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/corejs/">corejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deterministic/">deterministic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discovery/">discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejs/">ejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hapi/">hapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jimp/">jimp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js13k/">js13k</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/structured-data/">structured-data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/themes/">themes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three-js/">three.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JSON/" style="font-size: 12.22px;">JSON</a> <a href="/tags/SEO/" style="font-size: 10.56px;">SEO</a> <a href="/tags/angular/" style="font-size: 13.89px;">angular</a> <a href="/tags/animation/" style="font-size: 12.78px;">animation</a> <a href="/tags/automation/" style="font-size: 12.78px;">automation</a> <a href="/tags/backbone/" style="font-size: 13.33px;">backbone</a> <a href="/tags/blog/" style="font-size: 15px;">blog</a> <a href="/tags/canvas/" style="font-size: 17.78px;">canvas</a> <a href="/tags/corejs/" style="font-size: 12.78px;">corejs</a> <a href="/tags/deterministic/" style="font-size: 10px;">deterministic</a> <a href="/tags/discovery/" style="font-size: 11.11px;">discovery</a> <a href="/tags/ejs/" style="font-size: 11.67px;">ejs</a> <a href="/tags/express/" style="font-size: 16.67px;">express</a> <a href="/tags/games/" style="font-size: 17.22px;">games</a> <a href="/tags/git/" style="font-size: 11.67px;">git</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hapi/" style="font-size: 15px;">hapi</a> <a href="/tags/heroku/" style="font-size: 13.89px;">heroku</a> <a href="/tags/hexo/" style="font-size: 14.44px;">hexo</a> <a href="/tags/jimp/" style="font-size: 10.56px;">jimp</a> <a href="/tags/jquery/" style="font-size: 11.67px;">jquery</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/js13k/" style="font-size: 10px;">js13k</a> <a href="/tags/linux/" style="font-size: 12.78px;">linux</a> <a href="/tags/lodash/" style="font-size: 18.33px;">lodash</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mongodb/" style="font-size: 14.44px;">mongodb</a> <a href="/tags/node-js/" style="font-size: 19.44px;">node.js</a> <a href="/tags/phaser/" style="font-size: 18.89px;">phaser</a> <a href="/tags/statistics/" style="font-size: 12.22px;">statistics</a> <a href="/tags/structured-data/" style="font-size: 10px;">structured-data</a> <a href="/tags/themes/" style="font-size: 10px;">themes</a> <a href="/tags/three-js/" style="font-size: 16.11px;">three.js</a> <a href="/tags/vuejs/" style="font-size: 15.56px;">vuejs</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/01/31/nodejs-path-parse/">Node path parse method and the compoents of a path</a>
          </li>
        
          <li>
            <a href="/2020/01/30/js-javascript-date-get-num-of-days-between-two-dates/">Getting the number of days between two javaScript dates.</a>
          </li>
        
          <li>
            <a href="/2020/01/29/canvas-example-pointer-manager-mouse-and-touch/">Pointer manager mouse and touch canvas example</a>
          </li>
        
          <li>
            <a href="/2020/01/28/canvas-example-state-machine/">State Machine canvas example</a>
          </li>
        
          <li>
            <a href="/2020/01/27/js-array-from/">The Array from static method and other ways of creating an array from something else</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Dustin Pfister<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      <br>
      <a href="/privacy.html" target="_blank">Privacy Policy</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'dustinpfister-github-io';
  
  var disqus_url = 'https://dustinpfister.github.io/2019/08/08/nodejs-stream/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


  </div>
</body>
</html>