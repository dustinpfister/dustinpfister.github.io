<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <!-- disqus image-->
  <meta property="og:image" content="https://dustinpfister.github.io/css/images/banner.jpg">
  
  <title>Web Storage api in client side javaScript | Dustin John Pfister at github pages</title>
  
  <!-- no index tag or blank here -->
  
  
  <link rel="canonical" href="https://dustinpfister.github.io/2019/08/20/js-web-storage/" />

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="There are a number of ways to store data on the client side, but in this post I will be mainly writing about the Web Storage API, rather than index db, cookies files, and many other such options for c">
<meta property="og:type" content="article">
<meta property="og:title" content="Web Storage api in client side javaScript">
<meta property="og:url" content="https://dustinpfister.github.io/2019/08/20/js-web-storage/index.html">
<meta property="og:site_name" content="Dustin John Pfister at github pages">
<meta property="og:description" content="There are a number of ways to store data on the client side, but in this post I will be mainly writing about the Web Storage API, rather than index db, cookies files, and many other such options for c">
<meta property="og:updated_time" content="2021-10-12T17:06:26.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Web Storage api in client side javaScript">
<meta name="twitter:description" content="There are a number of ways to store data on the client side, but in this post I will be mainly writing about the Web Storage API, rather than index db, cookies files, and many other such options for c">
  
    <link rel="alternate" href="/atom.xml" title="Dustin John Pfister at github pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <!-- Google Analytics -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y8XLNG6JRW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Y8XLNG6JRW');
</script>
<!-- End Google Analytics -->


  <!-- structured data set in structured-data.ejs -->
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "email": "distin.pfister@gmail.com",
    "givenName": "Dustin",
    "familyName" : "Pfister",
    "additionalName": "John",
    "name": "Dustin John Pfister",
    "gender": "Male"
}
</script>
<!-- end structured data -->
  
  <!-- adsense if indexed -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1658284027672315",
    enable_page_level_ads: true
  });
  </script>
  
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <!-- added the image-->
        <div class="selfimage"></div>
        <!--<a href="/" id="logo">Dustin John Pfister at github pages</a>-->
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/2021/02/19/threejs-examples/">ThreeJS-Examples</a>
        
          <a class="main-nav-link" href="/2020/03/23/canvas-example/">Canvas-Examples</a>
        
          <a class="main-nav-link" href="https://github.com/dustinpfister">Github</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <!-- removed rss link-->
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dustinpfister.github.io"></form>
      </div>
    </div>
  </div>
</header>

<!-- adding my canvas thing ( Dustin ) -->
<script src="/js/the_matrix.js"></script>
      <div class="outer">
        <section id="main"><article itemscope itemtype="http://schema.org/Blog" id="post-js-web-storage" class="article article-type-post" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/08/20/js-web-storage/" class="article-date"> Published:
  <time datetime="2019-08-20T23:40:00.000Z" itemprop="datePublished">2019-08-20</time>
</a>

    <!-- other info (dustin) -->
    <a href="/2019/08/20/js-web-storage/" class="article-date"> Modified:
  <time datetime="2021-10-12T17:06:26.000Z" itemprop="dateModified">2021-10-12</time>
</a>

    <span class="article-date">V1.36</span>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/js/">js</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Web Storage api in client side javaScript
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="text">
      
        <p>There are a number of ways to store data on the client side, but in this post I will be mainly writing about the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API" target="_blank" rel="external">Web Storage API</a>, rather than index db, cookies files, and many other such options for <a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Client-side_storage" target="_blank" rel="external">client side persistence of data</a> in a front end javaScript environment.</p>
<p>The Web Storage API is easy to use as everything can just simply be stored as key value pairs of the localSorage global variable on clients that support the Web Storage API. However depending on the nature of the project it might not always be the best choice when storing large amounts of data. The indexed db option is a better choice when it comes to storage of large amounts of data on the clients computer, and cookie files will always give better backward compatibility when it comes to supporting older browsers but with a limited size.</p>
<p>There is also the idea of using the <a href="/2020/03/24/js-filereader/">File reader constructor</a> to have it so the user can save and load files anywhere on their computers local file system. So in some projects the file reader constructor might be be the best choice for handing the saving and loading of state, or other assets in general actually.</p>
<p>Still the Web Storage API is a good option for quickly getting the job done, and most modern browsers support the standard well, any one had to start somewhere when it comes to researching what the options are.</p>
<a id="more"></a>
<h2 id="1-Web-storage-API-basics-and-what-to-know-first"><a href="#1-Web-storage-API-basics-and-what-to-know-first" class="headerlink" title="1 - Web storage API basics and what to know first"></a>1 - Web storage API basics and what to know first</h2><p>Working with the Web Storage API is as easy as working with a plain old javaScript object more or less which makes it one of he reasons why I tend to like using it. The localStoarge global can then be used just like that of any other javaScript Object, whatever you want to save on the client just define it as a property of the localStorage global. </p>
<p>However there are also setItem and getItem methods that can be used to do get and set properties of the localStoarge global which should be used to do so. Also when saving a value for a local storage api get I will want to always do so in a string format, so there is knowing a thing or two about how to work with the <a href="/2020/02/28/js-json-parse/">JSON methods</a>. Once a property is set then that value will be there again every page load, site wide, serving the purpose of client side persistence of data on top of other options such as cookie files.</p>
<h3 id="1-1-The-source-code-example-in-this-post-are-on-github"><a href="#1-1-The-source-code-example-in-this-post-are-on-github" class="headerlink" title="1.1 - The source code example in this post are on github"></a>1.1 - The source code example in this post are on github</h3><p>The source code examples for the web storage api that I am writing about in this post can be found in by <a href="https://github.com/dustinpfister/test_vjs/tree/master/for_post/js-web-storage" target="_blank" rel="external">test vjs Github repository</a>. This post is one of many that is still very much a work in progress, so the latest version of the files as well as some notes that have to do with future plans for editing can be found there.</p>
<h3 id="1-2-web-storage-basic-example"><a href="#1-2-web-storage-basic-example" class="headerlink" title="1.2 - web storage basic example"></a>1.2 - web storage basic example</h3><p>So then here I have a basic example of the Web Storage API that just stores a single message that can be set from the value property of a text type input element. </p>
<p>I have an <a href="/2019/01/16/js-event-listeners/">event handler</a> that will fire each time a keyboard key is released, or the value changes. So Each time a key is release, or for any reason the value property of the text input element changes I call the set method of my web storage module to set the value for a key that I have set as mess. Then each time the page loads the value of the text element is set to the value in local storage that is obtained by way of the get method of my web storage module.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>web storage<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"the-text"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">placeholder</span>=<span class="string">"foo"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> ws = &#123;&#125;;</div><div class="line"><span class="comment">// get an item with local storage</span></div><div class="line">ws.get = <span class="function"><span class="keyword">function</span>(<span class="params">key</span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> mess = localStorage.getItem(key);</div><div class="line">  <span class="keyword">if</span>(mess)&#123;</div><div class="line">      <span class="keyword">return</span> mess;</div><div class="line">  &#125;<span class="keyword">else</span>&#123;</div><div class="line">      <span class="keyword">return</span> <span class="string">''</span>;</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line"><span class="comment">// set an item with local storage</span></div><div class="line">ws.set = <span class="function"><span class="keyword">function</span>(<span class="params">key, value</span>)</span>&#123;</div><div class="line">    localStorage.setItem(key, value);</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">// DEMO</span></div><div class="line"><span class="keyword">var</span> text = <span class="built_in">document</span>.getElementById(<span class="string">'the-text'</span>),</div><div class="line">setMessHandler = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">   ws.set(<span class="string">'mess'</span>, e.target.value);</div><div class="line">&#125;;</div><div class="line">text.addEventListener(<span class="string">'change'</span>, setMessHandler);</div><div class="line">text.addEventListener(<span class="string">'keyup'</span>, setMessHandler);</div><div class="line"><span class="keyword">var</span> storeText = ws.get(<span class="string">'mess'</span>);</div><div class="line"><span class="keyword">if</span>(storeText != <span class="string">''</span>)&#123;</div><div class="line">   text.value = storeText;</div><div class="line">&#125;</div><div class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="2-Feature-testing-for-web-storage-API"><a href="#2-Feature-testing-for-web-storage-API" class="headerlink" title="2 - Feature testing for web storage API."></a>2 - Feature testing for web storage API.</h2><p>One major thing about the web storage api is that I can not always count on it being there. There is the question of it not even being supported the browser at all of course, however more often than not these days it could be disabled. So then it would make sense to have some code that will check if the local storage api is even there to begin with, and on top of that do a quick test even if it is there to make sure that it is working as expected. This way I can first test out the API, and if it is working proceed with the normal flow of things, else I can try something else, or at least inform the user that they will not be able to save any progress, settings, data or whatever the case may be.</p>
<h3 id="2-1-A-Web-Storage-library"><a href="#2-1-A-Web-Storage-library" class="headerlink" title="2.1 - A Web Storage library"></a>2.1 - A Web Storage library</h3><p>So now for this example I am making a <a href="/2019/03/12/js-javascript-module/">javaScript module</a> following the <a href="/2020/02/04/js-iife/">IIFE pattern</a> for client side javaScript modules. I then have a single global variable called ws to which I am attaching a number of public methods, with just one private method thus far that is a test function. This test function will preform a number of things such as checking if the local storage API is even there to begin with, in the event that it is not there the function will of course return false. On top of that if the local storage api is here it will not just assume that it is working as expected, so on top of feature testing for the local storage api it will also try to save and get a string value. If local storage is working as expected this test method will of course return true.</p>
<p>On top of having a pubic test method that calls the internal test method I also of course have a get and set methods that are also public. These methods also call the private test method each time they are used, and when doing so the call on on disabled call back in the event that a test fails. It is then in this on disabled call back that I could do something like altering the user that local storage is not working and that they might want to do something to fix that.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">ws</span>) </span>&#123;</div><div class="line"> </div><div class="line">    <span class="comment">// private test function</span></div><div class="line">    <span class="keyword">var</span> test = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'web sorage test: '</span>);</div><div class="line">        <span class="keyword">if</span> (!localStorage) &#123;</div><div class="line">            <span class="built_in">console</span>.log(<span class="string">'window.localStorage object not found, pass is false'</span>);</div><div class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// save a test object for key ws-test</span></div><div class="line">        localStorage.setItem(<span class="string">'ws-test'</span>, <span class="built_in">JSON</span>.stringify(&#123;</div><div class="line">                <span class="attr">value</span>: <span class="string">'foo'</span></div><div class="line">            &#125;));</div><div class="line">        <span class="comment">// try to now get what we just saved</span></div><div class="line">        <span class="keyword">var</span> string = localStorage.getItem(<span class="string">'ws-test'</span>);</div><div class="line">        <span class="keyword">if</span> (string) &#123;</div><div class="line">            <span class="comment">// so we have a string parse to an object</span></div><div class="line">            <span class="keyword">try</span> &#123;</div><div class="line">                <span class="keyword">var</span> result = <span class="built_in">JSON</span>.parse(string);</div><div class="line">            &#125; <span class="keyword">catch</span> (e) &#123;</div><div class="line">                <span class="built_in">console</span>.log(<span class="string">'got a dom string, but there was an error parsing JSON some how.'</span>);</div><div class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="comment">// so we have an object, is are test value there?</span></div><div class="line">            <span class="keyword">var</span> pass = result.value === <span class="string">'foo'</span>;</div><div class="line">            <span class="built_in">console</span>.log(<span class="string">'Got an object and value test pass is: '</span> + pass);</div><div class="line">            <span class="comment">// in any case remove the item</span></div><div class="line">            localStorage.removeItem(<span class="string">'ws-test'</span>);</div><div class="line">            <span class="comment">// return result of pass boolean if all is well it should be true</span></div><div class="line">            <span class="keyword">return</span> pass;</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'No result object pass is false'</span>);</div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line"> </div><div class="line">    <span class="comment">// public test function</span></div><div class="line">    ws.test = <span class="function"><span class="keyword">function</span> (<span class="params">opt</span>) </span>&#123;</div><div class="line">        opt = opt || &#123;&#125;;</div><div class="line">        opt.onDisabled = opt.onDisabled || <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</div><div class="line">        <span class="comment">// feature test for local storage</span></div><div class="line">        <span class="keyword">if</span> (test()) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">        &#125;</div><div class="line">        opt.onDisabled.call(opt, opt, <span class="string">'ws-test'</span>);</div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line"> </div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="comment">// get an item with local storage</span></div><div class="line">    ws.get = <span class="function"><span class="keyword">function</span> (<span class="params">key, opt</span>) </span>&#123;</div><div class="line">        opt = opt || &#123;&#125;;</div><div class="line">        opt.onDisabled = opt.onDisabled || <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</div><div class="line">        <span class="comment">// feature test for local storage</span></div><div class="line">        <span class="keyword">if</span> (test()) &#123;</div><div class="line">            <span class="keyword">var</span> mess = localStorage.getItem(key);</div><div class="line">            <span class="keyword">if</span> (mess) &#123;</div><div class="line">                <span class="keyword">return</span> mess;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                <span class="keyword">return</span> <span class="string">''</span>;</div><div class="line">            &#125;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            opt.onDisabled.call(opt, opt, key);</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="comment">// set an item with local storage</span></div><div class="line">    ws.set = <span class="function"><span class="keyword">function</span> (<span class="params">key, value, opt</span>) </span>&#123;</div><div class="line">        opt = opt || &#123;&#125;;</div><div class="line">        opt.onDisabled = opt.onDisabled || <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</div><div class="line">        <span class="keyword">if</span> (test()) &#123;</div><div class="line">            localStorage.setItem(key, value);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            opt.onDisabled.call(opt, opt, key);</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">&#125;</div><div class="line">    (<span class="keyword">this</span>[<span class="string">'ws'</span>] = &#123;&#125;));</div></pre></td></tr></table></figure>
<h3 id="2-2-Simple-demo-of-the-test-method"><a href="#2-2-Simple-demo-of-the-test-method" class="headerlink" title="2.2 - Simple demo of the test method"></a>2.2 - Simple demo of the test method</h3><p>I will then want to have at least a few demos if this web api library to make sure things work out as expected. For starters I will want to make sure that the test function is working out the way that it should. So then I made a quick simple demo that tests out the test function.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>web storage<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"out"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"web-storage.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> out = <span class="built_in">document</span>.getElementById(<span class="string">'out'</span>);</div><div class="line"><span class="keyword">if</span>(ws.test())&#123;</div><div class="line">    out.innerText = <span class="string">'We are good'</span>;</div><div class="line">&#125;<span class="keyword">else</span>&#123;</div><div class="line">    out.innerText = <span class="string">'local storage is not working'</span>;</div><div class="line">&#125;</div><div class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>When I run this example by way of the file protocol by just opening up the html file in the browser the web API works. However what is strange is that event when I disable it it still seems to work anyway. I assume that this might have something to do with using the web API by way of the file protocol, or for some reason when I go to disable local storage doing so just seems to not work for whatever reason.</p>
<p>I guess I could see about doing the same when it comes to disabling by way of the http protocol, but I did nit get around to testing that out last time I edited this post at least. However this is something that I would like to look into more at one point or another.</p>
<h2 id="3-Save-state-system-from-my-cross-hairs-canvas-example"><a href="#3-Save-state-system-from-my-cross-hairs-canvas-example" class="headerlink" title="3 - Save state system from my cross hairs canvas example"></a>3 - Save state system from my cross hairs canvas example</h2><p>So now that I have covered a basic example of using the web storage API I thought I would write a section on the code that I worked out for the save state system that I am using in one of my <a href="/2020/03/23/canvas-example/">canvas examples</a>. The specif example in question is my <a href="/2020/07/29/canvas-example-game-crosshairs/">cross hairs game example</a> that I spent a fair about of time working on a while back.</p>
<p>There is more to working out some kind of save state system for a game, or some kind of game framework. As there is not just simply saving a state to local storage and being done with it. Do not get me wrong move often than not that will work fine, except for when it will not work fine. There is not just using local storage then, but giving a player more than one option for saving a state to the local file system of there computer. I will not be getting into every little detail here when it comes to those sorts of things, but this is still some code that is one of my starting points for making this kind of system for a game.</p>
<p>Although this example is not so much on making use of additional ways of saving data client side, it is however an example that touches base on some additional topics that come up when it comes to making a save state system. Mainly the topic of how to go about coming up with some kind of format for the save state data, when you are working on a game that is not done yet, and you do not know what more you might want to add to the save state data.</p>
<h3 id="3-1-Striped-down-game-js-module-with-save-state-code"><a href="#3-1-Striped-down-game-js-module-with-save-state-code" class="headerlink" title="3.1 - Striped down game.js module with save state code"></a>3.1 - Striped down game.js module with save state code</h3><p>Here is a striped down version of the game module for cross hairs that just contains the code that is used to process a save state string. On top of that there is just a method to create a game object. So then I have an object in my game model that contains hard coded default settings, after that I have an array of save string versions that are what the deal is when it comes to the various formates for a game save.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> gameMod = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line"> </div><div class="line">    <span class="comment">// hard coded settings</span></div><div class="line">    <span class="keyword">var</span> hardSet = &#123;</div><div class="line">        <span class="comment">// max seconds for sec value used in updates</span></div><div class="line">        maxSecs: <span class="number">0.25</span>,</div><div class="line">        <span class="comment">// deltaNext and levelCap for main game.levelObj</span></div><div class="line">        deltaNext: <span class="number">5000</span>,</div><div class="line">        <span class="attr">levelCap</span>: <span class="number">1000</span>,</div><div class="line">        <span class="comment">// save string</span></div><div class="line">        saveStringVer: <span class="string">'v1'</span></div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="keyword">var</span> api = &#123;&#125;;</div><div class="line"> </div><div class="line">    <span class="comment">// SAVE STATES</span></div><div class="line"> </div><div class="line">    <span class="comment">// create a save string from a game object</span></div><div class="line">    <span class="keyword">var</span> saveStringVersions = &#123;</div><div class="line">        <span class="attr">v0</span>: [<span class="string">'damage'</span>],</div><div class="line">        <span class="attr">v1</span>: [<span class="string">'damage'</span>, <span class="string">'mapIndex'</span>, <span class="string">'skillPoints'</span>]</div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">var</span> saveStringParts = &#123;</div><div class="line">        <span class="attr">damage</span>: &#123;</div><div class="line">            <span class="attr">encode</span>: <span class="function"><span class="keyword">function</span> (<span class="params">game</span>) </span>&#123;</div><div class="line">                <span class="keyword">var</span> damage = <span class="built_in">Math</span>.floor(<span class="built_in">Number</span>(game.totalDamage));</div><div class="line">                <span class="keyword">return</span> damage.toString(<span class="number">36</span>);</div><div class="line">            &#125;,</div><div class="line">            <span class="attr">apply</span>: <span class="function"><span class="keyword">function</span> (<span class="params">game, partString</span>) </span>&#123;</div><div class="line">                <span class="keyword">var</span> damage = <span class="built_in">parseInt</span>(partString, <span class="number">36</span>);</div><div class="line">                <span class="keyword">if</span> (damage &gt; <span class="number">0</span>) &#123;</div><div class="line">                    game.totalDamage = damage;</div><div class="line">                    <span class="built_in">console</span>.log(<span class="string">'applying damage: '</span> + game.totalDamage);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">mapIndex</span>: &#123;</div><div class="line">            <span class="attr">encode</span>: <span class="function"><span class="keyword">function</span> (<span class="params">game</span>) </span>&#123;</div><div class="line">                <span class="keyword">return</span> <span class="built_in">Number</span>(game.mapLevelObj.level).toString(<span class="number">36</span>);</div><div class="line">            &#125;,</div><div class="line">            <span class="attr">apply</span>: <span class="function"><span class="keyword">function</span> (<span class="params">game, partString</span>) </span>&#123;</div><div class="line">                <span class="comment">// apply nothing for map level for now</span></div><div class="line">            &#125;</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">skillPoints</span>: &#123;</div><div class="line">            <span class="attr">encode</span>: <span class="function"><span class="keyword">function</span> (<span class="params">game</span>) </span>&#123;</div><div class="line">                <span class="keyword">var</span> str = <span class="string">''</span>;</div><div class="line">                <span class="comment">// skill points</span></div><div class="line">                <span class="built_in">Object</span>.keys(game.skills).forEach(<span class="function"><span class="keyword">function</span> (<span class="params">skillKey</span>) </span>&#123;</div><div class="line">                    str += game.skills[skillKey].points.toString(<span class="number">36</span>) + <span class="string">'-'</span>;</div><div class="line">                &#125;);</div><div class="line">                <span class="keyword">return</span> str;</div><div class="line">            &#125;,</div><div class="line">            <span class="attr">apply</span>: <span class="function"><span class="keyword">function</span> (<span class="params">game, partString</span>) </span>&#123;</div><div class="line">                <span class="keyword">if</span> (partString) &#123;</div><div class="line">                    <span class="keyword">var</span> match = partString.match(<span class="regexp">/\w+/g</span>);</div><div class="line">                    <span class="keyword">if</span> (match) &#123;</div><div class="line">                        <span class="built_in">console</span>.log(<span class="string">'applying skill point string:'</span>);</div><div class="line">                        <span class="built_in">console</span>.log(partString);</div><div class="line">                        match.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">sp, i</span>) </span>&#123;</div><div class="line">                            game.skills[<span class="string">'weapon_'</span> + i].points = <span class="built_in">Number</span>(<span class="built_in">parseInt</span>(sp, <span class="number">36</span>));</div><div class="line">                        &#125;);</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;,</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// create a save string from the given game object</span></div><div class="line">    api.createSaveString = <span class="function"><span class="keyword">function</span> (<span class="params">game, ver</span>) </span>&#123;</div><div class="line">        ver = ver || hardSet.saveStringVer;</div><div class="line">        <span class="keyword">var</span> str = <span class="string">''</span>;</div><div class="line">        saveStringVersions[ver].forEach(<span class="function"><span class="keyword">function</span> (<span class="params">partKey</span>) </span>&#123;</div><div class="line">            str += saveStringParts[partKey].encode(game) + <span class="string">'.'</span>;</div><div class="line">        &#125;);</div><div class="line">        <span class="keyword">return</span> ver + <span class="string">'.'</span> + str;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// apply a save string to the given game object</span></div><div class="line">    api.applySaveString = <span class="function"><span class="keyword">function</span> (<span class="params">game, saveStr</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> parts = saveStr.split(<span class="string">'.'</span>).map(<span class="function"><span class="keyword">function</span> (<span class="params">part</span>) </span>&#123;</div><div class="line">                <span class="keyword">return</span> part.replace(<span class="regexp">/\;/</span>, <span class="string">''</span>);</div><div class="line">            &#125;);</div><div class="line">        <span class="keyword">var</span> ver = parts[<span class="number">0</span>];</div><div class="line">        saveStringVersions[ver].forEach(<span class="function"><span class="keyword">function</span> (<span class="params">partKey, i</span>) </span>&#123;</div><div class="line">            saveStringParts[partKey].apply(game, parts[<span class="number">1</span> + i])</div><div class="line">        &#125;);</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    api.create = <span class="function"><span class="keyword">function</span> (<span class="params">opt</span>) </span>&#123;</div><div class="line">        opt = opt || &#123;&#125;;</div><div class="line">        <span class="keyword">var</span> game = &#123;</div><div class="line">            <span class="attr">mapLevelObj</span>: &#123;</div><div class="line">                <span class="attr">level</span>: <span class="number">1</span></div><div class="line">            &#125;,</div><div class="line">            <span class="attr">totalDamage</span>: opt.damage || <span class="number">0</span>,</div><div class="line">            <span class="attr">maIndex</span>: opt.mapIndex || <span class="number">0</span>,</div><div class="line">            <span class="attr">skills</span>: opt.skills || &#123;</div><div class="line">                <span class="attr">weapon_0</span>: &#123;</div><div class="line">                    <span class="attr">points</span>: <span class="number">0</span></div><div class="line">                &#125;,</div><div class="line">                <span class="attr">weapon_1</span>: &#123;</div><div class="line">                    <span class="attr">points</span>: <span class="number">0</span></div><div class="line">                &#125;,</div><div class="line">                <span class="attr">weapon_2</span>: &#123;</div><div class="line">                    <span class="attr">points</span>: <span class="number">0</span></div><div class="line">                &#125;,</div><div class="line">                <span class="attr">weapon_3</span>: &#123;</div><div class="line">                    <span class="attr">points</span>: <span class="number">0</span></div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;;</div><div class="line">        <span class="keyword">return</span> game;</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="keyword">return</span> api;</div><div class="line"> </div><div class="line">&#125;</div><div class="line">    ());</div></pre></td></tr></table></figure>
<h3 id="3-2-basic-save-state-tool-that-can-edit-damage"><a href="#3-2-basic-save-state-tool-that-can-edit-damage" class="headerlink" title="3.2 - basic save state tool that can edit damage"></a>3.2 - basic save state tool that can edit damage</h3><p>Now to create a simple tool that I can use to edit the save state of a game. So far this tool just edits the damage of a save state that should be there to begin with, but in time I might put more work into this one if I keep working on the cross hairs example.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div></pre></td><td class="code"><pre><div class="line"> <span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">title</span>&gt;</span> web storage <span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"> <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span> = <span class="string">"xp.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">     <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span> = <span class="string">"game.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    total damage:  <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"input_total_damage"</span> <span class="attr">type</span>=<span class="string">"text"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line">    save string: <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">id</span>=<span class="string">"input_save_string"</span> <span class="attr">cols</span>=<span class="string">"30"</span> <span class="attr">rows</span>=<span class="string">"10"</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"input_save"</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"save"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line">     <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"> </div><div class="line"><span class="comment">// save a game object at slot of gameName</span></div><div class="line"><span class="keyword">var</span> saveStateString = <span class="function"><span class="keyword">function</span> (<span class="params">str, saveSlot, gameName</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (!str || <span class="keyword">typeof</span> str != <span class="string">'string'</span>) &#123;</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    saveSlot = saveSlot === <span class="literal">undefined</span> ? <span class="number">0</span> : saveSlot;</div><div class="line">    gameName = gameName || <span class="string">'game-crosshairs-save-'</span>;</div><div class="line">    <span class="comment">//var str = gameMod.createSaveString(game);</span></div><div class="line">    localStorage.setItem(gameName + saveSlot, str);</div><div class="line">&#125;;</div><div class="line"><span class="comment">// load a save string slot of gameName and return a gameObject</span></div><div class="line"><span class="keyword">var</span> loadState = <span class="function"><span class="keyword">function</span> (<span class="params">saveSlot, gameName</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> str = localStorage.getItem(gameName + saveSlot);</div><div class="line">    <span class="keyword">if</span> (str) &#123;</div><div class="line">        <span class="keyword">var</span> game = gameMod.create();</div><div class="line">        gameMod.applySaveString(game, str);</div><div class="line">        <span class="keyword">return</span> game;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="keyword">var</span> game = loadState(<span class="string">'0'</span>, <span class="string">'game-crosshairs-save-'</span>),</div><div class="line">input_total_damage = <span class="built_in">document</span>.getElementById(<span class="string">'input_total_damage'</span>)</div><div class="line">input_save_string = <span class="built_in">document</span>.getElementById(<span class="string">'input_save_string'</span>);</div><div class="line"> </div><div class="line">input_total_damage.addEventListener(<span class="string">'change'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (game) &#123;</div><div class="line">        game.totalDamage = e.target.value;</div><div class="line">        <span class="keyword">var</span> str = gameMod.createSaveString(game);</div><div class="line">        input_save_string.value = str;</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"> </div><div class="line">input_save_string.addEventListener(<span class="string">'change'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">    gameMod.applySaveString(game, e.target.value);</div><div class="line">    input_total_damage.value = game.totalDamage;</div><div class="line">&#125;);</div><div class="line">input_save.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> str = gameMod.createSaveString(game);</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'save string: '</span> + str);</div><div class="line">    saveStateString(str, <span class="string">'0'</span>, <span class="string">'game-crosshairs-save-'</span>);</div><div class="line">&#125;)</div><div class="line"> </div><div class="line"><span class="keyword">if</span> (game) &#123;</div><div class="line">    input_total_damage.value = game.totalDamage;</div><div class="line">    <span class="keyword">var</span> str = gameMod.createSaveString(game);</div><div class="line">    input_save_string.value = str;</div><div class="line">&#125;</div><div class="line"> </div><div class="line"> <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"> <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="4-Conclusion"><a href="#4-Conclusion" class="headerlink" title="4 - Conclusion"></a>4 - Conclusion</h2><p>So there are a number of other options when it comes to finding a way to store some data for a user in a web application. Of course there is having a database sever side for example as a way of saving data for a user by posting data to it by way of scripting http. However with many of the applications that I have made thus far I do not care to get into that sort of thing if it is the kind of project where I can avoid doing so. With that said when it comes to just some simple game, or application in which there is no sever of web servers to push data back to, then client side storage must be the way to go about doing so.</p>
<p>Another option for saving and loading some data client side would be using the <a href="/2020/03/24/js-filereader/">File Reader Constructor</a>. This is a way to prop the user to save a file wherever they want on there local system, and it also allows for them to find a file and open it up as a way to load a state also. This is yet another option on top of something like a password system that is like many old Nintendo games where it is not just a password buy also a state that can be copied and pasted.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dustinpfister.github.io/2019/08/20/js-web-storage/" data-id="cl6gvnzxl011hr8v1x5s7tq4h" class="article-share-link">Share</a>
      
        <a href="https://dustinpfister.github.io/2019/08/20/js-web-storage/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/08/21/canvas-example-space-shooter/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          A Canvas Example that is a basic Space Shooter game
        
      </div>
    </a>
  
  
    <a href="/2019/08/19/lodash_omit/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">lodash omit method for omitting properties from an object</div>
    </a>
  
</nav>

  
</article>



<section id="comments">

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://dustinpfister.github.io/2019/08/20/js-web-storage/index.html';
    this.page.identifier = '526';
    this.page.title = 'Web Storage api in client side javaScript';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://dustinpfister-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular/">angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/api/">api</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/backbone/">backbone</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/discovery/">discovery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/electronjs/">electronjs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/games/">games</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/grunt/">grunt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hapi/">hapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/heroku/">heroku</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jquery/">jquery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lodash/">lodash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node-js/">node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/phaser/">phaser</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/statistics/">statistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/three-js/">three.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backbone/">backbone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/corejs/">corejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deterministic/">deterministic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discovery/">discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejs/">ejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/electronjs/">electronjs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hapi/">hapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jimp/">jimp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js13k/">js13k</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/structured-data/">structured-data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/themes/">themes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three-js/">three.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JSON/" style="font-size: 12.5px;">JSON</a> <a href="/tags/SEO/" style="font-size: 10.5px;">SEO</a> <a href="/tags/angular/" style="font-size: 13.5px;">angular</a> <a href="/tags/animation/" style="font-size: 12px;">animation</a> <a href="/tags/automation/" style="font-size: 12px;">automation</a> <a href="/tags/backbone/" style="font-size: 12.5px;">backbone</a> <a href="/tags/blog/" style="font-size: 15px;">blog</a> <a href="/tags/canvas/" style="font-size: 18.5px;">canvas</a> <a href="/tags/corejs/" style="font-size: 13px;">corejs</a> <a href="/tags/deterministic/" style="font-size: 10px;">deterministic</a> <a href="/tags/discovery/" style="font-size: 11px;">discovery</a> <a href="/tags/ejs/" style="font-size: 11.5px;">ejs</a> <a href="/tags/electronjs/" style="font-size: 13px;">electronjs</a> <a href="/tags/express/" style="font-size: 16.5px;">express</a> <a href="/tags/games/" style="font-size: 17px;">games</a> <a href="/tags/git/" style="font-size: 13px;">git</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hapi/" style="font-size: 15px;">hapi</a> <a href="/tags/heroku/" style="font-size: 12px;">heroku</a> <a href="/tags/hexo/" style="font-size: 14.5px;">hexo</a> <a href="/tags/jimp/" style="font-size: 10.5px;">jimp</a> <a href="/tags/jquery/" style="font-size: 11.5px;">jquery</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/js13k/" style="font-size: 10px;">js13k</a> <a href="/tags/linux/" style="font-size: 17.5px;">linux</a> <a href="/tags/lodash/" style="font-size: 18.5px;">lodash</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mongodb/" style="font-size: 14.5px;">mongodb</a> <a href="/tags/node-js/" style="font-size: 19.5px;">node.js</a> <a href="/tags/phaser/" style="font-size: 18px;">phaser</a> <a href="/tags/python/" style="font-size: 15.5px;">python</a> <a href="/tags/statistics/" style="font-size: 14px;">statistics</a> <a href="/tags/structured-data/" style="font-size: 10px;">structured-data</a> <a href="/tags/themes/" style="font-size: 10px;">themes</a> <a href="/tags/three-js/" style="font-size: 19px;">three.js</a> <a href="/tags/vuejs/" style="font-size: 16px;">vuejs</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/08/05/threejs-examples-camera-kit/">Camera Kit module threejs example</a>
          </li>
        
          <li>
            <a href="/2022/07/29/threejs-examples-aplerp/">An advanced Lerping module threejs example</a>
          </li>
        
          <li>
            <a href="/2022/07/22/threejs-capsule-geometry/">Capsule geometry in threejs</a>
          </li>
        
          <li>
            <a href="/2022/07/15/threejs-examples-object-grid-wrap-land/">THREEJS Looping land animation using the Object grid wrap module</a>
          </li>
        
          <li>
            <a href="/2022/07/08/threejs-examples-weird-face-one/">Weird face one threejs example</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 Dustin Pfister<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      <br>
      <a href="/privacy.html" target="_blank">Privacy Policy</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/2021/02/19/threejs-examples/" class="mobile-nav-link">ThreeJS-Examples</a>
  
    <a href="/2020/03/23/canvas-example/" class="mobile-nav-link">Canvas-Examples</a>
  
    <a href="https://github.com/dustinpfister" class="mobile-nav-link">Github</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'dustinpfister-github-io';
  
  var disqus_url = 'https://dustinpfister.github.io/2019/08/20/js-web-storage/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


  </div>
</body>
</html>