<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <!-- disqus image-->
  <meta property="og:image" content="https://dustinpfister.github.io/css/images/banner_2023.png">
  
  <title>Using the curve class to create geometry in threejs | Dustin John Pfister at github pages</title>
  
  <!-- no index tag or blank here -->
  
  
  <link rel="canonical" href="https://dustinpfister.github.io/2022/12/16/threejs-curve-geometry-from/" />

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="The Curve class is the base class for several core threejs Classes to create a Curve in space. There is then a Cuve class prototype method called the get point method that can then be used to get any">
<meta property="og:type" content="article">
<meta property="og:title" content="Using the curve class to create geometry in threejs">
<meta property="og:url" content="https://dustinpfister.github.io/2022/12/16/threejs-curve-geometry-from/index.html">
<meta property="og:site_name" content="Dustin John Pfister at github pages">
<meta property="og:description" content="The Curve class is the base class for several core threejs Classes to create a Curve in space. There is then a Cuve class prototype method called the get point method that can then be used to get any">
<meta property="og:updated_time" content="2023-05-25T18:56:22.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Using the curve class to create geometry in threejs">
<meta name="twitter:description" content="The Curve class is the base class for several core threejs Classes to create a Curve in space. There is then a Cuve class prototype method called the get point method that can then be used to get any">
  
    <link rel="alternate" href="/atom.xml" title="Dustin John Pfister at github pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <!-- Google Analytics -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y8XLNG6JRW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Y8XLNG6JRW');
</script>
<!-- End Google Analytics -->


  <!-- structured data set in structured-data.ejs -->
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "email": "distin.pfister@gmail.com",
    "givenName": "Dustin",
    "familyName" : "Pfister",
    "additionalName": "John",
    "name": "Dustin John Pfister",
    "gender": "Male"
}
</script>
<!-- end structured data -->
  
  <!-- adsense if indexed -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1658284027672315",
    enable_page_level_ads: true
  });
  </script>
  
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <!-- added the image, as well as the link to my youtube -->
        <a href="https://www.youtube.com/user/javaweaver"><div class="selfimage"></div></a>
        <!--<a href="/" id="logo">Dustin John Pfister at github pages</a>-->
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/2021/02/19/threejs-examples/">ThreeJS</a>
        
          <a class="main-nav-link" href="/2020/03/23/canvas-example/">Canvas</a>
        
          <a class="main-nav-link" href="https://www.youtube.com/user/javaweaver">Youtube</a>
        
          <a class="main-nav-link" href="https://github.com/dustinpfister">Github</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <!-- removed rss link-->
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dustinpfister.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article itemscope itemtype="http://schema.org/Blog" id="post-threejs-curve-geometry-from" class="article article-type-post" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/12/16/threejs-curve-geometry-from/" class="article-date"> Published:
  <time datetime="2022-12-16T16:09:00.000Z" itemprop="datePublished">2022-12-16</time>
</a>

    <!-- other info (dustin) -->
    <a href="/2022/12/16/threejs-curve-geometry-from/" class="article-date"> Modified:
  <time datetime="2023-05-25T18:56:22.000Z" itemprop="dateModified">2023-05-25</time>
</a>

    <span class="article-date">V1.15</span>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/three-js/">three.js</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Using the curve class to create geometry in threejs
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="text">
      
        <p>The <a href="https://threejs.org/docs/#api/en/extras/core/Curve" target="_blank" rel="external">Curve class</a> is the base class for several core threejs Classes to create a Curve in space. There is then a Cuve class prototype method called the get point method that can then be used to get any point along a curve in the form of a Vector3 object, or Vector2 object for 2d curves, by passing a zero to one value as an argument. For the most part thus far I have been using curves as a way to define paths than can then be used to set the position of object3d objects over time such as mesh objects, and cameras. I have also been using curves to get vector3 objects that can then be passed to the look at method to set the rotation for objects also. However I have not yet got into using curves as a way to define the position attributes of custom buffer geometry objects which is what this post will focus on.</p>
<p>There are both easy, and not so easy ways of making a gometry from a curve. When it comes to 2D curves there is creating a shape object, and a Shape or Extrude geometry can be made from that. There are also ways of making a 3d shape from a 2d curve by using the Lathe Geometry class. However there is also of course 3D curves as well and using them to help in the process of creating a cusotm geomerty from the ground up.</p>
<a id="more"></a>
<iframe class="youtube_video" src="https://www.youtube.com/embed/3hjdmMP-N3I" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>


<h2 id="Making-Custom-geometry-from-Curves-and-what-to-know-first"><a href="#Making-Custom-geometry-from-Curves-and-what-to-know-first" class="headerlink" title="Making Custom geometry from Curves and what to know first"></a>Making Custom geometry from Curves and what to know first</h2><p>In this post I am writing about source code examples that have to do with creating custom buffer geometry by making use of curve objects to define paths in 3d space that are then used as a way to create the position attribute of a buffer geometry class instance in the JavaScript library known as threejs. After saying that it should go without saying that this is a post for people that have at least a fair amount of experience working with threejs, and client side JavaScript in general. If you are still fairly new to threejs and JavaScript I have wrote, and regularly edit getting started type posts on both <a href="/2018/04/04/threejs-getting-started/">threejs</a> and <a href="/2018/11/27/js-getting-started/">JavaScript</a>. So I will not be getting into detail about the basics that you should know about before hand here. However I do still like to use these opening sections of posts to write about a thing or two that you might want to read up more on regardless of experience level.</p>
<h3 id="Check-out-my-other-posts-on-Curves"><a href="#Check-out-my-other-posts-on-Curves" class="headerlink" title="Check out my other posts on Curves"></a>Check out my other posts on Curves</h3><p>There is a lot to be aware of when it comes to curves in threejs, so it might be a good idea to check out <a href="/2022/06/17/threejs-curve/">my main post on curves in general</a>. There is taking the time to write a custom curve class of need be, and maybe there are some situations in which that will just need to be  done. However I have found that for the most part I can do jjst about everything that I want to do with curves by just using the built in <a href="/2022/10/21/threejs-curve-quadratic-bezier-curve3/">Quadratic Bezier Curves class</a>, which is what I will be using in this post.</p>
<h3 id="I-have-a-lot-of-other-posts-on-buffer-geometry"><a href="#I-have-a-lot-of-other-posts-on-buffer-geometry" class="headerlink" title="I have a lot of other posts on buffer geometry"></a>I have a lot of other posts on buffer geometry</h3><p>There is not just stopping here when it comes to learning the basics and beyond when it comes to creating and updating geometry over time in threejs. I have my <a href="/2021/04/22/threejs-buffer-geometry/">main post on buffer geometry in general</a>, and the main starting point when it comes to learn a thing or two about making custom geometry would be to start with the <a href="/2021/06/07/threejs-buffer-geometry-attributes-position/">position attribute</a>. There is starting out by just making a blank geometry, creating a non indexed position attribute, and then using that with THREE.Points, or THREE.Line.</p>
<h3 id="Source-code-is-up-on-Github"><a href="#Source-code-is-up-on-Github" class="headerlink" title="Source code is up on Github"></a>Source code is up on Github</h3><p>The source code examples that I am writing about in this post can be found up on my Github at my <a href="https://github.com/dustinpfister/test_threejs/tree/master/views/forpost/threejs-curve-geometry-from" target="_blank" rel="external">test threejs repository</a>. This is also where I part all my other source code examples for my <a href="/categories/three-js/">many other blog posts</a> that I have wrote on threejs over the years.</p>
<h3 id="Version-numbers-matter"><a href="#Version-numbers-matter" class="headerlink" title="Version numbers matter"></a>Version numbers matter</h3><p>When I first wrote this blog post I was using r146 of threejs. Code breaking changes are still made to the core of threejs all the time. I do what I can when it cokes to editing my threejs content to keep it current, but I have wrote a lot of posts and it might be a long time until I come around to this post again.</p>
<h2 id="1-Basic-examples-of-making-Buffer-Geometry-with-Curves"><a href="#1-Basic-examples-of-making-Buffer-Geometry-with-Curves" class="headerlink" title="1 - Basic examples of making Buffer Geometry with Curves"></a>1 - Basic examples of making Buffer Geometry with Curves</h2><p>There is starting out by making one or more curves and then just finding a way, any way at all to make a position attribute for a buffer geometry. When first starting out there is just having the position attribute alone, that might not work well with Mesh objects, but be good enough for Point or Line objects. So in this section I will be going over a few examples that just have to do with doing just this by making use of any and all Curve and Buffer Geometry class features to do so. I will then leave the more advanced examples that have to do with making a full geometry that will work with mesh objects for later, more advanced sections of this post.</p>
<h3 id="1-1-The-Curve-getPoints-and-BufferGeometry-setFromPoints-methods"><a href="#1-1-The-Curve-getPoints-and-BufferGeometry-setFromPoints-methods" class="headerlink" title="1.1 - The Curve.getPoints and BufferGeometry.setFromPoints methods"></a>1.1 - The Curve.getPoints and BufferGeometry.setFromPoints methods</h3><p>There is a get points method pf the curve class that when called will return an array of Vector3 objects along the path of the curve. The count of the number of points will differ depending on an argument that is given when calling the get points method. This is not to be confused with the get point method that will return just one Vector3 object by way of a given 0 to 1 value. I would generally prefer the get point method over the get points method as it allows for more flexibility. However when it comes to making a fairly simple hello world typo example of making geometry with curves this would be a good place to start.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">scene.background = <span class="keyword">new</span> THREE.Color(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>);</div><div class="line">scene.add( <span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>) );</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">640</span> / <span class="number">480</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line">camera.position.set(<span class="number">6.5</span>, <span class="number">6.5</span>, <span class="number">6.5</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">-3.25</span>, <span class="number">0</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">( <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body ).appendChild(renderer.domElement);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// HELPERS</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> geoFromCurve = <span class="function">(<span class="params">curve, detail</span>) =&gt;</span> &#123;</div><div class="line">    detail = detail === <span class="literal">undefined</span> ? <span class="number">100</span>: detail;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> THREE.BufferGeometry().setFromPoints( curve.getPoints(detail) );</div><div class="line">&#125;;</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// CURVES</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> c1_start = <span class="keyword">new</span> THREE.Vector3(<span class="number">-5</span>,<span class="number">0</span>,<span class="number">5</span>), </div><div class="line">c1_control = <span class="keyword">new</span> THREE.Vector3(<span class="number">0</span>, <span class="number">5</span>, <span class="number">0</span>), </div><div class="line">c1_end = <span class="keyword">new</span> THREE.Vector3(<span class="number">5</span>,<span class="number">0</span>,<span class="number">5</span>),</div><div class="line">c2_start = <span class="keyword">new</span> THREE.Vector3(<span class="number">-5</span>,<span class="number">0</span>,<span class="number">-5</span>), </div><div class="line">c2_control = <span class="keyword">new</span> THREE.Vector3(<span class="number">0</span>, <span class="number">-5</span>, <span class="number">0</span>), </div><div class="line">c2_end = <span class="keyword">new</span> THREE.Vector3(<span class="number">5</span>,<span class="number">0</span>,<span class="number">-5</span>);</div><div class="line"><span class="keyword">const</span> curve1 = <span class="keyword">new</span> THREE.QuadraticBezierCurve3(c1_start, c1_control, c1_end);</div><div class="line"><span class="keyword">const</span> curve2 = <span class="keyword">new</span> THREE.QuadraticBezierCurve3(c2_start, c2_control, c2_end);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// LINES</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> material_line = <span class="keyword">new</span> THREE.LineBasicMaterial(&#123; <span class="attr">linewidth</span>: <span class="number">8</span>, <span class="attr">color</span>: <span class="number">0x00ff00</span>&#125;);</div><div class="line"><span class="keyword">const</span> line1 = <span class="keyword">new</span> THREE.Line( geoFromCurve(curve1, <span class="number">50</span>), material_line );</div><div class="line">scene.add(line1);</div><div class="line"><span class="keyword">const</span> line2 = <span class="keyword">new</span> THREE.Line( geoFromCurve(curve2, <span class="number">50</span>), material_line );</div><div class="line">scene.add(line2);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// RENDER</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line">renderer.render(scene, camera);</div></pre></td></tr></table></figure>
<h3 id="1-2-The-Curve-getPoint-and-the-BufferGeometry-setAttribite-methods"><a href="#1-2-The-Curve-getPoint-and-the-BufferGeometry-setAttribite-methods" class="headerlink" title="1.2 - The Curve.getPoint, and the BufferGeometry.setAttribite methods"></a>1.2 - The Curve.getPoint, and the BufferGeometry.setAttribite methods</h3><p>Although the get points method of th Curve class, and the set from points method of the buffer geometry class are nice tools there are not the end all solutions for this sort of thing. In fact when it comes to really getting into how to go about making geometry this way the get point method is what I would want to use to have a better degree of control when it comes to creating an array of vector3 objects, or better yet an array of numbers that I can then use to directly create a position attribute. Speaking of doing so in place of using the set from points method in this example I will be using the set attribute method and create an buffer attribute that will be passed to it that is create with an array of data that is the position data created from, you guessed it a curve.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">scene.background = <span class="keyword">new</span> THREE.Color(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>);</div><div class="line">scene.add( <span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>) );</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">640</span> / <span class="number">480</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line">camera.position.set(<span class="number">7</span>, <span class="number">7</span>, <span class="number">7</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">-3</span>, <span class="number">0</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">( <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body ).appendChild(renderer.domElement);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// CURVES</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> c1_start = <span class="keyword">new</span> THREE.Vector3(<span class="number">-5</span>,<span class="number">0</span>,<span class="number">-5</span>), </div><div class="line">c1_control = <span class="keyword">new</span> THREE.Vector3(<span class="number">0</span>, <span class="number">0</span>, <span class="number">15</span>), </div><div class="line">c1_end = <span class="keyword">new</span> THREE.Vector3(<span class="number">5</span>, <span class="number">0</span>, <span class="number">-5</span>);</div><div class="line"><span class="keyword">const</span> curve1 = <span class="keyword">new</span> THREE.QuadraticBezierCurve3(c1_start, c1_control, c1_end);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// GEO</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> geo = <span class="keyword">new</span> THREE.BufferGeometry();</div><div class="line"><span class="keyword">const</span> data_pos = [];</div><div class="line"><span class="keyword">let</span> i = <span class="number">0</span>, len = <span class="number">100</span>;</div><div class="line"><span class="keyword">while</span>(i &lt; len)&#123;</div><div class="line">    <span class="keyword">const</span> a1 = i / (len - <span class="number">1</span>);</div><div class="line">    <span class="keyword">const</span> v = curve1.getPoint(a1);</div><div class="line">    data_pos.push(v.x, v.y, v.z);</div><div class="line">    i += <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line">geo.setAttribute(<span class="string">'position'</span>, <span class="keyword">new</span> THREE.Float32BufferAttribute( data_pos, <span class="number">3</span>) );</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// LINE</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> material_line = <span class="keyword">new</span> THREE.LineBasicMaterial(&#123; <span class="attr">linewidth</span>: <span class="number">8</span>, <span class="attr">color</span>: <span class="number">0xff0000</span>&#125;);</div><div class="line"><span class="keyword">const</span> line1 = <span class="keyword">new</span> THREE.Line( geo, material_line );</div><div class="line">scene.add(line1);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// RENDER</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line">renderer.render(scene, camera);</div></pre></td></tr></table></figure>
<h2 id="2-Creating-geometry-from-2D-Curves"><a href="#2-Creating-geometry-from-2D-Curves" class="headerlink" title="2 - Creating geometry from 2D Curves"></a>2 - Creating geometry from 2D Curves</h2><p>There are a wide range of options for making a geometry from a 2D path actually. For one thing when it comes to THREE.Points, and THREE.Lines there is just using the setFromPoints method of the Buffer geometry to do so. However there is also creating a THREE.Shape object and then using that with THREE.ShapeGeometry or THREE.ExtrudeGeometry. Yet another option would be to make use of THREE.LatheGeometry which is one way to go about making a 3D geometry from a 2D Curve. So in this section I would like to touch base on some of these options when it comes making a geometry with 2D curves.</p>
<h3 id="2-1-Geometry-from-2D-Curves-Using-THREE-Shape-and-THREE-ShapeGeometry"><a href="#2-1-Geometry-from-2D-Curves-Using-THREE-Shape-and-THREE-ShapeGeometry" class="headerlink" title="2.1 - Geometry from 2D Curves Using THREE.Shape, and THREE.ShapeGeometry"></a>2.1 - Geometry from 2D Curves Using THREE.Shape, and THREE.ShapeGeometry</h3><p>There is using a 2D curve to create a Shape, after which that Shape can be used to create a geometry with THREE.ShapeGeometry.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">32</span> / <span class="number">24</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">(<span class="built_in">document</span>.querySelector(<span class="string">'#demo'</span>) || <span class="built_in">document</span>.body).appendChild(renderer.domElement);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// CURVE</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> v_start = <span class="keyword">new</span> THREE.Vector2(<span class="number">0</span>, <span class="number">-3</span>);</div><div class="line"><span class="keyword">const</span> v_end = <span class="keyword">new</span> THREE.Vector2(<span class="number">0</span>, <span class="number">3</span>);</div><div class="line"><span class="keyword">const</span> v_control = v_start.clone().lerp(v_end, <span class="number">0.5</span>).add( <span class="keyword">new</span> THREE.Vector2(<span class="number">5</span>, <span class="number">3</span>) );</div><div class="line"><span class="keyword">const</span> curve = <span class="keyword">new</span> THREE.QuadraticBezierCurve(v_start, v_control, v_end);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// SHAPE/GEOMETRY</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> v2array = curve.getPoints(<span class="number">50</span>);</div><div class="line"><span class="keyword">const</span> shape = <span class="keyword">new</span> THREE.Shape( v2array  );</div><div class="line"><span class="keyword">const</span> geometry = <span class="keyword">new</span> THREE.ShapeGeometry(shape);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// SCENE CHILD OBJECTS</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> mesh1 = <span class="keyword">new</span> THREE.Mesh(geometry, <span class="keyword">new</span> THREE.MeshNormalMaterial(&#123;  <span class="attr">side</span>: THREE.DoubleSide &#125;));</div><div class="line">scene.add(mesh1);</div><div class="line">scene.add( <span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>) );</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// RENDER</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line">camera.position.set(<span class="number">0</span>, <span class="number">5</span>, <span class="number">10</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">renderer.render(scene, camera);</div></pre></td></tr></table></figure>
<h2 id="3-Making-a-full-Mesh-Object-Friendly-custom-geometry-with-curves"><a href="#3-Making-a-full-Mesh-Object-Friendly-custom-geometry-with-curves" class="headerlink" title="3 - Making a full Mesh Object Friendly custom geometry with curves"></a>3 - Making a full Mesh Object Friendly custom geometry with curves</h2><p>Now that I have some of the basics out of the way with this sort of thing I think that it is now time to have at least one if not more examples In which I make a full Mesh object friendly custom geometry using Curves to create the position attributes. There is a lot to be aware of when it comes to this sort of thing, so I will not be getting into detail with the various types of attributes of buffer geometry so forth. </p>
<h3 id="3-1-Full-Custom-Geometry-made-with-two-QuadraticBezierCurve3-curve-objects"><a href="#3-1-Full-Custom-Geometry-made-with-two-QuadraticBezierCurve3-curve-objects" class="headerlink" title="3.1 - Full Custom Geometry made with two QuadraticBezierCurve3 curve objects"></a>3.1 - Full Custom Geometry made with two QuadraticBezierCurve3 curve objects</h3><p>For this example I am using the Quadratic Bezier Curve class in core threejs to create two curve objects both of which have start, end, and control points to create an update a buffer geometry. The goal here then is to first create the state of the position attribute by pushing in x,y, and z values for points along the curves, and to do so in a way in which the points stagger from one curve to the other. There is the order in which the points that are added that is important, however maybe what is really important is the state of the index that I will be making for this geometry as well as this will be an index geometry that I am making here.</p>
<p>While I am creating the array of numbers of the position attribute I am also pushing in values for another array that I will be using for the uv attribute while I am at it. Once I have my position and uv arrays of numbers set up just the way I want it to be I can then use them to set the attributes for the position an uv attributes of the buffer geometry.</p>
<p>I then create an index for my position attribute and just pass the array of index values to the set index method to get that working. After that the last major mush have attribute for the geometry to get it to work well with mesh is to create a normal attribute. In some cases I will have to do this by way of some JavaScript code. However for this kind of geometry just simply calling the compute vertex normal method works just fine to get this attribute created and in a good workable state.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">scene.background = <span class="keyword">new</span> THREE.Color(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>);</div><div class="line"><span class="comment">//scene.add( new THREE.GridHelper(10, 10) );</span></div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">640</span> / <span class="number">480</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line">camera.position.set(<span class="number">5</span>, <span class="number">9</span>, <span class="number">-9</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">-1.75</span>, <span class="number">0</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">( <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body ).appendChild(renderer.domElement);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// LIGHT</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> dl = <span class="keyword">new</span> THREE.DirectionalLight(<span class="number">0xffffff</span>, <span class="number">1</span>);</div><div class="line">dl.position.set(<span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>);</div><div class="line">scene.add(dl);</div><div class="line"><span class="keyword">const</span> dl2 = <span class="keyword">new</span> THREE.DirectionalLight(<span class="number">0xffffff</span>, <span class="number">1</span>);</div><div class="line">dl2.position.set(<span class="number">2</span>, <span class="number">-1</span>, <span class="number">0</span>);</div><div class="line">scene.add(dl2);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// CURVES</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> c1_start = <span class="keyword">new</span> THREE.Vector3(<span class="number">-5</span>,<span class="number">0</span>,<span class="number">5</span>), </div><div class="line">c1_control = <span class="keyword">new</span> THREE.Vector3(<span class="number">-2</span>, <span class="number">7</span>, <span class="number">0</span>), </div><div class="line">c1_end = <span class="keyword">new</span> THREE.Vector3(<span class="number">5</span>,<span class="number">0</span>,<span class="number">5</span>),</div><div class="line">c2_start = <span class="keyword">new</span> THREE.Vector3(<span class="number">-5</span>,<span class="number">0</span>,<span class="number">-5</span>), </div><div class="line">c2_control = <span class="keyword">new</span> THREE.Vector3(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>), </div><div class="line">c2_end = <span class="keyword">new</span> THREE.Vector3(<span class="number">5</span>,<span class="number">0</span>,<span class="number">-5</span>);</div><div class="line"><span class="keyword">const</span> curve1 = <span class="keyword">new</span> THREE.QuadraticBezierCurve3(c1_start, c1_control, c1_end);</div><div class="line"><span class="keyword">const</span> curve2 = <span class="keyword">new</span> THREE.QuadraticBezierCurve3(c2_start, c2_control, c2_end);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// GEO POSITION / UV</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> geo = <span class="keyword">new</span> THREE.BufferGeometry();</div><div class="line"><span class="comment">// position attribute data</span></div><div class="line"><span class="keyword">const</span> pos_data = [];</div><div class="line"><span class="keyword">const</span> uv_data = [];</div><div class="line"><span class="keyword">let</span> pi = <span class="number">0</span>;</div><div class="line"><span class="keyword">const</span> points_per_line = <span class="number">20</span>;</div><div class="line"><span class="keyword">while</span>(pi &lt; points_per_line)&#123;</div><div class="line">    <span class="comment">// position</span></div><div class="line">    <span class="keyword">const</span> a1 = pi / (points_per_line - <span class="number">1</span>);</div><div class="line">    <span class="keyword">const</span> v1 = curve1.getPoint(a1);</div><div class="line">    <span class="keyword">const</span> v2 = curve2.getPoint(a1);</div><div class="line">    pos_data.push(v1.x, v1.y, v1.z, v2.x, v2.y, v2.z);</div><div class="line">    <span class="comment">// uv</span></div><div class="line">    uv_data.push(a1, <span class="number">0</span>, a1, <span class="number">1</span>);</div><div class="line">    pi += <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line">geo.setAttribute(<span class="string">'position'</span>, <span class="keyword">new</span> THREE.Float32BufferAttribute( pos_data, <span class="number">3</span> ) );</div><div class="line">geo.setAttribute(<span class="string">'uv'</span>, <span class="keyword">new</span> THREE.Float32BufferAttribute( uv_data, <span class="number">2</span> ) );</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// GEO INDEX</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> data_index = [];</div><div class="line"><span class="keyword">let</span> pi2 = <span class="number">0</span>;</div><div class="line"><span class="keyword">while</span>(pi2 &lt; points_per_line - <span class="number">1</span>)&#123;</div><div class="line">    <span class="keyword">const</span> a = pi2 * <span class="number">2</span>;</div><div class="line">    <span class="keyword">const</span> b = a + <span class="number">1</span>;</div><div class="line">    <span class="keyword">const</span> c = a + <span class="number">2</span>;</div><div class="line">    <span class="keyword">const</span> d = a + <span class="number">3</span>;</div><div class="line">    data_index.push(b,c,d,c,b,a);</div><div class="line">    pi2 += <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line">geo.setIndex(data_index);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// GEO NORMAL</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line">geo.computeVertexNormals();</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// TEXTURE</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// USING THREE DATA TEXTURE To CREATE A RAW DATA TEXTURE</span></div><div class="line"><span class="keyword">const</span> width = <span class="number">128</span>, height = <span class="number">128</span>;</div><div class="line"><span class="keyword">const</span> size = width * height;</div><div class="line"><span class="keyword">const</span> data = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>( <span class="number">4</span> * size );</div><div class="line"><span class="keyword">for</span> ( <span class="keyword">let</span> i = <span class="number">0</span>; i &lt; size; i ++ ) &#123;</div><div class="line">    <span class="keyword">const</span> stride = i * <span class="number">4</span>;</div><div class="line">    <span class="comment">// x and y pos</span></div><div class="line">    <span class="keyword">const</span> xi = i % width;</div><div class="line">    <span class="keyword">const</span> yi = <span class="built_in">Math</span>.floor(i / width);</div><div class="line">    <span class="keyword">const</span> v2 = <span class="keyword">new</span> THREE.Vector2(xi, yi);</div><div class="line">    <span class="comment">// alphas</span></div><div class="line">    <span class="keyword">const</span> a_rnd1 = THREE.MathUtils.seededRandom();</div><div class="line">    <span class="keyword">const</span> a_rnd2 = THREE.MathUtils.seededRandom();</div><div class="line">    <span class="keyword">const</span> a_rnd3 = THREE.MathUtils.seededRandom();</div><div class="line">    <span class="keyword">let</span> a_dist = v2.distanceTo( <span class="keyword">new</span> THREE.Vector2( width * <span class="number">0.25</span>, height * <span class="number">0.75</span>) ) / (width / <span class="number">16</span>);</div><div class="line">    a_dist = a_dist % <span class="number">1</span>;</div><div class="line">    <span class="keyword">const</span> a_x = xi / width;</div><div class="line">    <span class="keyword">const</span> a_y = yi / height;</div><div class="line">    <span class="keyword">const</span> cv = <span class="number">255</span> * (a_dist);</div><div class="line">    <span class="comment">// red, green, blue, alpha</span></div><div class="line">    data[ stride ] = cv;</div><div class="line">    data[ stride + <span class="number">1</span> ] = <span class="number">0</span>;</div><div class="line">    data[ stride + <span class="number">2</span> ] = <span class="number">255</span> - cv;</div><div class="line">    data[ stride + <span class="number">3</span> ] = <span class="number">255</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">const</span> texture = <span class="keyword">new</span> THREE.DataTexture( data, width, height );</div><div class="line">texture.needsUpdate = <span class="literal">true</span>;</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// MATERIAL AND MESH</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> material = <span class="keyword">new</span> THREE.MeshPhongMaterial(&#123; <span class="attr">map</span>: texture, <span class="attr">wireframe</span>: <span class="literal">false</span>, <span class="attr">side</span>: THREE.DoubleSide&#125;);</div><div class="line"><span class="keyword">const</span> mesh = <span class="keyword">new</span> THREE.Mesh(geo, material);</div><div class="line"><span class="keyword">const</span> line = <span class="keyword">new</span> THREE.LineSegments(geo, <span class="keyword">new</span> THREE.LineBasicMaterial(&#123;<span class="attr">linewidth</span>: <span class="number">4</span>, <span class="attr">color</span>: <span class="number">0x000000</span>&#125;));</div><div class="line">mesh.add(line);</div><div class="line">line.position.y = <span class="number">0.025</span>;</div><div class="line">scene.add(mesh);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// RENDER</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line">renderer.render(scene, camera);</div></pre></td></tr></table></figure>
<h2 id="4-Animation-loop-Example-of-Custom-Buffer-Geometry-made-with-curves"><a href="#4-Animation-loop-Example-of-Custom-Buffer-Geometry-made-with-curves" class="headerlink" title="4 - Animation loop Example of Custom Buffer Geometry made with curves"></a>4 - Animation loop Example of Custom Buffer Geometry made with curves</h2><p>I got the basics out of the way, and I also got some of the not so basic stuff out of the way when it comes to making full custom geometry with curves. But there is still always more to write about when it comes to these sorts of things. I think it should go without saying that what is really cool about curves is not just using them to create a fixed static geometry, but also using them to update the state of geometry overt time as well. So in this section I will be writing about examples that have to do with both creating, and updating geometry over time using one or more curve objects to help with the creation of the position attribute.</p>
<h3 id="4-1-Video1-animation-loop-example-based-on-custom-Geometry-example"><a href="#4-1-Video1-animation-loop-example-based-on-custom-Geometry-example" class="headerlink" title="4.1 - Video1 animation loop example based on custom Geometry example"></a>4.1 - Video1 animation loop example based on custom Geometry example</h3><p>So like with just about almost every post that I write on threejs I like to make at least one if not more videos to embed into the blog post along with all the writing and source code examples. So with that said I made this example that is based on the custom geometry example that I made for my mesh friendly geometry section. I made a lot of changes to the source code with this one though by taking a lot of what I worked out and made a few helper functions in an effort to make things more fine grain. Also I wanted to have a function that will just create and return an array of numbers that is the position data values, not just for the sake of creating the geometry to begin with, but also to be used to update the state of the geometry as well.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">scene.background = <span class="keyword">new</span> THREE.Color(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>);</div><div class="line"><span class="comment">//scene.add( new THREE.GridHelper(10, 10) );</span></div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">640</span> / <span class="number">480</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line">camera.position.set(<span class="number">8</span>, <span class="number">8</span>, <span class="number">-8</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">( <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body ).appendChild(renderer.domElement);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// HELPERS</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// get position data array helper</span></div><div class="line"><span class="keyword">const</span> getCurvePosData = <span class="function">(<span class="params">curve1, curve2, points_per_line</span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> pos_data = [];</div><div class="line">    <span class="keyword">let</span> pi = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span>(pi &lt; points_per_line)&#123;</div><div class="line">        <span class="keyword">const</span> a1 = pi / (points_per_line - <span class="number">1</span>);</div><div class="line">        <span class="keyword">const</span> v1 = curve1.getPoint(a1);</div><div class="line">        <span class="keyword">const</span> v2 = curve2.getPoint(a1);</div><div class="line">        pos_data.push(v1.x, v1.y, v1.z, v2.x, v2.y, v2.z);</div><div class="line">        pi += <span class="number">1</span>;</div><div class="line">   &#125;</div><div class="line">   <span class="keyword">return</span> pos_data;</div><div class="line">&#125;;</div><div class="line"><span class="comment">// get uv data array helper</span></div><div class="line"><span class="keyword">const</span> getCurveUVData = <span class="function">(<span class="params">curve1, curve2, points_per_line</span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> uv_data = [];</div><div class="line">    <span class="keyword">let</span> pi = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span>(pi &lt; points_per_line)&#123;</div><div class="line">        <span class="keyword">const</span> a1 = pi / (points_per_line - <span class="number">1</span>);</div><div class="line">        uv_data.push(a1, <span class="number">0</span>, a1, <span class="number">1</span>);</div><div class="line">        pi += <span class="number">1</span>;</div><div class="line">   &#125;</div><div class="line">   <span class="keyword">return</span> uv_data;</div><div class="line">&#125;;</div><div class="line"><span class="comment">// set index</span></div><div class="line"><span class="keyword">const</span> setCurveGeoIndex = <span class="function">(<span class="params">geo, points_per_line</span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> data_index = [];</div><div class="line">    <span class="keyword">let</span> pi2 = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span>(pi2 &lt; points_per_line - <span class="number">1</span>)&#123;</div><div class="line">        <span class="keyword">const</span> a = pi2 * <span class="number">2</span>;</div><div class="line">        <span class="keyword">const</span> b = a + <span class="number">1</span>;</div><div class="line">        <span class="keyword">const</span> c = a + <span class="number">2</span>;</div><div class="line">        <span class="keyword">const</span> d = a + <span class="number">3</span>;</div><div class="line">        data_index.push(b, c, d, c, b, a);</div><div class="line">        pi2 += <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    geo.setIndex(data_index);</div><div class="line">&#125;;</div><div class="line"><span class="comment">// create curve geo</span></div><div class="line"><span class="keyword">const</span> createCurveGeo = <span class="function">(<span class="params">curve1, curve2, points_per_line</span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> geo = <span class="keyword">new</span> THREE.BufferGeometry();</div><div class="line">    <span class="keyword">const</span> uv_data = getCurveUVData(curve1, curve2, points_per_line);</div><div class="line">    <span class="comment">// position/index</span></div><div class="line">    <span class="keyword">const</span> pos_data = getCurvePosData(curve1, curve2, points_per_line);</div><div class="line">    geo.setAttribute(<span class="string">'position'</span>, <span class="keyword">new</span> THREE.Float32BufferAttribute( pos_data, <span class="number">3</span> ) );</div><div class="line">    setCurveGeoIndex(geo, points_per_line);</div><div class="line">    <span class="comment">// uv</span></div><div class="line">    geo.setAttribute(<span class="string">'uv'</span>, <span class="keyword">new</span> THREE.Float32BufferAttribute( uv_data, <span class="number">2</span> ) );</div><div class="line">    <span class="comment">// normal</span></div><div class="line">    geo.computeVertexNormals();</div><div class="line">    <span class="keyword">return</span> geo;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">const</span> updateCurveGeo = <span class="function">(<span class="params">geo, curve1, curve2, points_per_line</span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> pos_data = getCurvePosData(curve1, curve2, points_per_line);</div><div class="line">    <span class="keyword">const</span> pos = geo.getAttribute(<span class="string">'position'</span>);</div><div class="line">    pos.array = pos.array.map(<span class="function">(<span class="params">n, i</span>) =&gt;</span> &#123; <span class="keyword">return</span> pos_data[i] &#125;);</div><div class="line">    pos.needsUpdate = <span class="literal">true</span>;</div><div class="line">    <span class="comment">// normal</span></div><div class="line">    geo.computeVertexNormals();</div><div class="line">    <span class="keyword">return</span> geo;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">const</span> QBC3 = <span class="function">(<span class="params">c1_start, c1_control, c1_end</span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> THREE.QuadraticBezierCurve3(c1_start, c1_control, c1_end);</div><div class="line">&#125;;</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// LIGHT</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> dl = <span class="keyword">new</span> THREE.DirectionalLight(<span class="number">0xffffff</span>, <span class="number">1</span>);</div><div class="line">dl.position.set(<span class="number">0.25</span>, <span class="number">0.5</span>, <span class="number">0.5</span>);</div><div class="line">scene.add(dl);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// CURVES</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> c1_start = <span class="keyword">new</span> THREE.Vector3(<span class="number">-5</span>,<span class="number">0</span>,<span class="number">5</span>), </div><div class="line">c1_control = <span class="keyword">new</span> THREE.Vector3(<span class="number">0</span>, <span class="number">10</span>, <span class="number">0</span>), </div><div class="line">c1_end = <span class="keyword">new</span> THREE.Vector3(<span class="number">5</span>,<span class="number">0</span>,<span class="number">5</span>),</div><div class="line">c2_start = <span class="keyword">new</span> THREE.Vector3(<span class="number">-5</span>,<span class="number">0</span>,<span class="number">-5</span>), </div><div class="line">c2_control = <span class="keyword">new</span> THREE.Vector3(<span class="number">0</span>, <span class="number">-5</span>, <span class="number">0</span>), </div><div class="line">c2_end = <span class="keyword">new</span> THREE.Vector3(<span class="number">5</span>,<span class="number">0</span>,<span class="number">-5</span>);</div><div class="line"><span class="keyword">const</span> curve1 = <span class="keyword">new</span> THREE.QuadraticBezierCurve3(c1_start, c1_control, c1_end);</div><div class="line"><span class="keyword">const</span> curve2 = <span class="keyword">new</span> THREE.QuadraticBezierCurve3(c2_start, c2_control, c2_end);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// GEO POSITION / UV</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> geo = createCurveGeo(</div><div class="line">     QBC3(c1_start, c1_control, c1_end),</div><div class="line">     QBC3(c2_start, c2_control, c2_end),</div><div class="line">     <span class="number">50</span></div><div class="line">);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// TEXTURE</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// USING THREE DATA TEXTURE To CREATE A RAW DATA TEXTURE</span></div><div class="line"><span class="keyword">const</span> width = <span class="number">128</span>, height = <span class="number">128</span>;</div><div class="line"><span class="keyword">const</span> size = width * height;</div><div class="line"><span class="keyword">const</span> data = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>( <span class="number">4</span> * size );</div><div class="line"><span class="keyword">for</span> ( <span class="keyword">let</span> i = <span class="number">0</span>; i &lt; size; i ++ ) &#123;</div><div class="line">    <span class="keyword">const</span> stride = i * <span class="number">4</span>;</div><div class="line">    <span class="comment">// x and y pos</span></div><div class="line">    <span class="keyword">const</span> xi = i % width;</div><div class="line">    <span class="keyword">const</span> yi = <span class="built_in">Math</span>.floor(i / width);</div><div class="line">    <span class="keyword">const</span> v2 = <span class="keyword">new</span> THREE.Vector2(xi, yi);</div><div class="line">    <span class="comment">// alphas</span></div><div class="line">    <span class="keyword">const</span> a_rnd1 = THREE.MathUtils.seededRandom();</div><div class="line">    <span class="keyword">const</span> a_rnd2 = THREE.MathUtils.seededRandom();</div><div class="line">    <span class="keyword">const</span> a_rnd3 = THREE.MathUtils.seededRandom();</div><div class="line">    <span class="keyword">let</span> a_dist = v2.distanceTo( <span class="keyword">new</span> THREE.Vector2( width * <span class="number">0.25</span>, height * <span class="number">0.75</span>) ) / (width / <span class="number">16</span>);</div><div class="line">    a_dist = a_dist % <span class="number">1</span>;</div><div class="line">    <span class="keyword">const</span> a_x = xi / width;</div><div class="line">    <span class="keyword">const</span> a_y = yi / height;</div><div class="line">    <span class="keyword">const</span> cv = <span class="number">255</span> * (a_dist);</div><div class="line">    <span class="comment">// red, green, blue, alpha</span></div><div class="line">    data[ stride ] = cv;</div><div class="line">    data[ stride + <span class="number">1</span> ] = <span class="number">0</span>;</div><div class="line">    data[ stride + <span class="number">2</span> ] = <span class="number">255</span> - cv;</div><div class="line">    data[ stride + <span class="number">3</span> ] = <span class="number">255</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">const</span> texture = <span class="keyword">new</span> THREE.DataTexture( data, width, height );</div><div class="line">texture.needsUpdate = <span class="literal">true</span>;</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// MATERIAL AND MESH</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> material = <span class="keyword">new</span> THREE.MeshPhongMaterial(&#123; <span class="attr">map</span>: texture, <span class="attr">wireframe</span>: <span class="literal">false</span>, <span class="attr">side</span>: THREE.DoubleSide&#125;);</div><div class="line"><span class="keyword">const</span> mesh = <span class="keyword">new</span> THREE.Mesh(geo, material);</div><div class="line">scene.add(mesh);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// CONTROLS</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">try</span>&#123;</div><div class="line">    <span class="keyword">const</span> controls = <span class="keyword">new</span> THREE.OrbitControls(camera, renderer.domElement);</div><div class="line">&#125;<span class="keyword">catch</span>(e)&#123;</div><div class="line">    <span class="built_in">console</span>.warn(<span class="string">'OrbitControls JSM module not loaded.'</span>);</div><div class="line">&#125;</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// ANIMATION LOOP</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> FPS_UPDATE = <span class="number">30</span>, <span class="comment">// fps rate to update ( low fps for low CPU use, but choppy video )</span></div><div class="line">FPS_MOVEMENT = <span class="number">30</span>;     <span class="comment">// fps rate to move object by that is independent of frame update rate</span></div><div class="line">FRAME_MAX = <span class="number">400</span>;</div><div class="line"><span class="keyword">let</span> secs = <span class="number">0</span>,</div><div class="line">frame = <span class="number">0</span>,</div><div class="line">lt = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line"><span class="comment">// update</span></div><div class="line"><span class="keyword">const</span> update = <span class="function"><span class="keyword">function</span>(<span class="params">frame, frameMax</span>)</span>&#123;</div><div class="line">    <span class="keyword">const</span> a1 = frame / frameMax;</div><div class="line">    <span class="keyword">const</span> a2 = <span class="number">1</span> - <span class="built_in">Math</span>.abs(<span class="number">0.5</span> - a1) / <span class="number">0.5</span>;</div><div class="line">    c1_control.set(<span class="number">-10</span> + <span class="number">20</span> * a2,<span class="number">-10</span> + <span class="number">20</span> * a2,<span class="number">0</span>);</div><div class="line">    c2_control.set(<span class="number">0</span>, <span class="number">0</span>, <span class="number">-10</span>);</div><div class="line">    updateCurveGeo(</div><div class="line">        geo,</div><div class="line">        QBC3(c1_start, c1_control, c1_end),</div><div class="line">        QBC3(c2_start, c2_control, c2_end),</div><div class="line">        <span class="number">50</span></div><div class="line">    );</div><div class="line">&#125;;</div><div class="line"><span class="comment">// loop</span></div><div class="line"><span class="keyword">const</span> loop = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">    secs = (now - lt) / <span class="number">1000</span>;</div><div class="line">    requestAnimationFrame(loop);</div><div class="line">    <span class="keyword">if</span>(secs &gt; <span class="number">1</span> / FPS_UPDATE)&#123;</div><div class="line">        <span class="comment">// update, render</span></div><div class="line">        update( <span class="built_in">Math</span>.floor(frame), FRAME_MAX);</div><div class="line">        renderer.render(scene, camera);</div><div class="line">        <span class="comment">// step frame</span></div><div class="line">        frame += FPS_MOVEMENT * secs;</div><div class="line">        frame %= FRAME_MAX;</div><div class="line">        lt = now;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">loop();</div></pre></td></tr></table></figure>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>That will be it for now when it comes to making geometry from curves in threejs, at least until I come around to edit and expand this post a little. I might also want to make one or more <a href="/2021/02/19/threejs-examples/">threejs project examples posts</a> in which I explore this topic a little deeper as I am sure there is a whole lot of directions I could take this when it comes to making custom geometry this way. That is not to say that I do not all ready have some threejs protect example ideas that are based off of the use of Curve objects all ready. I do have my <a href="/2022/11/18/threejs-examples-curves-module/">curve module that threejs example</a> that I started all ready which might be a good thing to check out if you want to read even more about curves.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dustinpfister.github.io/2022/12/16/threejs-curve-geometry-from/" data-id="clkyg75r8023r0gv1qvvd80et" class="article-share-link">Share</a>
      
        <a href="https://dustinpfister.github.io/2022/12/16/threejs-curve-geometry-from/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/three-js/">three.js</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2022/12/23/threejs-examples-count-down/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          A Timer video javaScript module threejs example
        
      </div>
    </a>
  
  
    <a href="/2022/12/09/threejs-buffer-geometry-index/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Indexed Buffer Geometry in threejs</div>
    </a>
  
</nav>

  
</article>



<section id="comments">

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://dustinpfister.github.io/2022/12/16/threejs-curve-geometry-from/index.html';
    this.page.identifier = '1018';
    this.page.title = 'Using the curve class to create geometry in threejs';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://dustinpfister-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular/">angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/api/">api</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/backbone/">backbone</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/discovery/">discovery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/electronjs/">electronjs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/games/">games</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/grunt/">grunt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hapi/">hapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/heroku/">heroku</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jquery/">jquery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lodash/">lodash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node-js/">node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/phaser/">phaser</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/statistics/">statistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/three-js/">three.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backbone/">backbone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/corejs/">corejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deterministic/">deterministic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discovery/">discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejs/">ejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/electronjs/">electronjs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hapi/">hapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jimp/">jimp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js13k/">js13k</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/structured-data/">structured-data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/themes/">themes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three-js/">three.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JSON/" style="font-size: 12.38px;">JSON</a> <a href="/tags/SEO/" style="font-size: 10.48px;">SEO</a> <a href="/tags/angular/" style="font-size: 13.33px;">angular</a> <a href="/tags/animation/" style="font-size: 11.9px;">animation</a> <a href="/tags/automation/" style="font-size: 11.9px;">automation</a> <a href="/tags/backbone/" style="font-size: 12.38px;">backbone</a> <a href="/tags/blog/" style="font-size: 15.71px;">blog</a> <a href="/tags/canvas/" style="font-size: 18.57px;">canvas</a> <a href="/tags/corejs/" style="font-size: 12.86px;">corejs</a> <a href="/tags/deterministic/" style="font-size: 10px;">deterministic</a> <a href="/tags/discovery/" style="font-size: 10.95px;">discovery</a> <a href="/tags/ejs/" style="font-size: 11.43px;">ejs</a> <a href="/tags/electronjs/" style="font-size: 13.81px;">electronjs</a> <a href="/tags/express/" style="font-size: 17.14px;">express</a> <a href="/tags/games/" style="font-size: 17.62px;">games</a> <a href="/tags/git/" style="font-size: 13.81px;">git</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hapi/" style="font-size: 15.24px;">hapi</a> <a href="/tags/heroku/" style="font-size: 11.9px;">heroku</a> <a href="/tags/hexo/" style="font-size: 14.76px;">hexo</a> <a href="/tags/jimp/" style="font-size: 10.48px;">jimp</a> <a href="/tags/jquery/" style="font-size: 11.43px;">jquery</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/js13k/" style="font-size: 10px;">js13k</a> <a href="/tags/linux/" style="font-size: 18.1px;">linux</a> <a href="/tags/lodash/" style="font-size: 18.57px;">lodash</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mongodb/" style="font-size: 14.76px;">mongodb</a> <a href="/tags/node-js/" style="font-size: 19.52px;">node.js</a> <a href="/tags/phaser/" style="font-size: 18.1px;">phaser</a> <a href="/tags/python/" style="font-size: 16.19px;">python</a> <a href="/tags/statistics/" style="font-size: 14.29px;">statistics</a> <a href="/tags/structured-data/" style="font-size: 10px;">structured-data</a> <a href="/tags/themes/" style="font-size: 10px;">themes</a> <a href="/tags/three-js/" style="font-size: 19.05px;">three.js</a> <a href="/tags/vuejs/" style="font-size: 16.67px;">vuejs</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/08/">August 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">July 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/06/">June 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">May 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">April 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/08/02/threejs-matrix4/">Matrix4 Objects in threejs</a>
          </li>
        
          <li>
            <a href="/2023/08/01/linux-folders/">Linux Root Folders</a>
          </li>
        
          <li>
            <a href="/2023/07/27/threejs-materials-loader/">The Matheral Loader in threejs</a>
          </li>
        
          <li>
            <a href="/2023/07/25/linux-lsb-release/">Linux System Base Release command lsb_release for Distribution info</a>
          </li>
        
          <li>
            <a href="/2023/07/19/threejs-object-loader/">The Object Loader in threejs</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2023 Dustin Pfister<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      <br>
      <a href="/privacy.html" target="_blank">Privacy Policy</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/2021/02/19/threejs-examples/" class="mobile-nav-link">ThreeJS</a>
  
    <a href="/2020/03/23/canvas-example/" class="mobile-nav-link">Canvas</a>
  
    <a href="https://www.youtube.com/user/javaweaver" class="mobile-nav-link">Youtube</a>
  
    <a href="https://github.com/dustinpfister" class="mobile-nav-link">Github</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'dustinpfister-github-io';
  
  var disqus_url = 'https://dustinpfister.github.io/2022/12/16/threejs-curve-geometry-from/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


  </div>
</body>
</html>