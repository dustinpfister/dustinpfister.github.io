<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <!-- disqus image-->
  <meta property="og:image" content="https://dustinpfister.github.io/css/images/banner.jpg">
  
  <title>Curves Module threejs project example | Dustin John Pfister at github pages</title>
  
  <!-- no index tag or blank here -->
  
  
  <link rel="canonical" href="https://dustinpfister.github.io/2022/11/18/threejs-examples-curves-module/" />

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="The THREE.Curve base class can be used as a way to create custom curve constructor functions, but one might need to even bother with that as there are a number of great built in curve constructor func">
<meta property="og:type" content="article">
<meta property="og:title" content="Curves Module threejs project example">
<meta property="og:url" content="https://dustinpfister.github.io/2022/11/18/threejs-examples-curves-module/index.html">
<meta property="og:site_name" content="Dustin John Pfister at github pages">
<meta property="og:description" content="The THREE.Curve base class can be used as a way to create custom curve constructor functions, but one might need to even bother with that as there are a number of great built in curve constructor func">
<meta property="og:updated_time" content="2023-01-17T19:06:40.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Curves Module threejs project example">
<meta name="twitter:description" content="The THREE.Curve base class can be used as a way to create custom curve constructor functions, but one might need to even bother with that as there are a number of great built in curve constructor func">
  
    <link rel="alternate" href="/atom.xml" title="Dustin John Pfister at github pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <!-- Google Analytics -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y8XLNG6JRW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Y8XLNG6JRW');
</script>
<!-- End Google Analytics -->


  <!-- structured data set in structured-data.ejs -->
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "email": "distin.pfister@gmail.com",
    "givenName": "Dustin",
    "familyName" : "Pfister",
    "additionalName": "John",
    "name": "Dustin John Pfister",
    "gender": "Male"
}
</script>
<!-- end structured data -->
  
  <!-- adsense if indexed -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1658284027672315",
    enable_page_level_ads: true
  });
  </script>
  
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <!-- added the image, as well as the link to my youtube -->
        <a href="https://www.youtube.com/user/javaweaver"><div class="selfimage"></div></a>
        <!--<a href="/" id="logo">Dustin John Pfister at github pages</a>-->
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/2021/02/19/threejs-examples/">ThreeJS</a>
        
          <a class="main-nav-link" href="/2020/03/23/canvas-example/">Canvas</a>
        
          <a class="main-nav-link" href="https://www.youtube.com/user/javaweaver">Youtube</a>
        
          <a class="main-nav-link" href="https://github.com/dustinpfister">Github</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <!-- removed rss link-->
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dustinpfister.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article itemscope itemtype="http://schema.org/Blog" id="post-threejs-examples-curves-module" class="article article-type-post" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/11/18/threejs-examples-curves-module/" class="article-date"> Published:
  <time datetime="2022-11-18T12:48:00.000Z" itemprop="datePublished">2022-11-18</time>
</a>

    <!-- other info (dustin) -->
    <a href="/2022/11/18/threejs-examples-curves-module/" class="article-date"> Modified:
  <time datetime="2023-01-17T19:06:40.000Z" itemprop="dateModified">2023-01-17</time>
</a>

    <span class="article-date">V1.16</span>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/three-js/">three.js</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Curves Module threejs project example
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="text">
      
        <p>The <a href="/2022/06/17/threejs-curve/">THREE.Curve base class</a> can be used as a way to create custom curve constructor functions, but one might need to even bother with that as there are a number of great built in curve constructor functions as well. In any case Curve objects, regardless if they are custom , or built in, are a great way to go about defining paths in 3d space. I am sure that they may also be useful for many other things in threejs such as creating the position attributes of geometry, but for now I am mainly focused on using curves to define paths that can be used to define the movement of objects over time.</p>
<p>In any case I will want to make a <a href="/2021/02/19/threejs-examples/">threejs project example</a> that is a javaScript module that contains tools to help me do various typical things that I want to do with curves in threejs. This module will have a number of tools that will help me to create Cuves, as well as arrays of vector3 objects using curves. I also have a number of methods that I can use to create what are often called alpha values as well using curves, as well as a number of other methods that can be used to debug what is going on with these sort of things. So in this post I will be writing about the source code of my current standing curves module as well as a number of demos that make us of this module.</p>
<a id="more"></a>
<iframe class="youtube_video" src="https://www.youtube.com/embed/KnC-qMsWgec" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>


<h2 id="The-curves-module-threejs-example-and-what-to-know-first"><a href="#The-curves-module-threejs-example-and-what-to-know-first" class="headerlink" title="The curves module threejs example and what to know first"></a>The curves module threejs example and what to know first</h2><p>Before you read the rest of this post it would be a good idea to know a thing or two about what you should know about before hand. There is a whole lot of ground to cover with that, and I will not be getting into every little detail about the Curve class, as well as various other threejs features, and things that have to do with client side javaScript in general as well. However I do like to make it so that this opening section outlines at least a few things that you might want to read up more on before reading the rest of this content.</p>
<h3 id="Check-out-the-THREE-Curve-base-class-as-well-as-THREE-QuadraticBezierCurve3"><a href="#Check-out-the-THREE-Curve-base-class-as-well-as-THREE-QuadraticBezierCurve3" class="headerlink" title="Check out the THREE.Curve base class, as well as THREE.QuadraticBezierCurve3"></a>Check out the THREE.Curve base class, as well as THREE.QuadraticBezierCurve3</h3><p>I have wrote a blog post on the <a href="/2022/06/17/threejs-curve/">base curve class</a>, as well as the <a href="/2022/10/21/threejs-curve-quadratic-bezier-curve3/">Quadratic Bezier Curve class</a> that builds on top of that. There is also of course the official threejs docs on <a href="https://threejs.org/docs/index.html#api/en/extras/core/Curve" target="_blank" rel="external">Curves</a>, <a href="https://threejs.org/docs/index.html#api/en/extras/curves/QuadraticBezierCurve3" target="_blank" rel="external">Bezier Curves</a> and also <a href="https://threejs.org/docs/index.html#api/en/extras/core/CurvePath" target="_blank" rel="external">Curve Paths</a> but I find that the docs do not always do the best job outlined every little detail starting with hello world style copy and paste examples.</p>
<p>In any case it would be a good idea to work out at least one if not a lot of little demos involving the use of curves as there is a lot to be aware of when it comes to suing them. There is the <a href="https://threejs.org/docs/index.html#api/en/extras/core/Curve.getPoint" target="_blank" rel="external">get point method</a> that is a very useful method for example as it will return a vector3 object at any given point along the curve by passing a given alpha value as the first argument.</p>
<h3 id="Check-out-the-Vector3-class-Object3d-and-the-position-property-of-Object3d"><a href="#Check-out-the-Vector3-class-Object3d-and-the-position-property-of-Object3d" class="headerlink" title="Check out the Vector3 class, Object3d, and the position property of Object3d"></a>Check out the Vector3 class, Object3d, and the position property of Object3d</h3><p>There are a lot of ways that curves can be used in a threejs project, however maybe one of the first and foremost use case examples would be to use it as a way to get points at which to move an object such as a mesh object or camera. As I said the get point method of the curve class can be used to return an instance of the Vector3 class along a given curve. There are a number of things that could be done with this, one of which would be to use it as a way to set the position of an object3d based object. So then there is calling the copy method off of the position property of an obejct3d based object such as a mesh object and passing this returned vector3 object to do just that.</p>
<p>In this post I assume that you are beyond the basics of using the vector3 class and know at least a thing or two about object3d and how it applys to any kind of object that would be added to a main scene object. If not you might want to read my main <a href="/2018/04/15/threejs-vector3/">blog post on the Vector3 class</a>, and maybe also my main post on the <a href="/2018/04/23/threejs-object3d/">Object3d class</a> as well. I also have a post in which I <a href="/2022/04/04/threejs-object3d-position/">mainly focus on just the position property of the object3d class</a> as well.</p>
<h3 id="The-Source-code-examples-here-are-on-Github"><a href="#The-Source-code-examples-here-are-on-Github" class="headerlink" title="The Source code examples here are on Github"></a>The Source code examples here are on Github</h3><p>I also have the source code examples that I am write about here <a href="https://github.com/dustinpfister/test_threejs/tree/master/views/forpost/threejs-examples-create-path-tool" target="_blank" rel="external">up on Github as well</a>.</p>
<h3 id="Version-Numbers-matter"><a href="#Version-Numbers-matter" class="headerlink" title="Version Numbers matter"></a>Version Numbers matter</h3><p>When I first wrote this post I was using r146 of threejs.</p>
<h2 id="1-Get-Alpha-method-improvements-R1-and-DEMOS"><a href="#1-Get-Alpha-method-improvements-R1-and-DEMOS" class="headerlink" title="1 - Get Alpha method improvements ( R1 ), and DEMOS"></a>1 - Get Alpha method improvements ( R1 ), and DEMOS</h2><p>I am going to want to make this module the kind of project that I use over and over again as part of an over all typical stack of code to work with from one video project to the next. One of the major use case examples of this module is to not just use if for the sake of creating paths that will be used to update the positions of objects over time, but to also use it as a way to define alpha functions that will be used in the process of creating the values that are used to get points along a curve as well. Anyway much of the work that I did for R1 of this example had to go with creating a few built in get alpha methods for creating alpha functions using curves, as well as a few usual suspect type methods for this as well.</p>
<h3 id="The-source-code-of-curves-js-R1"><a href="#The-source-code-of-curves-js-R1" class="headerlink" title="The source code of curves.js R1"></a>The source code of curves.js R1</h3><p>Here is then the updated source code for R1 of my curves module that helps me with the process of quickly creating and using curves. In this revision I am now using an updated create alpha curve helper that will work with just a plain linear array form of numbers that are used to define a curve alpha function. I have found that I like to just use this kind of array, rather than the array of arrays format that I was using in the older version of this module.</p>
<p>I now also have a create debug points helper function that is used to create points for the debug helpers that can be used to get a quick idea of what is going on with a curve, or get alpha function.</p>
<p>The main thing here though is all the built in alpha functions that I can now use with the single get alpha function and get alpha public methods. In the old version of the module I have two public methods to choose from, now these are just two of a few built in methods to choose from that I can use by just giving a string value to create an alpha function, or to define what function to use when just calling directly with the curve module.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// curve.js - r1 - from threejs-examples-curves-module</span></div><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">api</span>)</span>&#123;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// DEFAULTS</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// Deafult Alpha Control Points ( ac_points )</span></div><div class="line">    <span class="keyword">const</span> DEFAULT_AC_POINTS = [<span class="number">0.00</span>,<span class="number">0.5</span>,  <span class="number">1.00</span>,<span class="number">0.5</span>, <span class="number">0.0</span>];</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// HELPERS</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// for path data helper used by QBCurvePath and QBV3Array</span></div><div class="line">    <span class="keyword">const</span> forPathData = <span class="function">(<span class="params">data, collection, forCurve</span>) =&gt;</span> &#123;</div><div class="line">        collection = collection || <span class="keyword">new</span> THREE.CurvePath();</div><div class="line">        forCurve = forCurve || <span class="function"><span class="keyword">function</span>(<span class="params">a, curve, curvePath, data</span>)</span>&#123;</div><div class="line">            curvePath.add(curve);</div><div class="line">        &#125;;</div><div class="line">        data.forEach( <span class="function">(<span class="params"> a </span>) =&gt;</span> &#123;</div><div class="line">            <span class="keyword">const</span> curve = api.QBDelta.apply(<span class="literal">null</span>, a.slice(<span class="number">0</span>, a.length - <span class="number">1</span>));</div><div class="line">            forCurve(a, curve, collection, data);</div><div class="line">        &#125;);</div><div class="line">        <span class="keyword">return</span> collection;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// create an alpha curve helper function</span></div><div class="line">    <span class="keyword">const</span> createAlphaCurve2 = <span class="function">(<span class="params">ac_points</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">let</span> i = <span class="number">0</span>, len = ac_points.length;</div><div class="line">        <span class="keyword">const</span> data = [];</div><div class="line">        <span class="keyword">while</span>(i &lt; len - <span class="number">2</span>)&#123;</div><div class="line">            <span class="keyword">const</span> s = ac_points[i];</div><div class="line">            <span class="keyword">const</span> s2 = ac_points[i + <span class="number">1</span>]</div><div class="line">            <span class="keyword">const</span> e = ac_points[i + <span class="number">2</span>];</div><div class="line">            data.push([ <span class="number">0</span>, s, <span class="number">0</span>,   <span class="number">0</span>, e, <span class="number">0</span>,   <span class="number">0</span>, s2, <span class="number">0</span> ]);</div><div class="line">            i += <span class="number">2</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> api.QBCurvePath(data);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// create debug points</span></div><div class="line">    <span class="keyword">const</span> createDebugPoints = <span class="function">(<span class="params">v3Array, opt</span>) =&gt;</span> &#123;</div><div class="line">        opt = opt || &#123;&#125;;</div><div class="line">        opt.size = opt.size === <span class="literal">undefined</span> ? <span class="number">0.25</span> : opt.size;</div><div class="line">        opt.color = opt.color || <span class="keyword">new</span> THREE.Color(<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>);</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> THREE.Points(</div><div class="line">            <span class="keyword">new</span> THREE.BufferGeometry().setFromPoints(v3Array),</div><div class="line">            <span class="keyword">new</span> THREE.PointsMaterial(&#123; <span class="attr">size</span>: opt.size, <span class="attr">color</span>: opt.color&#125;)</div><div class="line">        );</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// alpha function collection</span></div><div class="line">    <span class="keyword">const</span> ALPHA_FUNCTIONS = &#123;&#125;;</div><div class="line">    <span class="comment">// first curve alpha function that just uses the Curve.getPoint method</span></div><div class="line">    <span class="comment">// and then uses the y axis as the alpha values</span></div><div class="line">    ALPHA_FUNCTIONS.curve1 = <span class="function">(<span class="params"> opt </span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> cp = createAlphaCurve2(opt.ac_points);</div><div class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">givenAlpha</span>)</span>&#123;</div><div class="line">            <span class="keyword">let</span> a = cp.getPoint(givenAlpha).y;</div><div class="line">            <span class="keyword">return</span> a;</div><div class="line">        &#125;;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// second curve alpha function ( defualt for R1 ) will get a curve object from the array of curves</span></div><div class="line">    <span class="comment">// then figure an alpha value to given when calling the Curve.getPoint method of a child curve object</span></div><div class="line">    <span class="comment">// of the curve path created with the createAlphaCurve helper</span></div><div class="line">    ALPHA_FUNCTIONS.curve2 = <span class="function">(<span class="params"> opt </span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> cp = createAlphaCurve2(opt.ac_points);</div><div class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">alpha</span>)</span>&#123;</div><div class="line">            alpha = alpha === <span class="number">1</span> ? <span class="number">0.9999999999</span> : alpha;</div><div class="line">            <span class="keyword">const</span> cLen = cp.curves.length;</div><div class="line">            <span class="keyword">const</span> curveIndex = <span class="built_in">Math</span>.floor( cLen * alpha);</div><div class="line">            <span class="keyword">const</span> cc = cp.curves[ curveIndex];</div><div class="line">            <span class="keyword">const</span> a_cc = alpha %  ( <span class="number">1</span> / cLen ) * ( cLen );</div><div class="line">            <span class="keyword">const</span> v3 = cc.getPoint( a_cc );</div><div class="line">            <span class="keyword">let</span> a = v3.y;</div><div class="line">            <span class="keyword">return</span> a;</div><div class="line">        &#125;;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// plain old linear get alpha function</span></div><div class="line">    ALPHA_FUNCTIONS.linear = <span class="function">(<span class="params">opt</span>) =&gt;</span> &#123;</div><div class="line">        <span class="comment">// the given alpha value should all ready be linear</span></div><div class="line">        <span class="comment">// as long as that is true this option should work by just echoing that back</span></div><div class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">alpha</span>)</span>&#123;</div><div class="line">            <span class="keyword">return</span> alpha;</div><div class="line">        &#125;;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// plain old bias get alpha function</span></div><div class="line">    ALPHA_FUNCTIONS.bias = <span class="function">(<span class="params">opt</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">alpha</span>)</span>&#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">1</span> - <span class="built_in">Math</span>.abs(<span class="number">0.5</span> - alpha ) / <span class="number">0.5</span>;</div><div class="line">        &#125;;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// sin bias get alpha function</span></div><div class="line">    ALPHA_FUNCTIONS.sinBias = <span class="function">(<span class="params">opt</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">alpha</span>)</span>&#123;</div><div class="line">            <span class="keyword">const</span> b = <span class="number">1</span> - <span class="built_in">Math</span>.abs(<span class="number">0.5</span> - alpha ) / <span class="number">0.5</span>;</div><div class="line">            <span class="keyword">return</span> <span class="built_in">Math</span>.sin( <span class="built_in">Math</span>.PI * <span class="number">0.5</span> * b );</div><div class="line">        &#125;;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// smooth step</span></div><div class="line">    ALPHA_FUNCTIONS.smooth = <span class="function">(<span class="params">opt</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">alpha</span>)</span>&#123;</div><div class="line">            <span class="keyword">return</span> THREE.MathUtils.smoothstep(alpha, <span class="number">0</span>, <span class="number">1</span>);</div><div class="line">        &#125;;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// using the mapLinear method of the THREE.MathUtils object</span></div><div class="line">    ALPHA_FUNCTIONS.mapLinear = <span class="function">(<span class="params">opt</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> startAlpha = opt.ac_points[<span class="number">0</span>] === <span class="literal">undefined</span> ? <span class="number">0</span> : opt.ac_points[<span class="number">0</span>];</div><div class="line">        <span class="keyword">const</span> endAlpha = opt.ac_points[<span class="number">1</span>] === <span class="literal">undefined</span> ? <span class="number">1</span> : opt.ac_points[<span class="number">1</span>];</div><div class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">alpha</span>)</span>&#123;</div><div class="line">            <span class="keyword">return</span> THREE.MathUtils.mapLinear(alpha, <span class="number">0</span>, <span class="number">1</span>, startAlpha, endAlpha);</div><div class="line">        &#125;;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// RETURN CURVE</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// just a short hand for THREE.QuadraticBezierCurve3</span></div><div class="line">    api.QBC3 = <span class="function"><span class="keyword">function</span>(<span class="params">x1, y1, z1, x2, y2, z2, x3, y3, z3</span>)</span>&#123;</div><div class="line">        <span class="keyword">let</span> vs = x1;</div><div class="line">        <span class="keyword">let</span> ve = y1;</div><div class="line">        <span class="keyword">let</span> vc = z1;</div><div class="line">        <span class="keyword">if</span>(<span class="built_in">arguments</span>.length === <span class="number">9</span>)&#123;</div><div class="line">            vs = <span class="keyword">new</span> THREE.Vector3(x1, y1, z1);</div><div class="line">            ve = <span class="keyword">new</span> THREE.Vector3(x2, y2, z2);</div><div class="line">            vc = <span class="keyword">new</span> THREE.Vector3(x3, y3, z3);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> THREE.QuadraticBezierCurve3( vs, vc, ve );</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// QBDelta helper using QBC3</span></div><div class="line">    <span class="comment">// this works by giving deltas from the point that is half way between</span></div><div class="line">    <span class="comment">// the two start and end points rather than a direct control point for x3, y3, and x3</span></div><div class="line">    api.QBDelta = <span class="function"><span class="keyword">function</span>(<span class="params">x1, y1, z1, x2, y2, z2, x3, y3, z3</span>) </span>&#123;</div><div class="line">        <span class="keyword">const</span> vs = <span class="keyword">new</span> THREE.Vector3(x1, y1, z1);</div><div class="line">        <span class="keyword">const</span> ve = <span class="keyword">new</span> THREE.Vector3(x2, y2, z2);</div><div class="line">        <span class="comment">// deltas</span></div><div class="line">        <span class="keyword">const</span> vDelta = <span class="keyword">new</span> THREE.Vector3(x3, y3, z3);</div><div class="line">        <span class="keyword">const</span> vc = vs.clone().lerp(ve, <span class="number">0.5</span>).add(vDelta);</div><div class="line">        <span class="keyword">const</span> curve = api.QBC3(vs, ve, vc);</div><div class="line">        <span class="keyword">return</span> curve;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// return a path curve by just calling the for path data helper with default options</span></div><div class="line">    api.QBCurvePath = <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> forPathData(data);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// RETURN V3ARRAY</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// QBV3Array</span></div><div class="line">    api.QBV3Array = <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</div><div class="line">        <span class="keyword">const</span> v3Array = [];</div><div class="line">        forPathData(data, v3Array, <span class="function"><span class="keyword">function</span>(<span class="params">a, curve, v3Array</span>)</span>&#123;</div><div class="line">            v3Array.push( curve.getPoints( a[<span class="number">9</span>]) );</div><div class="line">        &#125;);</div><div class="line">        <span class="keyword">return</span> v3Array.flat();</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// Glavin Points are random points used for camera pos</span></div><div class="line">    api.GlavinPoints2 = <span class="function">(<span class="params">count, origin, VULR, A1, A2 </span>) =&gt;</span> &#123;</div><div class="line">        count = count === <span class="literal">undefined</span> ? <span class="number">50</span> : count;</div><div class="line">        origin = origin === <span class="literal">undefined</span> ? <span class="keyword">new</span> THREE.Vector3() : origin;</div><div class="line">        VULR = VULR === <span class="literal">undefined</span> ? <span class="keyword">new</span> THREE.Vector2(<span class="number">0</span>, <span class="number">1</span>) : VULR; <span class="comment">// Max and min unit vector length</span></div><div class="line">        A1 = A1 === <span class="literal">undefined</span> ? <span class="keyword">new</span> THREE.Vector2(<span class="number">0</span>, <span class="number">360</span>) : A1;</div><div class="line">        A2 = A2 === <span class="literal">undefined</span> ? <span class="keyword">new</span> THREE.Vector2(<span class="number">-90</span>, <span class="number">90</span>) : A2;</div><div class="line">        <span class="keyword">const</span> v3Array = [];</div><div class="line">        <span class="keyword">let</span> i  = <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span>(i &lt; count)&#123;</div><div class="line">            <span class="comment">// random euler</span></div><div class="line">            <span class="keyword">const</span> e = <span class="keyword">new</span> THREE.Euler();</div><div class="line">            e.x = <span class="built_in">Math</span>.PI / <span class="number">180</span> * ( A1.x + ( A1.y - A1.x ) * THREE.MathUtils.seededRandom() );</div><div class="line">            e.y = <span class="built_in">Math</span>.PI / <span class="number">180</span> * ( A2.x + ( A2.y - A2.x ) * THREE.MathUtils.seededRandom() );</div><div class="line">            <span class="comment">// random unit length</span></div><div class="line">            <span class="keyword">const</span> ul = VULR.x + ( VULR.y - VULR.x ) * THREE.MathUtils.seededRandom();</div><div class="line">            <span class="comment">// v3 is a random dir and unit length from origin</span></div><div class="line">            <span class="keyword">const</span> v = origin.clone().add( <span class="keyword">new</span> THREE.Vector3( <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>).applyEuler(e).multiplyScalar(ul) )</div><div class="line">            v3Array.push(v);</div><div class="line">            i += <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> v3Array;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// ALPHA FUNCTIONS</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    api.getAlphaFunction = <span class="function">(<span class="params">opt</span>) =&gt;</span> &#123;</div><div class="line">        opt = opt || &#123;&#125;;</div><div class="line">        opt.type = opt.type || <span class="string">'curve2'</span>;</div><div class="line">        opt.clamp = opt.clamp === <span class="literal">undefined</span> ? <span class="literal">true</span> : opt.clamp;</div><div class="line">        opt.ac_points = opt.ac_points || DEFAULT_AC_POINTS;</div><div class="line">        <span class="comment">// the main get alpha method</span></div><div class="line">        <span class="keyword">const</span> main_alpha_func = <span class="function"><span class="keyword">function</span>(<span class="params">a, b, c</span>)</span>&#123;</div><div class="line">            <span class="comment">// create the alpha function to use, defaults to NOOP</span></div><div class="line">            <span class="keyword">let</span> alphaFunc = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</div><div class="line">            <span class="comment">// if type of opt.type is a string, assume this is a key for a built in type</span></div><div class="line">            <span class="keyword">if</span>(<span class="keyword">typeof</span> opt.type === <span class="string">'string'</span>)&#123;</div><div class="line">                alphaFunc = ALPHA_FUNCTIONS[ opt.type ](main_alpha_func.opt);</div><div class="line">            &#125;</div><div class="line">            <span class="comment">// if type is a function, assume that this is a custom get alpha method to use</span></div><div class="line">            <span class="keyword">if</span>(<span class="keyword">typeof</span> opt.type === <span class="string">'function'</span>)&#123;</div><div class="line">                alphaFunc = opt.type(main_alpha_func.opt);</div><div class="line">            &#125;</div><div class="line">            <span class="comment">// the alpha value defualts to 0</span></div><div class="line">            <span class="keyword">let</span> a1 = <span class="number">0</span>;</div><div class="line">            <span class="comment">// 1 arg : a is an alpha value</span></div><div class="line">            <span class="keyword">if</span>(<span class="built_in">arguments</span>.length === <span class="number">1</span>)&#123;</div><div class="line">                a1 = alphaFunc(a);</div><div class="line">            &#125;</div><div class="line">            <span class="comment">// 2 arg : a is an alpha value, and b is a count</span></div><div class="line">            <span class="keyword">if</span>(<span class="built_in">arguments</span>.length === <span class="number">2</span>)&#123;</div><div class="line">                a1 = alphaFunc(a * b % <span class="number">1</span>);</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span>(<span class="built_in">arguments</span>.length &gt; <span class="number">2</span>)&#123;</div><div class="line">            <span class="comment">// 3+ arg : a is a numerator, b is a denomanator, and c is a count</span></div><div class="line">               a1 = alphaFunc(a / b * c % <span class="number">1</span>);</div><div class="line">            &#125;</div><div class="line">            <span class="comment">// clamp?</span></div><div class="line">            <span class="keyword">if</span>(opt.clamp)&#123;</div><div class="line">                a1 = THREE.MathUtils.clamp(a1, <span class="number">0</span>, <span class="number">0.9999999999</span>);</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> a1;</div><div class="line">        &#125;;</div><div class="line">        <span class="comment">// making the opt object a pubic property of the main alpha function</span></div><div class="line">        main_alpha_func.opt = opt;</div><div class="line">        <span class="comment">// return the main alpha function that will be called in the project that uses this</span></div><div class="line">        <span class="keyword">return</span> main_alpha_func;</div><div class="line">    &#125;;</div><div class="line">    api.getAlpha = <span class="function">(<span class="params">type, a, b, c, opt</span>) =&gt;</span> &#123;</div><div class="line">        opt = opt || &#123;&#125;;</div><div class="line">        opt.type = type;</div><div class="line">        <span class="keyword">const</span> alphaFunc = api.getAlphaFunction(opt);</div><div class="line">        <span class="keyword">if</span>(c === <span class="literal">undefined</span>)&#123;</div><div class="line">            b = b === <span class="literal">undefined</span> ? <span class="number">1</span> : b;</div><div class="line">            <span class="keyword">return</span> alphaFunc(a, b);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> alphaFunc(a, b, c);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// DEBUG HELPERS</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// debug points</span></div><div class="line">    api.debugPointsArray = <span class="function">(<span class="params"> arrays, opt </span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> v3Array = arrays.flat();</div><div class="line">        <span class="keyword">return</span> createDebugPoints(v3Array, opt);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// debug points for a curve</span></div><div class="line">    api.debugPointsCurve = <span class="function">(<span class="params"> curve, opt </span>) =&gt;</span> &#123;</div><div class="line">        opt = opt || &#123;&#125;;</div><div class="line">        opt.count = opt.count === <span class="literal">undefined</span> ? <span class="number">100</span> : opt.count;</div><div class="line">        opt.getAlpha = opt.getAlpha || <span class="function"><span class="keyword">function</span>(<span class="params">alpha</span>)</span>&#123; <span class="keyword">return</span> alpha; &#125;;</div><div class="line">        <span class="keyword">const</span> v3Array = [];</div><div class="line">        <span class="keyword">let</span> i = <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span>(i &lt; opt.count)&#123;</div><div class="line">            v3Array.push( curve.getPoint( opt.getAlpha(i / opt.count ) ) );</div><div class="line">            i += <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> createDebugPoints(v3Array, opt);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// debug and alpha function</span></div><div class="line">    api.debugAlphaFunction = <span class="function">(<span class="params">alphaFunc, opt</span>) =&gt;</span> &#123;</div><div class="line">        opt = opt || &#123;&#125;;</div><div class="line">        opt.count = opt.count === <span class="literal">undefined</span> ? <span class="number">100</span> : opt.count;</div><div class="line">        opt.sx = opt.sx === <span class="literal">undefined</span> ? <span class="number">-5</span> : opt.sx;</div><div class="line">        opt.sz = opt.sz === <span class="literal">undefined</span> ? <span class="number">5</span> : opt.sz;</div><div class="line">        opt.w = opt.w === <span class="literal">undefined</span> ? <span class="number">10</span> : opt.w;</div><div class="line">        opt.h = opt.h === <span class="literal">undefined</span> ? <span class="number">-10</span> : opt.h;</div><div class="line">        <span class="keyword">const</span> v3Array = [];</div><div class="line">        <span class="keyword">let</span> i = <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span>(i &lt; opt.count)&#123;</div><div class="line">            <span class="keyword">const</span> a1 = i / opt.count;</div><div class="line">            <span class="keyword">const</span> x = opt.sx + a1 * opt.w;</div><div class="line">            <span class="keyword">const</span> z = opt.sz + alphaFunc(a1) * opt.h;</div><div class="line">            v3Array.push( <span class="keyword">new</span> THREE.Vector3( x, <span class="number">0</span> , z) );</div><div class="line">            i += <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> createDebugPoints(v3Array, opt);</div><div class="line">    &#125;;</div><div class="line">&#125;(<span class="keyword">this</span>[<span class="string">'curveMod'</span>] = &#123;&#125; ));</div></pre></td></tr></table></figure>
<h3 id="1-1-Debug-Alpha-Function-demo"><a href="#1-1-Debug-Alpha-Function-demo" class="headerlink" title="1.1 - Debug Alpha Function demo"></a>1.1 - Debug Alpha Function demo</h3><p>I have this built in debug alpha function that can be used to create a nice standard way of seeing what the deal is with a given alpha function. This is again something that I started in the first version of the curve module, however now I have a lot more built in get alpha functions to choose from. Also on top of this I can also define new ones as needed that I may or may not bake into additional future revisions of the module if need be.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">scene.add( <span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>) );</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">640</span> / <span class="number">480</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line">camera.position.set(<span class="number">-8</span>, <span class="number">8</span>, <span class="number">8</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">( <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body ).appendChild(renderer.domElement);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// CURVE ALPHA FUNCTION</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> ac_points = [</div><div class="line">    <span class="number">0.00</span>,     <span class="number">0.5</span>,</div><div class="line">    <span class="number">1.00</span>,     <span class="number">0.25</span>,</div><div class="line">    <span class="number">0.50</span>,     <span class="number">-0.5</span>,</div><div class="line">    <span class="number">0.1</span></div><div class="line">];</div><div class="line"><span class="keyword">const</span> curveAlpha = curveMod.getAlphaFunction(&#123;</div><div class="line">    <span class="attr">type</span>: <span class="string">'curve2'</span>,</div><div class="line">    <span class="attr">ac_points</span>: ac_points</div><div class="line">&#125;);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// DEBUG ALPHA FUNC</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> points = curveMod.debugAlphaFunction(curveAlpha, &#123; &#125;);</div><div class="line">scene.add(points);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// MESH</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> mesh = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">    <span class="keyword">new</span> THREE.SphereGeometry(<span class="number">0.5</span>, <span class="number">30</span>, <span class="number">30</span>),</div><div class="line">    <span class="keyword">new</span> THREE.MeshNormalMaterial()</div><div class="line">);</div><div class="line">scene.add(mesh);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// ANIMATION LOOP</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> FPS_UPDATE = <span class="number">30</span>, <span class="comment">// fps rate to update ( low fps for low CPU use, but choppy video )</span></div><div class="line">FPS_MOVEMENT = <span class="number">30</span>;     <span class="comment">// fps rate to move object by that is independent of frame update rate</span></div><div class="line">FRAME_MAX = <span class="number">180</span>;</div><div class="line"><span class="keyword">let</span> secs = <span class="number">0</span>,</div><div class="line">frame = <span class="number">0</span>,</div><div class="line">lt = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line"><span class="comment">// update</span></div><div class="line"><span class="keyword">const</span> update = <span class="function"><span class="keyword">function</span>(<span class="params">frame, frameMax</span>)</span>&#123;</div><div class="line">     <span class="keyword">const</span> a1 = frame / frameMax;</div><div class="line">     <span class="keyword">const</span> a2 = curveAlpha(a1);</div><div class="line">     mesh.position.x = <span class="number">-5</span> + <span class="number">10</span> * a1;</div><div class="line">     mesh.position.z = <span class="number">5</span> - <span class="number">10</span> * a2;</div><div class="line">&#125;;</div><div class="line"><span class="comment">// loop</span></div><div class="line"><span class="keyword">const</span> loop = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">    secs = (now - lt) / <span class="number">1000</span>;</div><div class="line">    requestAnimationFrame(loop);</div><div class="line">    <span class="keyword">if</span>(secs &gt; <span class="number">1</span> / FPS_UPDATE)&#123;</div><div class="line">        <span class="comment">// update, render</span></div><div class="line">        update( <span class="built_in">Math</span>.floor(frame), FRAME_MAX);</div><div class="line">        renderer.render(scene, camera);</div><div class="line">        <span class="comment">// step frame</span></div><div class="line">        frame += FPS_MOVEMENT * secs;</div><div class="line">        frame %= FRAME_MAX;</div><div class="line">        lt = now;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">loop();</div></pre></td></tr></table></figure>
<h3 id="1-1-Update-Alpha-functions-over-time"><a href="#1-1-Update-Alpha-functions-over-time" class="headerlink" title="1.1 - Update Alpha functions over time"></a>1.1 - Update Alpha functions over time</h3><p>I am not sure if I will need or want to do so often, but I can tweak the values use for the get alpha functions over time by making the options object that is used a public property of the function that is returned.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">scene.add( <span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>) );</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">640</span> / <span class="number">480</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line">camera.position.set(<span class="number">-8</span>, <span class="number">8</span>, <span class="number">8</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">( <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body ).appendChild(renderer.domElement);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// ALPHA FUNCTION</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> alphaFunc = curveMod.getAlphaFunction(&#123;</div><div class="line">    <span class="attr">type</span>: <span class="string">'mapLinear'</span>,</div><div class="line">    <span class="attr">ac_points</span>: [ <span class="number">0.00</span>, <span class="number">0.5</span>]</div><div class="line">&#125;);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// MESH</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> mesh = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">    <span class="keyword">new</span> THREE.SphereGeometry(<span class="number">0.5</span>, <span class="number">30</span>, <span class="number">30</span>),</div><div class="line">    <span class="keyword">new</span> THREE.MeshNormalMaterial()</div><div class="line">);</div><div class="line">scene.add(mesh);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// ANIMATION LOOP</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> FPS_UPDATE = <span class="number">30</span>, <span class="comment">// fps rate to update ( low fps for low CPU use, but choppy video )</span></div><div class="line">FPS_MOVEMENT = <span class="number">30</span>;     <span class="comment">// fps rate to move object by that is independent of frame update rate</span></div><div class="line">FRAME_MAX = <span class="number">180</span>;</div><div class="line"><span class="keyword">let</span> secs = <span class="number">0</span>,</div><div class="line">frame = <span class="number">0</span>,</div><div class="line">lt = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line"><span class="comment">// update</span></div><div class="line"><span class="keyword">const</span> update = <span class="function"><span class="keyword">function</span>(<span class="params">frame, frameMax</span>)</span>&#123;</div><div class="line">     <span class="keyword">const</span> a1 = frame / frameMax;</div><div class="line">     <span class="keyword">const</span> a2 = alphaFunc(a1);</div><div class="line">     mesh.position.x = <span class="number">-5</span> + <span class="number">10</span> * a1;</div><div class="line">     mesh.position.z = <span class="number">5</span> - <span class="number">10</span> * a2;</div><div class="line">     <span class="comment">// CAN USE THE opt PROPERY of the alpha function to adjust things over time</span></div><div class="line">     <span class="keyword">const</span> a3 = curveMod.getAlpha(<span class="string">'bias'</span>, frame, frameMax, <span class="number">20</span>);</div><div class="line">     alphaFunc.opt.ac_points[<span class="number">0</span>] = a3;</div><div class="line">     alphaFunc.opt.ac_points[<span class="number">1</span>] = <span class="number">1</span> - a1;</div><div class="line">&#125;;</div><div class="line"><span class="comment">// loop</span></div><div class="line"><span class="keyword">const</span> loop = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">    secs = (now - lt) / <span class="number">1000</span>;</div><div class="line">    requestAnimationFrame(loop);</div><div class="line">    <span class="keyword">if</span>(secs &gt; <span class="number">1</span> / FPS_UPDATE)&#123;</div><div class="line">        <span class="comment">// update, render</span></div><div class="line">        update( <span class="built_in">Math</span>.floor(frame), FRAME_MAX);</div><div class="line">        renderer.render(scene, camera);</div><div class="line">        <span class="comment">// step frame</span></div><div class="line">        frame += FPS_MOVEMENT * secs;</div><div class="line">        frame %= FRAME_MAX;</div><div class="line">        lt = now;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">loop();</div></pre></td></tr></table></figure>
<h3 id="1-2-Custom-Get-Alpha-funcitons"><a href="#1-2-Custom-Get-Alpha-funcitons" class="headerlink" title="1.2 - Custom Get Alpha funcitons"></a>1.2 - Custom Get Alpha funcitons</h3><p>Many of the built in get alpha functions are options that I will often use, but there will be times now and then where I might want to create a custom function real quick. So one change that I made in this revision is to make it so that I can pass a function rather than a string for the type option when calling the get alpha function method. I am sure that I will be using this curve module over and over again from one project to the next, so I will want to have this feature as a way to add other get alpha functions as needed. In time if I find myself using the same custom get alpha functions over and over again I can add them to the collection of baked in methods for creating this kind of method.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">scene.add( <span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>) );</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">640</span> / <span class="number">480</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line">camera.position.set(<span class="number">-8</span>, <span class="number">8</span>, <span class="number">8</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">( <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body ).appendChild(renderer.domElement);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// ALPHA FUNCTION</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> alphaFunc = curveMod.getAlphaFunction(&#123;</div><div class="line">    <span class="attr">type</span>: <span class="function"><span class="keyword">function</span>(<span class="params">opt</span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">alpha</span>)</span>&#123;</div><div class="line">             <span class="keyword">const</span> i = <span class="built_in">Math</span>.floor( alpha * opt.ac_points.length );</div><div class="line">             <span class="keyword">const</span> n1 = opt.ac_points[i];</div><div class="line">             <span class="keyword">return</span> n1</div><div class="line">        &#125;</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">ac_points</span>: [ <span class="number">0.00</span>, <span class="number">0.125</span>, <span class="number">0.25</span>, <span class="number">0.125</span>, <span class="number">0.2</span>, <span class="number">0.3</span>, <span class="number">0.5</span>, <span class="number">0.6</span>, <span class="number">0.75</span>, <span class="number">1</span>]</div><div class="line">&#125;);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// MESH</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> mesh = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">    <span class="keyword">new</span> THREE.SphereGeometry(<span class="number">0.5</span>, <span class="number">30</span>, <span class="number">30</span>),</div><div class="line">    <span class="keyword">new</span> THREE.MeshNormalMaterial()</div><div class="line">);</div><div class="line">scene.add(mesh);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// ANIMATION LOOP</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> FPS_UPDATE = <span class="number">30</span>, <span class="comment">// fps rate to update ( low fps for low CPU use, but choppy video )</span></div><div class="line">FPS_MOVEMENT = <span class="number">30</span>;     <span class="comment">// fps rate to move object by that is independent of frame update rate</span></div><div class="line">FRAME_MAX = <span class="number">180</span>;</div><div class="line"><span class="keyword">let</span> secs = <span class="number">0</span>,</div><div class="line">frame = <span class="number">0</span>,</div><div class="line">lt = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line"><span class="comment">// update</span></div><div class="line"><span class="keyword">const</span> update = <span class="function"><span class="keyword">function</span>(<span class="params">frame, frameMax</span>)</span>&#123;</div><div class="line">     <span class="keyword">const</span> a1 = frame / frameMax;</div><div class="line">     <span class="keyword">const</span> a2 = alphaFunc(a1);</div><div class="line">     mesh.position.x = <span class="number">-5</span> + <span class="number">10</span> * a1;</div><div class="line">     mesh.position.z = <span class="number">5</span> - <span class="number">10</span> * a2;</div><div class="line">&#125;;</div><div class="line"><span class="comment">// loop</span></div><div class="line"><span class="keyword">const</span> loop = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">    secs = (now - lt) / <span class="number">1000</span>;</div><div class="line">    requestAnimationFrame(loop);</div><div class="line">    <span class="keyword">if</span>(secs &gt; <span class="number">1</span> / FPS_UPDATE)&#123;</div><div class="line">        <span class="comment">// update, render</span></div><div class="line">        update( <span class="built_in">Math</span>.floor(frame), FRAME_MAX);</div><div class="line">        renderer.render(scene, camera);</div><div class="line">        <span class="comment">// step frame</span></div><div class="line">        frame += FPS_MOVEMENT * secs;</div><div class="line">        frame %= FRAME_MAX;</div><div class="line">        lt = now;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">loop();</div></pre></td></tr></table></figure>
<h2 id="2-The-First-curves-module-R0-and-demos"><a href="#2-The-First-curves-module-R0-and-demos" class="headerlink" title="2 - The First curves module R0, and demos"></a>2 - The First curves module R0, and demos</h2><p>There is going over the source code of the curve module itself, and then there is going over the source code of at least a few demos of the module as well. In this section I will be doing just that with the very first version of the curve module, and if I do end up using this often I am sure there will be addition revisions. In any case in this revision of the module the focus was to just have some basic tools for quickly creating curve objects using the threejs built in THREE.QuadraticBezierCurve3 class which is a great way to create curves using a start point, end point, and a single controls point all of which are instances of the Vector3 class. There are methods of the curve module that will return a curve, curve path, and also arrays of Vecotr3 objects that I can then quickly use with other projects that I have outside of this one.</p>
<p>On top of just some methods that will create and return curves and arrays of vector3 objects i also started a method that I can use to create and return an alpha function based on curve data. This is another major use case of curves that came to mind for me beyond just that of defining paths in s3 space. What I mean by an alpha function is something like the THREE.MathUtils.smoothstep function, and if you are not in the know with that, simply put a function that can be used to return a value between 0 and 1. You see there is not just defining a path in space, but also defining the spacing between points along a curve as well if that makes any sense and that is one use case for one of these alpha functions.</p>
<p>I am sure that there will be nay more method and features that I will want to ad to this kind of module actually, but much of that is what I will want to leave for future revisions.</p>
<h3 id="The-source-code-of-curves-js-R0"><a href="#The-source-code-of-curves-js-R0" class="headerlink" title="The source code of curves.js R0"></a>The source code of curves.js R0</h3><p>Here then is the source code for R0 of my curves tools that I have worked out thus far. At the very top of the module I have thus far just two private helper functions. One of these is a for path data helper function that I use for two methods that create and return a collection by a given array of arrays of data for arguments to be passed to the THREE.QuadraticBezierCurve3 function. By collection I mean one of two things, an array of Vector3 objects, or a curve path. The other helper function will create and return a curve that will be used for one of my functions that will return an alpha function.</p>
<p>I then have a number of methods that will return a something that is based off the the base curve class such as a Quadratic Bezier Curve, or a curve path. There is the QBC3 method that is just an abstraction for the Quadratic Bezer Curve class. Then I have another method that is a little more than just that that I find useful by defining the control points as deltas from a point in the middle of the curve. I then also have another number of methods that are like these methods buy will return an array of vector3 objects rather than a curve.</p>
<p>I then also have some methods that are a starting point for this idea of using curves to create alpha values, and then a number of methods that help me to debug things by getting a visual idea of what is going on using points and lines.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// curve.js - r0 - from threejs-examples-curves-module</span></div><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">api</span>)</span>&#123;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// HELPERS</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// for path data helper used by QBCurvePath and QBV3Array</span></div><div class="line">    <span class="keyword">const</span> forPathData = <span class="function">(<span class="params">data, collection, forCurve</span>) =&gt;</span> &#123;</div><div class="line">        collection = collection || <span class="keyword">new</span> THREE.CurvePath();</div><div class="line">        forCurve = forCurve || <span class="function"><span class="keyword">function</span>(<span class="params">a, curve, curvePath, data</span>)</span>&#123;</div><div class="line">            curvePath.add(curve);</div><div class="line">        &#125;;</div><div class="line">        data.forEach( <span class="function">(<span class="params"> a </span>) =&gt;</span> &#123;</div><div class="line">            <span class="keyword">const</span> curve = api.QBDelta.apply(<span class="literal">null</span>, a.slice(<span class="number">0</span>, a.length - <span class="number">1</span>));</div><div class="line">            forCurve(a, curve, collection, data);</div><div class="line">        &#125;);</div><div class="line">        <span class="keyword">return</span> collection;</div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">const</span> createAlphaCurve = <span class="function">(<span class="params">grc_points</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">let</span> i = <span class="number">0</span>, len = grc_points.length;</div><div class="line">        <span class="keyword">const</span> data = [];</div><div class="line">        <span class="keyword">while</span>(i &lt; len - <span class="number">1</span>)&#123;</div><div class="line">            <span class="keyword">const</span> s = grc_points[i];</div><div class="line">            <span class="keyword">const</span> e = grc_points[i + <span class="number">1</span>];</div><div class="line">            data.push([ <span class="number">0</span>, s[<span class="number">0</span>], <span class="number">0</span>,   <span class="number">0</span>, e[<span class="number">0</span>], <span class="number">0</span>,   <span class="number">0</span>, s[<span class="number">1</span>], <span class="number">0</span> ]);</div><div class="line">            i += <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> curveMod.QBCurvePath(data);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// RETURN CURVE</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// just a short hand for THREE.QuadraticBezierCurve3</span></div><div class="line">    api.QBC3 = <span class="function"><span class="keyword">function</span>(<span class="params">x1, y1, z1, x2, y2, z2, x3, y3, z3</span>)</span>&#123;</div><div class="line">        <span class="keyword">let</span> vs = x1;</div><div class="line">        <span class="keyword">let</span> ve = y1;</div><div class="line">        <span class="keyword">let</span> vc = z1;</div><div class="line">        <span class="keyword">if</span>(<span class="built_in">arguments</span>.length === <span class="number">9</span>)&#123;</div><div class="line">            vs = <span class="keyword">new</span> THREE.Vector3(x1, y1, z1);</div><div class="line">            ve = <span class="keyword">new</span> THREE.Vector3(x2, y2, z2);</div><div class="line">            vc = <span class="keyword">new</span> THREE.Vector3(x3, y3, z3);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> THREE.QuadraticBezierCurve3( vs, vc, ve );</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// QBDelta helper using QBC3</span></div><div class="line">    <span class="comment">// this works by giving deltas from the point that is half way between</span></div><div class="line">    <span class="comment">// the two start and end points rather than a direct control point for x3, y3, and x3</span></div><div class="line">    api.QBDelta = <span class="function"><span class="keyword">function</span>(<span class="params">x1, y1, z1, x2, y2, z2, x3, y3, z3</span>) </span>&#123;</div><div class="line">        <span class="keyword">const</span> vs = <span class="keyword">new</span> THREE.Vector3(x1, y1, z1);</div><div class="line">        <span class="keyword">const</span> ve = <span class="keyword">new</span> THREE.Vector3(x2, y2, z2);</div><div class="line">        <span class="comment">// deltas</span></div><div class="line">        <span class="keyword">const</span> vDelta = <span class="keyword">new</span> THREE.Vector3(x3, y3, z3);</div><div class="line">        <span class="keyword">const</span> vc = vs.clone().lerp(ve, <span class="number">0.5</span>).add(vDelta);</div><div class="line">        <span class="keyword">const</span> curve = api.QBC3(vs, ve, vc);</div><div class="line">        <span class="keyword">return</span> curve;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// return a path curve by just calling the for path data helper with default options</span></div><div class="line">    api.QBCurvePath = <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> forPathData(data);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// RETURN V3ARRAY</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// QBV3Array</span></div><div class="line">    api.QBV3Array = <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</div><div class="line">        <span class="keyword">const</span> v3Array = [];</div><div class="line">        forPathData(data, v3Array, <span class="function"><span class="keyword">function</span>(<span class="params">a, curve, v3Array</span>)</span>&#123;</div><div class="line">            v3Array.push( curve.getPoints( a[<span class="number">9</span>]) );</div><div class="line">        &#125;);</div><div class="line">        <span class="keyword">return</span> v3Array.flat();</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// Glavin Points are random points used for camera pos</span></div><div class="line">    api.GlavinPoints2 = <span class="function">(<span class="params">count, origin, VULR, A1, A2 </span>) =&gt;</span> &#123;</div><div class="line">        count = count === <span class="literal">undefined</span> ? <span class="number">50</span> : count;</div><div class="line">        origin = origin === <span class="literal">undefined</span> ? <span class="keyword">new</span> THREE.Vector3() : origin;</div><div class="line">        VULR = VULR === <span class="literal">undefined</span> ? <span class="keyword">new</span> THREE.Vector2(<span class="number">0</span>, <span class="number">1</span>) : VULR; <span class="comment">// Max and min unit vector length</span></div><div class="line">        A1 = A1 === <span class="literal">undefined</span> ? <span class="keyword">new</span> THREE.Vector2(<span class="number">0</span>, <span class="number">360</span>) : A1;</div><div class="line">        A2 = A2 === <span class="literal">undefined</span> ? <span class="keyword">new</span> THREE.Vector2(<span class="number">-90</span>, <span class="number">90</span>) : A2;</div><div class="line">        <span class="keyword">const</span> v3Array = [];</div><div class="line">        <span class="keyword">let</span> i  = <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span>(i &lt; count)&#123;</div><div class="line">            <span class="comment">// random euler</span></div><div class="line">            <span class="keyword">const</span> e = <span class="keyword">new</span> THREE.Euler();</div><div class="line">            e.x = <span class="built_in">Math</span>.PI / <span class="number">180</span> * ( A1.x + ( A1.y - A1.x ) * THREE.MathUtils.seededRandom() );</div><div class="line">            e.y = <span class="built_in">Math</span>.PI / <span class="number">180</span> * ( A2.x + ( A2.y - A2.x ) * THREE.MathUtils.seededRandom() );</div><div class="line">            <span class="comment">// random unit length</span></div><div class="line">            <span class="keyword">const</span> ul = VULR.x + ( VULR.y - VULR.x ) * THREE.MathUtils.seededRandom();</div><div class="line">            <span class="comment">// v3 is a random dir and unit length from origin</span></div><div class="line">            <span class="keyword">const</span> v = origin.clone().add( <span class="keyword">new</span> THREE.Vector3( <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>).applyEuler(e).multiplyScalar(ul) )</div><div class="line">            v3Array.push(v);</div><div class="line">            i += <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> v3Array;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// ALPHA FUNCTION</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    api.createAlphaFunciton1 = <span class="function">(<span class="params"> grc_points, clamp </span>) =&gt;</span> &#123;</div><div class="line">        clamp = clamp === <span class="literal">undefined</span> ? <span class="literal">true</span> : clamp;</div><div class="line">        <span class="keyword">const</span> curve = createAlphaCurve(grc_points);</div><div class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">givenAlpha</span>)</span>&#123;</div><div class="line">            <span class="keyword">let</span> a = curve.getPoint(givenAlpha).y;</div><div class="line">            <span class="keyword">if</span>(clamp)&#123;</div><div class="line">                a = THREE.MathUtils.clamp(a, <span class="number">0</span>, <span class="number">1</span>);</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> a;</div><div class="line">        &#125;;</div><div class="line">    &#125;;</div><div class="line">    api.createAlphaFunciton2 = <span class="function">(<span class="params"> grc_points, clamp </span>) =&gt;</span> &#123;</div><div class="line">        clamp = clamp === <span class="literal">undefined</span> ? <span class="literal">true</span> : clamp;</div><div class="line">        <span class="comment">// use each path by itself</span></div><div class="line">        <span class="keyword">const</span> cp = createAlphaCurve(grc_points);</div><div class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">alpha</span>)</span>&#123;</div><div class="line">            alpha = alpha === <span class="number">1</span> ? <span class="number">0.9999999999</span> : alpha;</div><div class="line">            <span class="keyword">const</span> cLen = cp.curves.length;</div><div class="line">            <span class="keyword">const</span> curveIndex = <span class="built_in">Math</span>.floor( cLen * alpha);</div><div class="line">            <span class="keyword">const</span> cc = cp.curves[ curveIndex];</div><div class="line">            <span class="keyword">const</span> a_cc = alpha %  ( <span class="number">1</span> / cLen ) * ( cLen );</div><div class="line">            <span class="keyword">const</span> v3 = cc.getPoint( a_cc );</div><div class="line">            <span class="keyword">let</span> a = v3.y;</div><div class="line">            <span class="keyword">if</span>(clamp)&#123;</div><div class="line">                a = THREE.MathUtils.clamp(a, <span class="number">0</span>, <span class="number">0.9999999999</span>);</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> a;</div><div class="line">        &#125;;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// DEBUG HELPERS</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// debug lines</span></div><div class="line">    api.debugLines = <span class="function">(<span class="params"> arrays </span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> line_debug = <span class="keyword">new</span> THREE.Line(</div><div class="line">            <span class="keyword">new</span> THREE.BufferGeometry().setFromPoints(arrays.flat()),</div><div class="line">            <span class="keyword">new</span> THREE.LineBasicMaterial(&#123; <span class="attr">transparent</span>: <span class="literal">true</span>, <span class="attr">opacity</span>: <span class="number">0.3</span>&#125;)</div><div class="line">        );</div><div class="line">        <span class="keyword">return</span> line_debug;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// debug points</span></div><div class="line">    api.debugPoints = <span class="function">(<span class="params"> arrays </span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> points_debug = <span class="keyword">new</span> THREE.Points(</div><div class="line">            <span class="keyword">new</span> THREE.BufferGeometry().setFromPoints(arrays.flat()),</div><div class="line">            <span class="keyword">new</span> THREE.PointsMaterial(&#123; <span class="attr">size</span>: <span class="number">0.25</span>, <span class="attr">color</span>: <span class="keyword">new</span> THREE.Color(<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>)&#125;)</div><div class="line">        );</div><div class="line">        <span class="keyword">return</span> points_debug;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// debug points for a curve</span></div><div class="line">    api.debugPointsCurve = <span class="function">(<span class="params"> curve, opt </span>) =&gt;</span> &#123;</div><div class="line">        opt = opt || &#123;&#125;;</div><div class="line">        opt.count = opt.count === <span class="literal">undefined</span> ? <span class="number">100</span> : opt.count;</div><div class="line">        opt.getAlpha = opt.getAlpha || <span class="function"><span class="keyword">function</span>(<span class="params">alpha</span>)</span>&#123; <span class="keyword">return</span> alpha; &#125;;</div><div class="line">        opt.size = opt.size === <span class="literal">undefined</span> ? <span class="number">0.2</span> : opt.size;</div><div class="line">        opt.color = opt.color === <span class="literal">undefined</span> ? <span class="keyword">new</span> THREE.Color(<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>) : opt.color;</div><div class="line">        <span class="keyword">const</span> v3Array = [];</div><div class="line">        <span class="keyword">let</span> i = <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span>(i &lt; opt.count)&#123;</div><div class="line">            v3Array.push( curve.getPoint( opt.getAlpha(i / opt.count ) ) );</div><div class="line">            i += <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">const</span> points_debug = <span class="keyword">new</span> THREE.Points(</div><div class="line">            <span class="keyword">new</span> THREE.BufferGeometry().setFromPoints(v3Array),</div><div class="line">            <span class="keyword">new</span> THREE.PointsMaterial(&#123; <span class="attr">size</span>: opt.size, <span class="attr">color</span>: opt.color&#125;)</div><div class="line">        );</div><div class="line">        <span class="keyword">return</span> points_debug;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// debug and alpha function</span></div><div class="line">    api.debugAlphaFunction = <span class="function">(<span class="params">alphaFunc, opt</span>) =&gt;</span> &#123;</div><div class="line">        opt = opt || &#123;&#125;;</div><div class="line">        opt.count = opt.count === <span class="literal">undefined</span> ? <span class="number">200</span> : opt.count;</div><div class="line">        opt.sx = opt.sx === <span class="literal">undefined</span> ? <span class="number">-5</span> : opt.sx;</div><div class="line">        opt.sz = opt.sz === <span class="literal">undefined</span> ? <span class="number">5</span> : opt.sz;</div><div class="line">        opt.w = opt.w === <span class="literal">undefined</span> ? <span class="number">10</span> : opt.w;</div><div class="line">        opt.h = opt.h === <span class="literal">undefined</span> ? <span class="number">-10</span> : opt.h;</div><div class="line">        opt.size = opt.size === <span class="literal">undefined</span> ? <span class="number">0.2</span> : opt.size;</div><div class="line">        opt.color = opt.color === <span class="literal">undefined</span> ? <span class="keyword">new</span> THREE.Color(<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>) : opt.color;</div><div class="line">        <span class="keyword">const</span> v3Array = [];</div><div class="line">        <span class="keyword">let</span> i = <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span>(i &lt; opt.count)&#123;</div><div class="line">            <span class="keyword">const</span> a1 = i / opt.count;</div><div class="line">            <span class="keyword">const</span> x = opt.sx + a1 * opt.w;</div><div class="line">            <span class="keyword">const</span> z = opt.sz + alphaFunc(a1) * opt.h;</div><div class="line">            v3Array.push( <span class="keyword">new</span> THREE.Vector3( x, <span class="number">0</span> , z) );</div><div class="line">            i += <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">const</span> points = <span class="keyword">new</span> THREE.Points(</div><div class="line">            <span class="keyword">new</span> THREE.BufferGeometry().setFromPoints( v3Array ),</div><div class="line">            <span class="keyword">new</span> THREE.PointsMaterial(&#123; <span class="attr">size</span>: opt.size, <span class="attr">color</span>: opt.color&#125;)</div><div class="line">        );</div><div class="line">        <span class="keyword">return</span> points;</div><div class="line">    &#125;;</div><div class="line">&#125;(<span class="keyword">this</span>[<span class="string">'curveMod'</span>] = &#123;&#125; ));</div></pre></td></tr></table></figure>
<h3 id="2-1-Create-and-return-an-array-of-Vector3-objects"><a href="#2-1-Create-and-return-an-array-of-Vector3-objects" class="headerlink" title="2.1 - Create and return an array of Vector3 objects"></a>2.1 - Create and return an array of Vector3 objects</h3><p>Often what it is that I will want is not a Curve, but an array of vector3 objects of points along a curve. So I have a method that will take an object that contains an array of arrays of data and split out an array of vector3 objects. Also I have a method backed into the module thus far that is something that I made while working on my fink series of beta world videos. That is that I have an array of points that follow a curve, and then all of a sudden the path becomes just a bunch of random points moving around all over the place. This kind of motion can often prove to be a little useful in some projects in which I want that kind of camera movement.</p>
<iframe class="youtube_video" src="https://www.youtube.com/embed/67j1q73byqc" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>


<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">scene.add( <span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>) );</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">640</span> / <span class="number">480</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line">camera.position.set(<span class="number">-8</span>, <span class="number">8</span>, <span class="number">8</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">( <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body ).appendChild(renderer.domElement);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// CONTROLS</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">try</span>&#123;</div><div class="line">    <span class="keyword">const</span> controls = <span class="keyword">new</span> THREE.OrbitControls(camera, renderer.domElement);</div><div class="line">&#125;<span class="keyword">catch</span>(e)&#123;</div><div class="line">    <span class="built_in">console</span>.warn(<span class="string">'OrbitControls JSM module not loaded.'</span>);</div><div class="line">&#125;</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// CAMERA PATHS</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> v3Arrays_meshpos = [ </div><div class="line">    curveMod.QBV3Array([</div><div class="line">        [<span class="number">5</span>, <span class="number">0</span>, <span class="number">5</span>, <span class="number">-5</span>, <span class="number">0</span>, <span class="number">-5</span>,    <span class="number">5</span>,<span class="number">0</span>,<span class="number">-5</span>,      <span class="number">100</span>]</div><div class="line">    ]),</div><div class="line">    curveMod.GlavinPoints2(</div><div class="line">        <span class="number">100</span>, <span class="comment">// number of points</span></div><div class="line">        <span class="keyword">new</span> THREE.Vector3(<span class="number">-5</span>, <span class="number">0</span>, <span class="number">-5</span>), <span class="comment">// origin</span></div><div class="line">        <span class="keyword">new</span> THREE.Vector2(<span class="number">0</span>, <span class="number">1</span>),      <span class="comment">// unit vector length range</span></div><div class="line">        <span class="keyword">new</span> THREE.Vector2(<span class="number">0</span>, <span class="number">360</span>),    <span class="comment">// a1</span></div><div class="line">        <span class="keyword">new</span> THREE.Vector2(<span class="number">-90</span>, <span class="number">90</span>)    <span class="comment">// a2</span></div><div class="line">    ),</div><div class="line">];</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// LINES AND POINTS</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line">scene.add(curveMod.debugLines(v3Arrays_meshpos) )</div><div class="line">scene.add(curveMod.debugPoints(v3Arrays_meshpos) )</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// MESH</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> mesh = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">    <span class="keyword">new</span> THREE.SphereGeometry(<span class="number">0.5</span>, <span class="number">30</span>, <span class="number">30</span>),</div><div class="line">    <span class="keyword">new</span> THREE.MeshNormalMaterial()</div><div class="line">);</div><div class="line">scene.add(mesh);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// ANIMATION LOOP</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> FPS_UPDATE = <span class="number">30</span>, <span class="comment">// fps rate to update ( low fps for low CPU use, but choppy video )</span></div><div class="line">FPS_MOVEMENT = <span class="number">30</span>;     <span class="comment">// fps rate to move object by that is independent of frame update rate</span></div><div class="line">FRAME_MAX = <span class="number">400</span>;</div><div class="line"><span class="keyword">let</span> secs = <span class="number">0</span>,</div><div class="line">frame = <span class="number">0</span>,</div><div class="line">lt = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line"><span class="comment">// update</span></div><div class="line"><span class="keyword">const</span> update = <span class="function"><span class="keyword">function</span>(<span class="params">frame, frameMax</span>)</span>&#123;</div><div class="line">     <span class="keyword">const</span> a1 = frame / frameMax;</div><div class="line">     <span class="keyword">const</span> arrayLen = v3Arrays_meshpos.length;</div><div class="line">     <span class="keyword">const</span> arrayIndex = <span class="built_in">Math</span>.floor( arrayLen * a1);</div><div class="line">     <span class="keyword">const</span> a2 = a1 - (<span class="number">1</span> / arrayLen * arrayIndex);</div><div class="line">     <span class="keyword">const</span> a3 = a2 / (<span class="number">1</span> / arrayLen);</div><div class="line">     <span class="keyword">const</span> v3Array = v3Arrays_meshpos[ arrayIndex ];</div><div class="line">     mesh.position.copy( v3Array[ <span class="built_in">Math</span>.floor( v3Array.length * a3 ) ] );</div><div class="line">&#125;;</div><div class="line"><span class="comment">// loop</span></div><div class="line"><span class="keyword">const</span> loop = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">    secs = (now - lt) / <span class="number">1000</span>;</div><div class="line">    requestAnimationFrame(loop);</div><div class="line">    <span class="keyword">if</span>(secs &gt; <span class="number">1</span> / FPS_UPDATE)&#123;</div><div class="line">        <span class="comment">// update, render</span></div><div class="line">        update( <span class="built_in">Math</span>.floor(frame), FRAME_MAX);</div><div class="line">        renderer.render(scene, camera);</div><div class="line">        <span class="comment">// step frame</span></div><div class="line">        frame += FPS_MOVEMENT * secs;</div><div class="line">        frame %= FRAME_MAX;</div><div class="line">        lt = now;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">loop();</div></pre></td></tr></table></figure>
<h3 id="2-2-The-Curve-path-module"><a href="#2-2-The-Curve-path-module" class="headerlink" title="2.2 - The Curve path module"></a>2.2 - The Curve path module</h3><p>I also have another method that is just like that of the one that will return an array of vector3 objects but will return a curve path. I can then use whatever alpha value I want when it comes to getting a point along that curve which is great. For this example thought I am not going to be doing anything fancy with that, and will save that for an additional example in this post.</p>
<p>So then here I am using QB Curve Path method and passing an array of arrays just like that of what I pass when using the method that will return an array of points. One major difference thus is that I do not pass the number of points that I want as I am getting a curve that can be used to get any number of points that I want depending on how I use the curve. I am then just computing some simple, basic alpha values that I often use in various video projects to get the alpha value that I use with the get point method.</p>
<p>The end result here is then a mesh object moving forward and then backward along the curve over the span of the animation here. The reason why though is because of the alpha value that I am giving the results in this kind of behavior. I will be getting more into this in additional demos of the module here, but for now there is just thinking in terms of what other kinds of expressions and methods there are to create these alpha values for the get point method.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">scene.add( <span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>) );</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">640</span> / <span class="number">480</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line">camera.position.set(<span class="number">-8</span>, <span class="number">8</span>, <span class="number">8</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">( <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body ).appendChild(renderer.domElement);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// CONTROLS</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">try</span>&#123;</div><div class="line">    <span class="keyword">const</span> controls = <span class="keyword">new</span> THREE.OrbitControls(camera, renderer.domElement);</div><div class="line">&#125;<span class="keyword">catch</span>(e)&#123;</div><div class="line">    <span class="built_in">console</span>.warn(<span class="string">'OrbitControls JSM module not loaded.'</span>);</div><div class="line">&#125;</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// CURVE PATH</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> cp_meshpos = curveMod.QBCurvePath([</div><div class="line">   [<span class="number">5</span>, <span class="number">0</span>, <span class="number">5</span>, <span class="number">-5</span>, <span class="number">0</span>, <span class="number">-5</span>,    <span class="number">5</span>,<span class="number">0</span>,<span class="number">-5</span>]</div><div class="line">]);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// MESH</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> mesh = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">    <span class="keyword">new</span> THREE.SphereGeometry(<span class="number">0.5</span>, <span class="number">30</span>, <span class="number">30</span>),</div><div class="line">    <span class="keyword">new</span> THREE.MeshNormalMaterial()</div><div class="line">);</div><div class="line">scene.add(mesh);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// ANIMATION LOOP</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> FPS_UPDATE = <span class="number">30</span>, <span class="comment">// fps rate to update ( low fps for low CPU use, but choppy video )</span></div><div class="line">FPS_MOVEMENT = <span class="number">30</span>;     <span class="comment">// fps rate to move object by that is independent of frame update rate</span></div><div class="line">FRAME_MAX = <span class="number">90</span>;</div><div class="line"><span class="keyword">let</span> secs = <span class="number">0</span>,</div><div class="line">frame = <span class="number">0</span>,</div><div class="line">lt = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line"><span class="comment">// update</span></div><div class="line"><span class="keyword">const</span> update = <span class="function"><span class="keyword">function</span>(<span class="params">frame, frameMax</span>)</span>&#123;</div><div class="line">     <span class="keyword">const</span> a1 = frame / frameMax;</div><div class="line">     <span class="keyword">const</span> a2 = <span class="number">1</span> - <span class="built_in">Math</span>.abs(<span class="number">0.5</span> - a1) / <span class="number">0.5</span>;</div><div class="line">     mesh.position.copy(cp_meshpos.getPoint(a2));</div><div class="line">&#125;;</div><div class="line"><span class="comment">// loop</span></div><div class="line"><span class="keyword">const</span> loop = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">    secs = (now - lt) / <span class="number">1000</span>;</div><div class="line">    requestAnimationFrame(loop);</div><div class="line">    <span class="keyword">if</span>(secs &gt; <span class="number">1</span> / FPS_UPDATE)&#123;</div><div class="line">        <span class="comment">// update, render</span></div><div class="line">        update( <span class="built_in">Math</span>.floor(frame), FRAME_MAX);</div><div class="line">        renderer.render(scene, camera);</div><div class="line">        <span class="comment">// step frame</span></div><div class="line">        frame += FPS_MOVEMENT * secs;</div><div class="line">        frame %= FRAME_MAX;</div><div class="line">        lt = now;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">loop();</div></pre></td></tr></table></figure>
<h3 id="2-3-The-get-alpha-fucntions"><a href="#2-3-The-get-alpha-fucntions" class="headerlink" title="2.3 - The get alpha fucntions"></a>2.3 - The get alpha fucntions</h3><p>I then wanted to create, bake in, and explore with this idea of having a get alpha value function using curves. With that said I made a lot of great progress testing out this idea that will then be further refined in future revisions of the module. I am thinking that I might want to make a another threejs project where the main focus is with alpha functions, but in any case I am sure that this will ether be something that I will want to bake into this module, or at least this curve module will be a foundation for such a module for sure.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">scene.add( <span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>) );</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">640</span> / <span class="number">480</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line">camera.position.set(<span class="number">-8</span>, <span class="number">8</span>, <span class="number">8</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">( <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body ).appendChild(renderer.domElement);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// CONTROLS</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">try</span>&#123;</div><div class="line">    <span class="keyword">const</span> controls = <span class="keyword">new</span> THREE.OrbitControls(camera, renderer.domElement);</div><div class="line">&#125;<span class="keyword">catch</span>(e)&#123;</div><div class="line">    <span class="built_in">console</span>.warn(<span class="string">'OrbitControls JSM module not loaded.'</span>);</div><div class="line">&#125;</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// CURVE ALPHA</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> grc_points = [</div><div class="line">    [<span class="number">0.00</span>, <span class="number">0</span>],[<span class="number">1.00</span>, <span class="number">0.25</span>], [<span class="number">0.50</span>, <span class="number">-0.2</span>], [<span class="number">0</span>]</div><div class="line">];</div><div class="line"><span class="keyword">const</span> curveAlpha = curveMod.createAlphaFunciton2( grc_points, <span class="literal">false</span> );</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// CURVE PATH</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> cp_meshpos = curveMod.QBCurvePath([</div><div class="line">   [<span class="number">5</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">-5</span>, <span class="number">1</span>, <span class="number">-5</span>,    <span class="number">5</span>,<span class="number">0</span>,<span class="number">-5</span>]</div><div class="line">]);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// DEBUG POINTS</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> pointsA = curveMod.debugAlphaFunction(curveAlpha, &#123; <span class="attr">count</span>: <span class="number">400</span>, <span class="attr">color</span>: <span class="keyword">new</span> THREE.Color(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>) &#125;);</div><div class="line">scene.add(pointsA);</div><div class="line"><span class="keyword">const</span> pointsM = curveMod.debugPointsCurve(cp_meshpos, &#123; <span class="attr">getAlpha</span>: curveAlpha, <span class="attr">color</span>: <span class="keyword">new</span> THREE.Color(<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>) &#125;);</div><div class="line">scene.add(pointsM);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// MESH</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> mesh1 = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">    <span class="keyword">new</span> THREE.SphereGeometry(<span class="number">0.5</span>, <span class="number">30</span>, <span class="number">30</span>),</div><div class="line">    <span class="keyword">new</span> THREE.MeshNormalMaterial()</div><div class="line">);</div><div class="line">scene.add(mesh1);</div><div class="line"><span class="keyword">const</span> mesh2 = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">    <span class="keyword">new</span> THREE.SphereGeometry(<span class="number">0.25</span>, <span class="number">30</span>, <span class="number">30</span>),</div><div class="line">    <span class="keyword">new</span> THREE.MeshNormalMaterial()</div><div class="line">);</div><div class="line">scene.add(mesh2);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// ANIMATION LOOP</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> FPS_UPDATE = <span class="number">30</span>, <span class="comment">// fps rate to update ( low fps for low CPU use, but choppy video )</span></div><div class="line">FPS_MOVEMENT = <span class="number">30</span>;     <span class="comment">// fps rate to move object by that is independent of frame update rate</span></div><div class="line">FRAME_MAX = <span class="number">180</span>;</div><div class="line"><span class="keyword">let</span> secs = <span class="number">0</span>,</div><div class="line">frame = <span class="number">0</span>,</div><div class="line">lt = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line"><span class="comment">// update</span></div><div class="line"><span class="keyword">const</span> update = <span class="function"><span class="keyword">function</span>(<span class="params">frame, frameMax</span>)</span>&#123;</div><div class="line">     <span class="keyword">const</span> a1 = frame / frameMax;</div><div class="line">     <span class="keyword">const</span> a2 = curveAlpha(a1);</div><div class="line">     <span class="keyword">if</span>(a2 &lt; <span class="number">0</span> || a2 &gt; <span class="number">1</span>)&#123;</div><div class="line">        <span class="built_in">console</span>.log( <span class="string">'out!'</span> )</div><div class="line">     &#125;</div><div class="line">     <span class="comment">// useing mesh to to show point along get alpha</span></div><div class="line">     mesh2.position.x = <span class="number">-5</span> + <span class="number">10</span> * a1;</div><div class="line">     mesh2.position.z = <span class="number">5</span> - <span class="number">10</span> * a2;</div><div class="line">     <span class="comment">// using mesh1 to show how that can apply to the point</span></div><div class="line">     <span class="comment">// spacing along another curve</span></div><div class="line">     mesh1.position.copy( cp_meshpos.getPoint(a2) );</div><div class="line">&#125;;</div><div class="line"><span class="comment">// loop</span></div><div class="line"><span class="keyword">const</span> loop = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">    secs = (now - lt) / <span class="number">1000</span>;</div><div class="line">    requestAnimationFrame(loop);</div><div class="line">    <span class="keyword">if</span>(secs &gt; <span class="number">1</span> / FPS_UPDATE)&#123;</div><div class="line">        <span class="comment">// update, render</span></div><div class="line">        update( <span class="built_in">Math</span>.floor(frame), FRAME_MAX);</div><div class="line">        renderer.render(scene, camera);</div><div class="line">        <span class="comment">// step frame</span></div><div class="line">        frame += FPS_MOVEMENT * secs;</div><div class="line">        frame %= FRAME_MAX;</div><div class="line">        lt = now;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">loop();</div></pre></td></tr></table></figure>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>I am off to a good start with this curve module, but there is still a lot or more work ahead for me on this one. I will like to refine the get alpha functions for sure, but there are also things that I have not even started with in R0 of this module. The main thing that comes to mind with this would be using curves to create position attributes of custom buffer geometry objects.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dustinpfister.github.io/2022/11/18/threejs-examples-curves-module/" data-id="clfy54j3d02e9q4v1x2kkf9t5" class="article-share-link">Share</a>
      
        <a href="https://dustinpfister.github.io/2022/11/18/threejs-examples-curves-module/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/three-js/">three.js</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2022/11/25/electronjs-example-file-manager/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          File Manager Electronjs application example
        
      </div>
    </a>
  
  
    <a href="/2022/11/11/threejs-examples-audio-sample-alphas/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Audio Sample Data Alphas and threejs projects</div>
    </a>
  
</nav>

  
</article>



<section id="comments">

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://dustinpfister.github.io/2022/11/18/threejs-examples-curves-module/index.html';
    this.page.identifier = '1014';
    this.page.title = 'Curves Module threejs project example';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://dustinpfister-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular/">angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/api/">api</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/backbone/">backbone</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/discovery/">discovery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/electronjs/">electronjs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/games/">games</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/grunt/">grunt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hapi/">hapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/heroku/">heroku</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jquery/">jquery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lodash/">lodash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node-js/">node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/phaser/">phaser</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/statistics/">statistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/three-js/">three.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backbone/">backbone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/corejs/">corejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deterministic/">deterministic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discovery/">discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejs/">ejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/electronjs/">electronjs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hapi/">hapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jimp/">jimp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js13k/">js13k</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/structured-data/">structured-data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/themes/">themes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three-js/">three.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JSON/" style="font-size: 12.27px;">JSON</a> <a href="/tags/SEO/" style="font-size: 10.45px;">SEO</a> <a href="/tags/angular/" style="font-size: 13.18px;">angular</a> <a href="/tags/animation/" style="font-size: 11.82px;">animation</a> <a href="/tags/automation/" style="font-size: 11.82px;">automation</a> <a href="/tags/backbone/" style="font-size: 12.27px;">backbone</a> <a href="/tags/blog/" style="font-size: 15.45px;">blog</a> <a href="/tags/canvas/" style="font-size: 18.64px;">canvas</a> <a href="/tags/corejs/" style="font-size: 12.73px;">corejs</a> <a href="/tags/deterministic/" style="font-size: 10px;">deterministic</a> <a href="/tags/discovery/" style="font-size: 10.91px;">discovery</a> <a href="/tags/ejs/" style="font-size: 11.36px;">ejs</a> <a href="/tags/electronjs/" style="font-size: 13.64px;">electronjs</a> <a href="/tags/express/" style="font-size: 16.82px;">express</a> <a href="/tags/games/" style="font-size: 17.27px;">games</a> <a href="/tags/git/" style="font-size: 12.73px;">git</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hapi/" style="font-size: 15px;">hapi</a> <a href="/tags/heroku/" style="font-size: 11.82px;">heroku</a> <a href="/tags/hexo/" style="font-size: 14.55px;">hexo</a> <a href="/tags/jimp/" style="font-size: 10.45px;">jimp</a> <a href="/tags/jquery/" style="font-size: 11.36px;">jquery</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/js13k/" style="font-size: 10px;">js13k</a> <a href="/tags/linux/" style="font-size: 17.73px;">linux</a> <a href="/tags/lodash/" style="font-size: 18.64px;">lodash</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mongodb/" style="font-size: 14.55px;">mongodb</a> <a href="/tags/node-js/" style="font-size: 19.55px;">node.js</a> <a href="/tags/phaser/" style="font-size: 18.18px;">phaser</a> <a href="/tags/python/" style="font-size: 15.91px;">python</a> <a href="/tags/statistics/" style="font-size: 14.09px;">statistics</a> <a href="/tags/structured-data/" style="font-size: 10px;">structured-data</a> <a href="/tags/themes/" style="font-size: 10px;">themes</a> <a href="/tags/three-js/" style="font-size: 19.09px;">three.js</a> <a href="/tags/vuejs/" style="font-size: 16.36px;">vuejs</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/03/31/threejs-quaternion-premultiply/">Quaternion premultiply method in threejs</a>
          </li>
        
          <li>
            <a href="/2023/03/24/threejs-quaternion/">Quaternion rotation objects in threejs</a>
          </li>
        
          <li>
            <a href="/2023/03/17/threejs-examples-svg-tools/">SVG tools module threejs example</a>
          </li>
        
          <li>
            <a href="/2023/03/10/threejs-examples-camera-planes/">Camera Planes module threejs example</a>
          </li>
        
          <li>
            <a href="/2023/03/03/threejs-examples-breath-module/">A Breath Module threejs project example</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2023 Dustin Pfister<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      <br>
      <a href="/privacy.html" target="_blank">Privacy Policy</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/2021/02/19/threejs-examples/" class="mobile-nav-link">ThreeJS</a>
  
    <a href="/2020/03/23/canvas-example/" class="mobile-nav-link">Canvas</a>
  
    <a href="https://www.youtube.com/user/javaweaver" class="mobile-nav-link">Youtube</a>
  
    <a href="https://github.com/dustinpfister" class="mobile-nav-link">Github</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'dustinpfister-github-io';
  
  var disqus_url = 'https://dustinpfister.github.io/2022/11/18/threejs-examples-curves-module/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


  </div>
</body>
</html>