<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <!-- disqus image-->
  <meta property="og:image" content="https://dustinpfister.github.io/css/images/banner.jpg">
  
  <title>File Manager Electronjs application example | Dustin John Pfister at github pages</title>
  
  <!-- no index tag or blank here -->
  
  
  <link rel="canonical" href="https://dustinpfister.github.io/2022/11/25/electronjs-example-file-manager/" />

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="There are a lot of ideas that come to mind when it comes to making an electronjs project example, one of which would be to make a file manager. This is one of many project ideas where getting the core">
<meta property="og:type" content="article">
<meta property="og:title" content="File Manager Electronjs application example">
<meta property="og:url" content="https://dustinpfister.github.io/2022/11/25/electronjs-example-file-manager/index.html">
<meta property="og:site_name" content="Dustin John Pfister at github pages">
<meta property="og:description" content="There are a lot of ideas that come to mind when it comes to making an electronjs project example, one of which would be to make a file manager. This is one of many project ideas where getting the core">
<meta property="og:updated_time" content="2022-11-26T20:01:08.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="File Manager Electronjs application example">
<meta name="twitter:description" content="There are a lot of ideas that come to mind when it comes to making an electronjs project example, one of which would be to make a file manager. This is one of many project ideas where getting the core">
  
    <link rel="alternate" href="/atom.xml" title="Dustin John Pfister at github pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <!-- Google Analytics -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y8XLNG6JRW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Y8XLNG6JRW');
</script>
<!-- End Google Analytics -->


  <!-- structured data set in structured-data.ejs -->
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "email": "distin.pfister@gmail.com",
    "givenName": "Dustin",
    "familyName" : "Pfister",
    "additionalName": "John",
    "name": "Dustin John Pfister",
    "gender": "Male"
}
</script>
<!-- end structured data -->
  
  <!-- adsense if indexed -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1658284027672315",
    enable_page_level_ads: true
  });
  </script>
  
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <!-- added the image-->
        <div class="selfimage"></div>
        <!--<a href="/" id="logo">Dustin John Pfister at github pages</a>-->
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/2021/02/19/threejs-examples/">ThreeJS</a>
        
          <a class="main-nav-link" href="/2020/03/23/canvas-example/">Canvas</a>
        
          <a class="main-nav-link" href="https://www.youtube.com/user/javaweaver">Youtube</a>
        
          <a class="main-nav-link" href="https://github.com/dustinpfister">Github</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <!-- removed rss link-->
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dustinpfister.github.io"></form>
      </div>
    </div>
  </div>
</header>

<!-- adding my canvas thing ( Dustin ) -->
<script src="/js/the_matrix.js"></script>
      <div class="outer">
        <section id="main"><article itemscope itemtype="http://schema.org/Blog" id="post-electronjs-example-file-manager" class="article article-type-post" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/11/25/electronjs-example-file-manager/" class="article-date"> Published:
  <time datetime="2022-11-25T14:28:00.000Z" itemprop="datePublished">2022-11-25</time>
</a>

    <!-- other info (dustin) -->
    <a href="/2022/11/25/electronjs-example-file-manager/" class="article-date"> Modified:
  <time datetime="2022-11-26T20:01:08.000Z" itemprop="dateModified">2022-11-26</time>
</a>

    <span class="article-date">V1.15</span>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/electronjs/">electronjs</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      File Manager Electronjs application example
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="text">
      
        <p>There are a lot of ideas that come to mind when it comes to making an <a href="https://www.electronjs.org/" target="_blank" rel="external">electronjs</a> project example, one of which would be to make a <a href="https://en.wikipedia.org/wiki/File_manager" target="_blank" rel="external">file manager</a>. This is one of many project ideas where getting the core set of features working might not take to long, but in the long run can turn into a major project that can take months, or even years to refine if doing so is justified. The starting point I had in mind was to just have a way to navigate around a file system, and be able to start a terminal window at the current working folder. Just that alone is simple enough for sure, but then there is working on the additional basic features that one would expect of any file manager, and how to go about doing just that. There is working out javaScript solutions for everything, but then there is also the idea of using the child process module to make use of binaries that there are to work with in the underlaying OS and being done with it.</p>
<p>This will then be a post on the current state of an electionjs project where the aim is to start making something that is at least starting to look like a file manager program. Like many of these examples thus far I will want to keep the bar low for now unless I do start to use this all the time, or people take interest or so forth. The main goal then is to just be able to navigate around folders, and then start a terminal window or alternate file manager at the current path. On top of that there is also getting this to work on the operating system that I use most of the time which for now are windows 10 and Raspberry Pi OS.</p>
<a id="more"></a>
<h2 id="The-election-js-File-manager-project-example-and-what-to-knwo-first"><a href="#The-election-js-File-manager-project-example-and-what-to-knwo-first" class="headerlink" title="The election.js File manager project example and what to knwo first"></a>The election.js File manager project example and what to knwo first</h2><p>This is a post on an electionjs project example where the aim is to make a file manager using electionjs. This is not then any kind of getting started type post with the <a href="/2022/02/07/electronjs-hello-world/">basics of electionjs</a>, as well as any additional skills that are required that have to do with nodejs, as well as client side javaScript. However in these sections I do often like to wrote about at least a few things that you might want to read up more on before continuing to read the rest if this content.</p>
<h3 id="Source-Code-is-up-on-Gihub-also"><a href="#Source-Code-is-up-on-Gihub-also" class="headerlink" title="Source Code is up on Gihub also"></a>Source Code is up on Gihub also</h3><p>I have the source code for this project <a href="https://github.com/dustinpfister/examples-electronjs/tree/master/for_post/electronjs-example-file-manager" target="_blank" rel="external">also up on Github</a>.</p>
<h2 id="1-The-main-javaScript-file"><a href="#1-The-main-javaScript-file" class="headerlink" title="1 - The main javaScript file"></a>1 - The main javaScript file</h2><p>Nothing out of the usual when it comes to the main javaScript file for this electron project thus far. I just have a create window method that will create the first, and also any additional windows for a current file system location to view the contents of. So the create window method will be called for the first time when the app starts, and also whenever I use the application menu to create a new window from the file menu. Speaking of the file menu I am using a custom menu template for this project of course that I also define here in this main javaScrit file as well.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// load app and BrowserWindow</span></div><div class="line"><span class="keyword">const</span> &#123; app, Menu, BrowserWindow&#125; = <span class="built_in">require</span>(<span class="string">'electron'</span>);</div><div class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</div><div class="line"><span class="comment">// Create the Main browser window.</span></div><div class="line"><span class="keyword">const</span> createWindow = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> <span class="built_in">window</span> = <span class="keyword">new</span> BrowserWindow(&#123;</div><div class="line">            <span class="attr">width</span>: <span class="number">800</span>,</div><div class="line">            <span class="attr">height</span>: <span class="number">600</span>,</div><div class="line">            <span class="attr">backgroundColor</span>: <span class="string">'#008888'</span>,</div><div class="line">            <span class="attr">webPreferences</span>: &#123;</div><div class="line">                <span class="attr">contextIsolation</span>: <span class="literal">true</span>,</div><div class="line">                <span class="attr">preload</span>: path.resolve( __dirname, <span class="string">'preload.js'</span>)</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">    <span class="comment">// load the html file for the main window</span></div><div class="line">    <span class="built_in">window</span>.loadFile(<span class="string">'html/window_main.html'</span>);</div><div class="line">    <span class="comment">// Open the DevTools for debugging</span></div><div class="line">    <span class="comment">//window.webContents.openDevTools();</span></div><div class="line">    <span class="keyword">const</span> menu = Menu.buildFromTemplate(MainMenuTemplate);</div><div class="line">    <span class="built_in">window</span>.setMenu(menu);</div><div class="line">    <span class="keyword">return</span> <span class="built_in">window</span>;</div><div class="line">&#125;;</div><div class="line"><span class="comment">// Custom Menus</span></div><div class="line"><span class="keyword">const</span> isMac = process.platform === <span class="string">'darwin'</span>;</div><div class="line"><span class="comment">// The main menu for the main window</span></div><div class="line"><span class="keyword">const</span> MainMenuTemplate = [</div><div class="line">    &#123;</div><div class="line">        <span class="attr">label</span>: <span class="string">'File'</span>,</div><div class="line">        <span class="attr">submenu</span>: [</div><div class="line">            <span class="comment">// Open a new window</span></div><div class="line">            &#123;</div><div class="line">                <span class="attr">label</span>: <span class="string">'New Window'</span>,</div><div class="line">                <span class="attr">click</span>: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">                    createWindow();</div><div class="line">                &#125;</div><div class="line">            &#125;,</div><div class="line">            isMac ? &#123; <span class="attr">label</span>: <span class="string">'Close'</span>, <span class="attr">role</span>: <span class="string">'close'</span> &#125;: &#123; <span class="attr">label</span>: <span class="string">'Close'</span>, <span class="attr">role</span>: <span class="string">'quit'</span> &#125;,</div><div class="line">        ]</div><div class="line">    &#125;,</div><div class="line">    &#123;</div><div class="line">        <span class="attr">label</span>: <span class="string">'Edit'</span>,</div><div class="line">        <span class="attr">submenu</span>: [</div><div class="line">            &#123; </div><div class="line">                <span class="attr">label</span>: <span class="string">'Copy'</span>,</div><div class="line">                <span class="attr">click</span>: <span class="function">(<span class="params">evnt, <span class="built_in">window</span></span>) =&gt;</span> &#123;</div><div class="line">                    <span class="built_in">window</span>.webContents.send(<span class="string">'edit_copy'</span>);</div><div class="line">                &#125;</div><div class="line">            &#125;,</div><div class="line">            &#123; </div><div class="line">                <span class="attr">label</span>: <span class="string">'Paste'</span>,</div><div class="line">                <span class="attr">click</span>: <span class="function">(<span class="params">evnt, <span class="built_in">window</span></span>) =&gt;</span> &#123;</div><div class="line">                    <span class="built_in">window</span>.webContents.send(<span class="string">'edit_paste'</span>);</div><div class="line">                &#125;</div><div class="line">            &#125;,</div><div class="line">            &#123; </div><div class="line">                <span class="attr">label</span>: <span class="string">'Delete'</span>,</div><div class="line">                <span class="attr">click</span>: <span class="function">(<span class="params">evnt, <span class="built_in">window</span></span>) =&gt;</span> &#123;</div><div class="line">                    <span class="built_in">window</span>.webContents.send(<span class="string">'edit_delete'</span>);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        ]</div><div class="line">    &#125;,</div><div class="line">    &#123;</div><div class="line">        <span class="attr">label</span>: <span class="string">'View'</span>,</div><div class="line">        <span class="attr">submenu</span>: [</div><div class="line">            &#123; <span class="attr">role</span>: <span class="string">'reload'</span> &#125;,</div><div class="line">            &#123; <span class="attr">role</span>: <span class="string">'forceReload'</span> &#125;,</div><div class="line">            &#123; <span class="attr">role</span>: <span class="string">'toggleDevTools'</span> &#125;,</div><div class="line">            &#123; <span class="attr">type</span>: <span class="string">'separator'</span> &#125;,</div><div class="line">            &#123; <span class="attr">role</span>: <span class="string">'resetZoom'</span> &#125;,</div><div class="line">            &#123; <span class="attr">role</span>: <span class="string">'zoomIn'</span> &#125;,</div><div class="line">            &#123; <span class="attr">role</span>: <span class="string">'zoomOut'</span> &#125;,</div><div class="line">            &#123; <span class="attr">type</span>: <span class="string">'separator'</span> &#125;,</div><div class="line">            &#123; <span class="attr">role</span>: <span class="string">'togglefullscreen'</span> &#125;</div><div class="line">        ]</div><div class="line">    &#125;</div><div class="line">];</div><div class="line"><span class="comment">// the 'ready' event</span></div><div class="line">app.whenReady().then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    createWindow();</div><div class="line">    app.on(<span class="string">'activate'</span>, () =&gt; &#123;</div><div class="line">        <span class="keyword">if</span> (BrowserWindow.getAllWindows().length === <span class="number">0</span>)&#123;</div><div class="line">            createWindow()</div><div class="line">        &#125;</div><div class="line">    &#125;)</div><div class="line">&#125;);</div><div class="line"><span class="comment">// the 'window-all-closed' is also a kind of on quit event</span></div><div class="line">app.on(<span class="string">'window-all-closed'</span>,  () =&gt; &#123;</div><div class="line">    <span class="keyword">if</span> (process.platform !== <span class="string">'darwin'</span>)</div><div class="line">        app.quit()</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="2-The-preload-javascript-file"><a href="#2-The-preload-javascript-file" class="headerlink" title="2 - The preload javascript file"></a>2 - The preload javascript file</h2><p>In the preload file I will want to define a number of methods that I can use in my client system to get the contents of a current working folder. The idea here is that I will bee storing what the current working path is in the client system, but will need a number of methods here to make use of nodejs features that will allow me to get the contents of a current working folder. So then for this preload file I am once again using the <a href="/2022/02/21/electronjs-context-bridge/">context bride module</a> to go about defining what the public API should be in terms of a fm global that I can use from the client system.</p>
<p>So then I am making use of a whole lot of nodejs built in module for this preload file then such as the <a href="/2019/11/19/nodejs-os/">os module</a> to have a way to find out what platform this is running on, as well as having a way to quickly fine out where the home folder is for the system. I am also going to want to use many of the methods in the <a href="/2017/12/27/nodejs-paths/">path module</a> for this one as well of course as this is very much a project in which I will be dealing with that a whole lot. To help me read the contents of the current working folder I will of course need to use the read dir method of the <a href="/2018/02/08/nodejs-filesystem/">file system module</a>, and I will also want to use the file system module to get <a href="/2018/02/15/nodejs-filesystem-stat/">stat objects</a> as well for sure. Also on top of all of this I will also want to have a way to run commands from my client system that will differ from one platform to another, so I will want to have the exec and spawn methods of the <a href="/2018/02/04/nodejs-child-process/">child process module</a> at the ready as well for thous kinds of methods.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// preload with contextIsolation enabled</span></div><div class="line"><span class="keyword">const</span> &#123; contextBridge, ipcRenderer &#125; = <span class="built_in">require</span>(<span class="string">'electron'</span>);</div><div class="line"><span class="comment">// os and path modules</span></div><div class="line"><span class="keyword">const</span> os = <span class="built_in">require</span>(<span class="string">'os'</span>);</div><div class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</div><div class="line"><span class="comment">// file system module</span></div><div class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</div><div class="line"><span class="keyword">const</span> promisify = <span class="built_in">require</span>(<span class="string">'util'</span>).promisify;</div><div class="line"><span class="keyword">const</span> readdir = promisify(fs.readdir);</div><div class="line"><span class="keyword">const</span> lstat = promisify(fs.lstat);</div><div class="line"><span class="comment">// child process</span></div><div class="line"><span class="keyword">const</span> exec = <span class="built_in">require</span>(<span class="string">'child_process'</span>).exec;</div><div class="line"><span class="keyword">const</span> spawn = <span class="built_in">require</span>(<span class="string">'child_process'</span>).spawn;</div><div class="line"><span class="comment">// main file manager api</span></div><div class="line"><span class="keyword">const</span> fm = &#123;&#125;;</div><div class="line">fm.path_basename = path.basename;</div><div class="line">fm.path_join = path.join;</div><div class="line">fm.path_resolve = path.resolve;</div><div class="line"><span class="comment">// get up one uri</span></div><div class="line">fm.getUpOne = <span class="function">(<span class="params">uri</span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">return</span> path.join(uri, <span class="string">'..'</span>);</div><div class="line">&#125;;</div><div class="line"><span class="comment">// get the home path</span></div><div class="line">fm.get_home_dir = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">return</span> os.homedir();</div><div class="line">&#125;;</div><div class="line"><span class="comment">// get platform</span></div><div class="line">fm.get_platform = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">return</span> os.platform();</div><div class="line">&#125;;</div><div class="line"><span class="comment">// run a command</span></div><div class="line">fm.run = <span class="function">(<span class="params"> bin </span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> com = exec(bin);</div><div class="line">    <span class="comment">// out</span></div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>( <span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">let</span> text = <span class="string">''</span>;</div><div class="line">        com.stdout.on(<span class="string">'data'</span>, (data) =&gt; &#123;</div><div class="line">            text += <span class="string">`<span class="subst">$&#123;data&#125;</span>`</span>;</div><div class="line">        &#125;);</div><div class="line">        com.stderr.on(<span class="string">'data'</span>, (data) =&gt; &#123;</div><div class="line">            reject(<span class="string">`<span class="subst">$&#123;data&#125;</span>`</span>);</div><div class="line">        &#125;);</div><div class="line">        com.on(<span class="string">'close'</span>, (code) =&gt; &#123;</div><div class="line">            resolve(text);</div><div class="line">        &#125;);</div><div class="line">    &#125;);</div><div class="line">&#125;;</div><div class="line"><span class="comment">// run a file</span></div><div class="line">fm.runFile = <span class="function">(<span class="params"> cwd, uri_sh, argu </span>) =&gt;</span> &#123;</div><div class="line">    argu = argu || [];</div><div class="line">    <span class="keyword">const</span> child = spawn(uri_sh, argu, &#123;</div><div class="line">        <span class="attr">cwd</span>: cwd,</div><div class="line">        <span class="attr">shell</span>: <span class="string">'/bin/bash'</span>,</div><div class="line">        <span class="attr">detached</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">stdio</span>: <span class="string">'ignore'</span></div><div class="line">    &#125;);</div><div class="line">    child.on(<span class="string">'close'</span>, (code) =&gt; &#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">`detached script <span class="subst">$&#123;uri_sh&#125;</span> exited with code <span class="subst">$&#123;code&#125;</span>`</span>);</div><div class="line">    &#125;);</div><div class="line">    child.unref();</div><div class="line">&#125;;</div><div class="line"><span class="comment">// clean read folder method that DOES NOT also use stat</span></div><div class="line">fm.read_folder = <span class="function">(<span class="params">uri</span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">return</span> readdir(uri);</div><div class="line">&#125;;</div><div class="line"><span class="comment">// read a dir and get itemData objects</span></div><div class="line">fm.readdir = <span class="function">(<span class="params"> uri </span>) =&gt;</span> &#123;</div><div class="line">    <span class="comment">// read files array</span></div><div class="line">    <span class="keyword">return</span> readdir(uri)</div><div class="line">    <span class="comment">// create an array of arrays such as [ [folder, true], [file, false] ]</span></div><div class="line">    .then( <span class="function">(<span class="params">files</span>) =&gt;</span> &#123;</div><div class="line">        <span class="comment">// unshift in '..' for non root folders</span></div><div class="line">        <span class="keyword">if</span>(uri != <span class="string">'/'</span>)&#123;</div><div class="line">            files.unshift(<span class="string">'..'</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// return a promise, using Promise.all for all items in uri to do so</span></div><div class="line">        <span class="keyword">return</span> <span class="built_in">Promise</span>.all( files.map( <span class="function">(<span class="params">fileName, i</span>) =&gt;</span> &#123;</div><div class="line">            <span class="keyword">let</span> uri_item = path.join(uri, fileName);</div><div class="line">            <span class="comment">// get stat for each item</span></div><div class="line">            <span class="keyword">return</span> lstat( uri_item )</div><div class="line">            .then(<span class="function">(<span class="params">fStat</span>)=&gt;</span>&#123;</div><div class="line">                 <span class="comment">// when we have the stat object return an array of values</span></div><div class="line">                 <span class="comment">// for the item</span></div><div class="line">                 <span class="keyword">const</span> fileInfo = <span class="built_in">Object</span>.assign(&#123;&#125;, fStat, &#123;</div><div class="line">                     <span class="attr">ext</span>: path.extname(fileName).replace(<span class="string">'.'</span>, <span class="string">''</span>),</div><div class="line">                     <span class="attr">mime</span>: <span class="string">''</span>,</div><div class="line">                     <span class="attr">isLink</span>: fStat.isSymbolicLink()</div><div class="line">                 &#125;);</div><div class="line">                 <span class="keyword">return</span> [fileName, fStat.isDirectory(), uri_item, i, fileInfo];</div><div class="line">             &#125;)</div><div class="line">        &#125;) );</div><div class="line">    &#125;);</div><div class="line">&#125;;</div><div class="line"><span class="comment">// edit copy ect</span></div><div class="line">fm.on_edit_copy = <span class="function">(<span class="params">cb</span>) =&gt;</span> &#123;</div><div class="line">    ipcRenderer.on(<span class="string">'edit_copy'</span>, (evnt) =&gt; &#123;</div><div class="line">        cb(evnt);</div><div class="line">    &#125;);</div><div class="line">&#125;;</div><div class="line">fm.on_edit_paste = <span class="function">(<span class="params">cb</span>) =&gt;</span> &#123;</div><div class="line">    ipcRenderer.on(<span class="string">'edit_paste'</span>, (evnt) =&gt; &#123;</div><div class="line">        cb(evnt);</div><div class="line">    &#125;);</div><div class="line">&#125;;</div><div class="line">fm.on_edit_delete = <span class="function">(<span class="params">cb</span>) =&gt;</span> &#123;</div><div class="line">    ipcRenderer.on(<span class="string">'edit_delete'</span>, (evnt) =&gt; &#123;</div><div class="line">        cb(evnt);</div><div class="line">    &#125;);</div><div class="line">&#125;;</div><div class="line"><span class="comment">// create an api for window objects in web pages</span></div><div class="line">contextBridge.exposeInMainWorld(<span class="string">'fm'</span>, fm);</div></pre></td></tr></table></figure>
<h2 id="3-The-Client-System"><a href="#3-The-Client-System" class="headerlink" title="3 - The Client System"></a>3 - The Client System</h2><p>When it comes to the client system for this project I have an html folder in which I will have all front end code and other assets. In this html folder I have a main window html file that make used of a few additional javaScript files, and an css file to have at least some basic staring style for this project. In this section then I will be going over the state of these various files that make use of my main and preload election js files.</p>
<h3 id="3-1-The-main-window-HTML-file"><a href="#3-1-The-main-window-HTML-file" class="headerlink" title="3.1 - The main window HTML file"></a>3.1 - The main window HTML file</h3><p>In the main html file I am making use of a <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP" target="_blank" rel="external">CSP policy</a>, and am also linking to an external CSS file in the head of the file. In the body of the html I have a basic layout for the various parts of the user interface for this file manager program. At the bottom of the file I am linking to my actions javaScrit file first, then an additional javaScript file that will contain any main javaScript code for just this html file. In any future revisions of this example I might have additional html files, but for now I am just staring that kind of situation thus far.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Security-Policy"</span> <span class="attr">content</span>=<span class="string">"default-src 'self'; script-src 'self'"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>File Manager<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"style.css"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"wrap_main"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"toolbar"</span>&gt;</span></div><div class="line">           <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"input_pwd"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">size</span>=<span class="string">"60"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line">           <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"input_runup"</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"Up One"</span>&gt;</span></div><div class="line">           <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"input_runterm"</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"Terminal"</span>&gt;</span></div><div class="line">           <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"input_runalt"</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"Alt FM"</span>&gt;</span></div><div class="line">           <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"input_newfolder"</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"New Folder"</span>&gt;</span></div><div class="line">           <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"input_newfile"</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"New File"</span>&gt;</span></div><div class="line">           <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"wrap_progressbar"</span>&gt;</span></div><div class="line">             <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"progressbar"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">           <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;/<span class="name">br</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"contents_pwd"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./actions.js"</span>&gt;</span><span class="undefined"> </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./window_main.js"</span>&gt;</span><span class="undefined"> </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="3-1-Actions-javaScript-file"><a href="#3-1-Actions-javaScript-file" class="headerlink" title="3.1 - Actions javaScript file"></a>3.1 - Actions javaScript file</h3><p>If I do continue to work on this project I am going to want to get things working great on more than one platform. In time I might want to have some kind of system where I have a whole bunch of files where there are a custom set of functions for each target file system. So when I make a built I just need to swap in a single javaScript file for a target OS. Also I am sure that I will want to have a way to customize what I am working out here though some kind of settings dialog or something to that effect. However for now I have just this one file in which I have everything for the two target OS systems that I am supporting thus far. </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">Actions</span>)</span>&#123;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// LINUX ACTIONS</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    Actions.linux = &#123;&#125;;</div><div class="line">    <span class="comment">// parse a URI to a folder, file, link, ect</span></div><div class="line">    Actions.linux.parseURI = <span class="function">(<span class="params">uri</span>) =&gt;</span> &#123;</div><div class="line">        <span class="comment">// replace $ with \$</span></div><div class="line">        <span class="keyword">let</span> a = uri.replace(<span class="regexp">/\$/g</span>, <span class="string">'\\$'</span>);</div><div class="line">        <span class="comment">// space</span></div><div class="line">        <span class="keyword">let</span> b = a;</div><div class="line">        <span class="keyword">if</span>(b[<span class="number">0</span>] === <span class="string">'~'</span>)&#123;</div><div class="line">            <span class="comment">// I want "Documents/foo" from "~/Documents/foo" and "" from "~"</span></div><div class="line">            <span class="keyword">const</span> from_home = b.replace(<span class="regexp">/~\//</span>, <span class="string">''</span>).replace(<span class="regexp">/~/</span>, <span class="string">''</span>);</div><div class="line">            b = fm.path_join( fm.get_home_dir(), from_home );</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> b;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// get mime type of the given itemData object</span></div><div class="line">    Actions.linux.get_mime_type = <span class="function">(<span class="params">state, itemData</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">return</span> fm.run(<span class="string">'file -b --mime-type \"'</span> + Actions.linux.parseURI(itemData[<span class="number">2</span>]) + <span class="string">'\"'</span> );</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// exec file action</span></div><div class="line">    Actions.linux.exec_file = <span class="function">(<span class="params">state, itemData</span>) =&gt;</span> &#123;</div><div class="line">       <span class="built_in">console</span>.log(<span class="string">'run an exec file action!'</span>);</div><div class="line">        <span class="keyword">return</span> fm.run(<span class="string">'find '</span> + itemData[<span class="number">2</span>] + <span class="string">' -maxdepth 1 -type f -executable'</span>)</div><div class="line">        .then(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</div><div class="line">            <span class="built_in">console</span>.log( <span class="string">'result of find command call for shell script'</span> );</div><div class="line">            <span class="built_in">console</span>.log(result)</div><div class="line">            <span class="keyword">if</span>(result)&#123;</div><div class="line">                fm.runFile( state.pwd , itemData[<span class="number">2</span>] );</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// text edit action</span></div><div class="line">    Actions.linux.text_edit = <span class="function">(<span class="params">state, itemData</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">return</span> fm.run(<span class="string">'mousepad '</span> + itemData[<span class="number">2</span>])</div><div class="line">        .catch(<span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</div><div class="line">            <span class="built_in">console</span>.log(e);</div><div class="line">            <span class="keyword">return</span> <span class="built_in">Promise</span>.resolve(<span class="string">'mousepad bin called but with errors'</span>);</div><div class="line">        &#125;);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// open a terminal window at current pwd</span></div><div class="line">    Actions.linux.terminal = <span class="function">(<span class="params">state</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">return</span> fm.run(<span class="string">'lxterminal --working-directory=\"'</span>+ state.pwd +<span class="string">'\"'</span>);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// start the alternate file manager as pwd</span></div><div class="line">    Actions.linux.alt_fm = <span class="function">(<span class="params">state</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">return</span> fm.run(<span class="string">'pcmanfm \"'</span>+ state.pwd +<span class="string">'\"'</span>);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// new folder</span></div><div class="line">    Actions.linux.new_folder = <span class="function">(<span class="params">state</span>) =&gt;</span> &#123;</div><div class="line">       <span class="keyword">return</span> fm.run(<span class="string">'mkdir '</span> + state.pwd + <span class="string">'/new_folder'</span>);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// new file</span></div><div class="line">    Actions.linux.new_file = <span class="function">(<span class="params">state</span>) =&gt;</span> &#123;</div><div class="line">       <span class="keyword">return</span> fm.run(<span class="string">'echo -n \"Hello World\" &gt; '</span> + state.pwd + <span class="string">'/new.txt'</span>);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// copy a single given item</span></div><div class="line">    Actions.linux.copy_item = <span class="function">(<span class="params">state, itemData</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> source = itemData[<span class="number">2</span>];</div><div class="line">        <span class="keyword">let</span> dest = fm.path_join( state.pwd, itemData[<span class="number">0</span>] );</div><div class="line">        <span class="comment">// update dist if same</span></div><div class="line">        <span class="keyword">if</span>(source === dest)&#123;</div><div class="line">            <span class="keyword">const</span> ext = <span class="string">'.'</span> + itemData[<span class="number">4</span>].ext;</div><div class="line">            dest = fm.path_join(</div><div class="line">                state.pwd,</div><div class="line">                fm.path_basename(itemData[<span class="number">0</span>], ext) + <span class="string">'_copy_1'</span> + ext</div><div class="line">            );</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// run cp with source and dist</span></div><div class="line">        <span class="keyword">return</span> fm.run(<span class="string">'cp -r '</span> + source + <span class="string">' '</span> + dest)</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// WIN32 ACTIONS</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    Actions.win32 = &#123;&#125;;</div><div class="line">    <span class="comment">// parse a URI</span></div><div class="line">    Actions.win32.parseURI = <span class="function">(<span class="params">uri</span>) =&gt;</span> &#123;</div><div class="line">        <span class="comment">// replace $ with \$</span></div><div class="line">        <span class="keyword">let</span> a = uri.replace(<span class="regexp">/\$/g</span>, <span class="string">'\\$'</span>);</div><div class="line">        <span class="comment">// space</span></div><div class="line">        <span class="keyword">let</span> b = a;</div><div class="line">        <span class="keyword">if</span>(b[<span class="number">0</span>] === <span class="string">'~'</span>)&#123;</div><div class="line">            <span class="comment">// I want "Documents/foo" from "~/Documents/foo" and "" from "~"</span></div><div class="line">            <span class="keyword">const</span> from_home = b.replace(<span class="regexp">/~\//</span>, <span class="string">''</span>).replace(<span class="regexp">/~/</span>, <span class="string">''</span>);</div><div class="line">            b = fm.path_join( fm.get_home_dir(), from_home );</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> b;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// get mime type of the given itemData object</span></div><div class="line">    Actions.win32.get_mime_type = <span class="function">(<span class="params">state, itemData</span>) =&gt;</span> &#123;</div><div class="line">        <span class="comment">// if folder return 'inode/directory'</span></div><div class="line">        <span class="comment">// USE dir /a:h TO SEE WHAT THE DEAL IS WITH JUNCTIONS</span></div><div class="line">        <span class="keyword">if</span>(itemData[<span class="number">1</span>])&#123; <span class="comment">// &lt;== NOT A GOOD WAY TO DO THIS BECUASE OF JUNCTIONS</span></div><div class="line">            <span class="comment">// for now I am using lstat in place of stat that seems to help with junctions</span></div><div class="line">            <span class="comment">// However a better way of figure out the mime type should be used</span></div><div class="line">            <span class="keyword">return</span> <span class="built_in">Promise</span>.resolve(<span class="string">'inode/directory'</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// no native 'file' program in windows, but if there is an extension we can use that</span></div><div class="line">        <span class="keyword">const</span> info = itemData[<span class="number">4</span>];</div><div class="line">        <span class="keyword">if</span>(info.ext === <span class="string">'md'</span>)&#123;</div><div class="line">            <span class="built_in">Promise</span>.resolve(<span class="string">'text/html'</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="built_in">Promise</span>.resolve(<span class="string">'unkown'</span>);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// exec file action</span></div><div class="line">    Actions.win32.exec_file = <span class="function">(<span class="params">state, itemData</span>) =&gt;</span> &#123;&#125;;</div><div class="line">    <span class="comment">// text edit action</span></div><div class="line">    Actions.win32.text_edit = <span class="function">(<span class="params">state, itemData</span>) =&gt;</span> &#123;&#125;;</div><div class="line">    <span class="comment">// open a terminal window at current pwd</span></div><div class="line">    Actions.win32.terminal = <span class="function">(<span class="params">state</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">return</span> fm.run(<span class="string">'start cmd /k "pushd '</span> +  state.pwd + <span class="string">'"'</span>);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// start the alternate file manager as pwd</span></div><div class="line">    Actions.win32.alt_fm = <span class="function">(<span class="params">state</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">return</span> fm.run(<span class="string">'Explorer \"'</span>+ state.pwd +<span class="string">'\"'</span>);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// new folder</span></div><div class="line">    Actions.win32.new_folder = <span class="function">(<span class="params">state</span>) =&gt;</span> &#123;&#125;;</div><div class="line">    <span class="comment">// new file</span></div><div class="line">    Actions.win32.new_file = <span class="function">(<span class="params">state</span>) =&gt;</span> &#123;&#125;;</div><div class="line">    <span class="comment">// copy a single given item</span></div><div class="line">    Actions.win32.copy_item = <span class="function">(<span class="params">state, itemData</span>) =&gt;</span> &#123;&#125;;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// MAIN RUN ACTION METHOD</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// Main run action method</span></div><div class="line">    Actions.run = <span class="function">(<span class="params">state, action, itemData </span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">return</span> Actions[state.actionMod][action](state, itemData);</div><div class="line">    &#125;;</div><div class="line">&#125;( <span class="keyword">this</span>[<span class="string">'Actions'</span>] = &#123;&#125; ) )</div></pre></td></tr></table></figure>
<h3 id="3-1-Main-window-javaScript-file"><a href="#3-1-Main-window-javaScript-file" class="headerlink" title="3.1 - Main window javaScript file"></a>3.1 - Main window javaScript file</h3><p>This is then the current state of the main javaScript file in which I am doing everything that I want to do in the main html file. this is where I have a current state object that contains values like the current working path, as well as many other state values. I am also attaching any and all event handers that i want to have for things like the tool bar as well as all the item dive elements for the contents of the current working path.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div><div class="line">306</div><div class="line">307</div><div class="line">308</div><div class="line">309</div><div class="line">310</div><div class="line">311</div><div class="line">312</div><div class="line">313</div><div class="line">314</div><div class="line">315</div><div class="line">316</div><div class="line">317</div><div class="line">318</div><div class="line">319</div><div class="line">320</div><div class="line">321</div><div class="line">322</div><div class="line">323</div><div class="line">324</div><div class="line">325</div><div class="line">326</div><div class="line">327</div><div class="line">328</div><div class="line">329</div><div class="line">330</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// HELPERS</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// item update loop</span></div><div class="line"><span class="keyword">const</span> itemLoop = <span class="function"><span class="keyword">function</span>(<span class="params">state</span>)</span>&#123;</div><div class="line">    state.loop.i = <span class="number">0</span>;</div><div class="line">    state.loop.pwd = state.pwd;</div><div class="line">    <span class="keyword">const</span> len = state.files.length;</div><div class="line">    <span class="keyword">const</span> el_progress = state.el_progress;</div><div class="line">    el_progress.style.width = <span class="string">'100%'</span>;</div><div class="line">    <span class="keyword">const</span> loop = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        (<span class="function"><span class="keyword">function</span>(<span class="params">itemData, i, loopPwd </span>)</span>&#123;</div><div class="line">           <span class="comment">// using new Actions object</span></div><div class="line">           Actions.run(state, <span class="string">'get_mime_type'</span>, itemData)</div><div class="line">           .then( <span class="function">(<span class="params"> result </span>) =&gt;</span> &#123;</div><div class="line">               itemData[<span class="number">4</span>].mime = result.trim();</div><div class="line">               <span class="keyword">const</span> per = i / (len - <span class="number">1</span>);</div><div class="line">               el_progress.style.width = <span class="built_in">Math</span>.round(per * <span class="number">100</span> ) + <span class="string">'%'</span>;</div><div class="line">               <span class="comment">// check that it is still the same object before calling setDivStyle</span></div><div class="line">               <span class="keyword">if</span>(state.files[i] === itemData)&#123;</div><div class="line">                   setDivStyle(state, itemData, <span class="literal">false</span>);</div><div class="line">               &#125;</div><div class="line">               <span class="comment">// keep looping or stop, using i &gt;= len - 1 over per === 1,</span></div><div class="line">               <span class="comment">// because of 0 / 0 bug when state.files.length is 1 ( empty folder )</span></div><div class="line">               <span class="keyword">if</span>(i &gt;= len - <span class="number">1</span>)&#123;</div><div class="line">                   el_progress.style.width = <span class="string">'0%'</span>;</div><div class="line">               &#125;<span class="keyword">else</span>&#123;</div><div class="line">                   <span class="comment">// if the loop folder is still the current folder keep looping</span></div><div class="line">                   <span class="keyword">if</span>(loopPwd === state.pwd)&#123;</div><div class="line">                       loop();</div><div class="line">                   &#125;</div><div class="line">               &#125;</div><div class="line">            &#125;)</div><div class="line">           .catch(<span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</div><div class="line">               <span class="built_in">console</span>.log(<span class="string">'ERROR while getting mime types'</span>);</div><div class="line">               <span class="built_in">console</span>.log(e)</div><div class="line">           &#125;)</div><div class="line">        &#125;(state.files[ state.loop.i ], state.loop.i, state.loop.pwd));</div><div class="line">        state.loop.i += <span class="number">1</span>;</div><div class="line">    &#125;;</div><div class="line">    loop();</div><div class="line">&#125;;</div><div class="line"><span class="comment">// preform an action for the given item based on its mime type</span></div><div class="line"><span class="keyword">const</span> perfromMimeAction = <span class="function">(<span class="params">state, itemData</span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> mime = itemData[<span class="number">4</span>].mime;</div><div class="line">    <span class="keyword">const</span> ext = itemData[<span class="number">4</span>].ext;</div><div class="line">    <span class="comment">// FOR FOLDERS</span></div><div class="line">    <span class="keyword">if</span>(mime === <span class="string">'inode/directory'</span> || mime ===  <span class="string">'inode/symlink'</span>)&#123;</div><div class="line">        setPWD(state, itemData[<span class="number">2</span>] );</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// mime types</span></div><div class="line">    <span class="keyword">if</span>(mime === <span class="string">'text/plain'</span>)&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'we have a plain text file!'</span>);</div><div class="line">        Actions.run(state, <span class="string">'text_edit'</span>, itemData);</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span>(mime === <span class="string">'text/html'</span>)&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'we have an html file!'</span>);</div><div class="line">        Actions.run(state, <span class="string">'text_edit'</span>, itemData);</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span>(mime === <span class="string">'text/x-shellscript'</span>)&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'We have a shellscript'</span>);</div><div class="line">        Actions.run(state, <span class="string">'exec_file'</span>, itemData);</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span>(mime === <span class="string">'application/javascript'</span>)&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'We have a js file!'</span>);</div><div class="line">        Actions.run(state, <span class="string">'exec_file'</span>, itemData);</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// ext if there is nothing for the mime</span></div><div class="line">    <span class="keyword">if</span>(ext === <span class="string">'md'</span> || ext === <span class="string">'txt'</span> || ext === <span class="string">'sh'</span> || ext === <span class="string">"html"</span> || ext === <span class="string">'js'</span>)&#123;</div><div class="line">        Actions.run(state, <span class="string">'text_edit'</span>, itemData);</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"><span class="comment">// set style of a single div</span></div><div class="line"><span class="keyword">const</span> setDivStyle = <span class="function">(<span class="params">state, itemData, selectedState, div</span>) =&gt;</span> &#123;</div><div class="line">    <span class="comment">// get div and update style</span></div><div class="line">    div = div || <span class="built_in">document</span>.getElementById(<span class="string">'item_'</span> + itemData[<span class="number">3</span>]);</div><div class="line">    <span class="keyword">let</span> r = <span class="number">0.5</span>, g = <span class="number">0.5</span>, b = <span class="number">0.5</span>;</div><div class="line">    <span class="keyword">const</span> mime = itemData[<span class="number">4</span>].mime;</div><div class="line">    <span class="comment">// folder color</span></div><div class="line">    <span class="keyword">if</span>(mime === <span class="string">'inode/directory'</span> || mime ===  <span class="string">'inode/symlink'</span>)&#123;</div><div class="line">        r = <span class="number">1</span>; g = <span class="number">0.7</span>; b = <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span>(mime === <span class="string">'text/plain'</span>)&#123;</div><div class="line">        r = <span class="number">1</span>; g = <span class="number">1</span>; b = <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// some of my *.md files show up as this such as linux-gcc.md</span></div><div class="line">    <span class="keyword">if</span>(mime === <span class="string">'text/x-c'</span>)&#123;</div><div class="line">        r = <span class="number">0.9</span>; g = <span class="number">0.9</span>; b = <span class="number">0.9</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// some of my *.md files show up as this such as python-class.md</span></div><div class="line">    <span class="keyword">if</span>(mime === <span class="string">'text/x-python'</span>)&#123;</div><div class="line">        r = <span class="number">0.9</span>; g = <span class="number">0.9</span>; b = <span class="number">0.9</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span>(mime === <span class="string">'text/html'</span>)&#123;</div><div class="line">        r = <span class="number">0</span>; g = <span class="number">0.8</span>; b = <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span>(mime === <span class="string">'text/x-shellscript'</span> || mime === <span class="string">'application/javascript'</span>)&#123;</div><div class="line">        r = <span class="number">0</span>; g = <span class="number">1</span>; b = <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// set the style</span></div><div class="line">    <span class="keyword">const</span> st = selectedState ? <span class="number">0.5</span> : <span class="number">1</span>;</div><div class="line">    <span class="keyword">const</span> rc = (r * st) * <span class="number">255</span>;</div><div class="line">    <span class="keyword">const</span> gc = (g * st) * <span class="number">255</span>;</div><div class="line">    <span class="keyword">const</span> bc = (b * st) * <span class="number">255</span>;</div><div class="line">    <span class="keyword">const</span> bgColor = <span class="string">'rgb( '</span> + rc + <span class="string">', '</span> + gc + <span class="string">', '</span> + bc +<span class="string">')'</span>;</div><div class="line">    <span class="keyword">if</span>(div)&#123;</div><div class="line">        div.style.backgroundColor = bgColor;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"><span class="comment">// set style for all selected divs</span></div><div class="line"><span class="keyword">const</span> setSelectedDivStyle = <span class="function">(<span class="params">state, selectedState </span>) =&gt;</span> &#123;</div><div class="line">    state.selected.forEach( <span class="function">(<span class="params"> itemIndex </span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> itemData = state.files[itemIndex];</div><div class="line">        setDivStyle(state, itemData, selectedState);</div><div class="line">    &#125;);</div><div class="line">&#125;;</div><div class="line"><span class="comment">// event hander for items</span></div><div class="line"><span class="keyword">const</span> createItemClickHandler = <span class="function">(<span class="params">state, itemData</span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</div><div class="line">        <span class="comment">//!!! WEIRD BUG found that thus far I do not know how to reproduce</span></div><div class="line">        <span class="comment">// so I am doing a try cath here for now</span></div><div class="line">        <span class="keyword">try</span>&#123;</div><div class="line">        <span class="keyword">const</span> i = itemData[<span class="number">3</span>];</div><div class="line">        <span class="comment">// if NOT CTRL, AND state.selcted.length is one, AND current item is selected item</span></div><div class="line">        <span class="keyword">if</span>(!state.CTRL &amp;&amp; state.selected.length === <span class="number">1</span> &amp;&amp; state.files[ state.selected[<span class="number">0</span>] ][<span class="number">3</span>] === i )&#123;</div><div class="line">            perfromMimeAction(state, itemData);</div><div class="line">            setSelectedDivStyle(state, <span class="literal">false</span>);</div><div class="line">            state.selected = [];</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// if NOT CTRL, result selected array at this point</span></div><div class="line">        <span class="keyword">if</span>(!state.CTRL)&#123;</div><div class="line">            setSelectedDivStyle(state, <span class="literal">false</span>);</div><div class="line">            state.selected = [];</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// push index to selcted array</span></div><div class="line">        state.selected.push(i);</div><div class="line">        setDivStyle(state, itemData, <span class="literal">true</span>);</div><div class="line">        &#125;<span class="keyword">catch</span>(e)&#123;</div><div class="line">            <span class="built_in">console</span>.log(<span class="string">'**********'</span>);</div><div class="line">            <span class="built_in">console</span>.log(<span class="string">'Error while clicking item'</span>);</div><div class="line">            <span class="built_in">console</span>.log(<span class="string">'itemData: '</span>, itemData);</div><div class="line">            <span class="built_in">console</span>.log(<span class="string">'state: '</span>, state);</div><div class="line">            <span class="built_in">console</span>.log(<span class="string">'error'</span>, e);</div><div class="line">            <span class="built_in">console</span>.log(<span class="string">'**********'</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">&#125;;</div><div class="line"><span class="comment">// create a single div element for an itemData object</span></div><div class="line"><span class="keyword">const</span> createListItem = <span class="function">(<span class="params">state, itemData</span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> div = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</div><div class="line">    div.className = <span class="string">'contents_item'</span>;</div><div class="line">    div.id = <span class="string">'item_'</span> + itemData[<span class="number">3</span>];</div><div class="line">    div.addEventListener(<span class="string">'pointerup'</span>, createItemClickHandler(state, itemData ) );</div><div class="line">    div.innerText = itemData[<span class="number">0</span>];</div><div class="line">    div.title = itemData[<span class="number">0</span>];</div><div class="line">    <span class="comment">// set the div style</span></div><div class="line">    setDivStyle(state, itemData, <span class="literal">false</span>, div);</div><div class="line">    <span class="keyword">return</span> div;</div><div class="line">&#125;;</div><div class="line"><span class="comment">// update contents with given files array</span></div><div class="line"><span class="keyword">const</span> createListContents = <span class="function">(<span class="params">state, files</span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> el = state.el_contents_pwd;</div><div class="line">    state.selected = [];</div><div class="line">    state.el_contents_pwd.innerHTML = <span class="string">''</span>;</div><div class="line">    files.forEach( <span class="function">(<span class="params">itemData</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> div = createListItem(state, itemData);</div><div class="line">        state.el_contents_pwd.appendChild(div);</div><div class="line">    &#125;);</div><div class="line">&#125;;</div><div class="line"><span class="comment">// set the current pwd</span></div><div class="line"><span class="keyword">const</span> setPWD = <span class="function">(<span class="params">state, pwd</span>) =&gt;</span> &#123;</div><div class="line">    <span class="comment">// using parseURI each time for any given pwd string</span></div><div class="line">    state.pwd = Actions[state.actionMod].parseURI(pwd);</div><div class="line">    state.selected = [];</div><div class="line">    <span class="comment">// read the current state.pwd path</span></div><div class="line">    <span class="keyword">return</span> fm.readdir(state.pwd)</div><div class="line">    <span class="comment">// get files array from fm api and update state.files</span></div><div class="line">   .then(<span class="function">(<span class="params">files</span>)=&gt;</span>&#123;</div><div class="line">       <span class="comment">// format of files as as follows</span></div><div class="line">       <span class="comment">//[ fileName, isDir, uri_item, i, fStat, mimeObj ]</span></div><div class="line">        state.files = files;</div><div class="line">        <span class="comment">// SORT FOLDERS ABOVE FILES</span></div><div class="line">        state.files.sort(<span class="function"><span class="keyword">function</span>(<span class="params">itemA, itemB</span>)</span>&#123;</div><div class="line">            <span class="keyword">if</span>(itemA[<span class="number">1</span>] &amp;&amp; !itemB[<span class="number">1</span>])&#123;</div><div class="line">                <span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">        &#125;);</div><div class="line">        <span class="comment">// UPDATE INDEX VALUES AS THEY HAVE BEEN SORTED</span></div><div class="line">        state.files = state.files.map(<span class="function">(<span class="params">item, i</span>)=&gt;</span>&#123;</div><div class="line">             item[<span class="number">3</span>] = i;</div><div class="line">             <span class="keyword">return</span> item;</div><div class="line">        &#125;);</div><div class="line">        <span class="comment">// update value of input pwd</span></div><div class="line">        state.el_input_pwd.value = state.pwd;</div><div class="line">        <span class="comment">// create the list contents</span></div><div class="line">        createListContents(state, state.files);</div><div class="line">        <span class="comment">// start the infoLoop</span></div><div class="line">        itemLoop(state);</div><div class="line">    &#125;)</div><div class="line">    .catch(<span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'Error While calling setPWD for : '</span> + state.pwd);</div><div class="line">        <span class="built_in">console</span>.log(e);</div><div class="line">    &#125;);</div><div class="line">&#125;;</div><div class="line"><span class="comment">//------ ----------</span></div><div class="line"><span class="comment">// STATE OBJECT</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> state = &#123;</div><div class="line">    <span class="comment">// set action mod string by using os.platform nodejs method</span></div><div class="line">    actionMod: fm.get_platform(),</div><div class="line">    <span class="attr">pwd</span>: <span class="string">'~/'</span>,</div><div class="line">    <span class="attr">files</span>: [],</div><div class="line">    <span class="attr">CTRL</span>: <span class="literal">false</span>,</div><div class="line">    <span class="attr">loop</span>: &#123;</div><div class="line">       <span class="attr">i</span>: <span class="number">0</span>,   <span class="comment">// item loop index</span></div><div class="line">       pwd: <span class="string">''</span> <span class="comment">// compare to state.pwd to find out if looping should continue</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">selected</span>: [], <span class="comment">// an array of currentlt selected index values of items in state.files</span></div><div class="line">    copy: [],     <span class="comment">// to store copy urls</span></div><div class="line">    el_contents_pwd : <span class="built_in">document</span>.getElementById(<span class="string">'contents_pwd'</span>),</div><div class="line">    <span class="attr">el_input_pwd</span> : <span class="built_in">document</span>.getElementById(<span class="string">'input_pwd'</span>),</div><div class="line">    <span class="attr">el_runterm</span> : <span class="built_in">document</span>.getElementById(<span class="string">'input_runterm'</span>),</div><div class="line">    <span class="attr">el_runalt</span> : <span class="built_in">document</span>.getElementById(<span class="string">'input_runalt'</span>),</div><div class="line">    <span class="attr">el_runup</span> : <span class="built_in">document</span>.getElementById(<span class="string">'input_runup'</span>),</div><div class="line">    <span class="attr">el_run_new_folder</span> : <span class="built_in">document</span>.getElementById(<span class="string">'input_newfolder'</span>),</div><div class="line">    <span class="attr">el_run_new_file</span> : <span class="built_in">document</span>.getElementById(<span class="string">'input_newfile'</span>),</div><div class="line">    <span class="attr">el_progress</span> : <span class="built_in">document</span>.getElementById(<span class="string">'progressbar'</span>)</div><div class="line">&#125;;</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// SETUP</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line">setPWD(state, state.pwd);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// INPUT_PWD</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line">state.el_input_pwd.addEventListener(<span class="string">'change'</span>, (e)=&gt; &#123;</div><div class="line">    setPWD(state, e.target.value);</div><div class="line">&#125;);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// BUTTONS</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line">state.el_run_new_folder.addEventListener(<span class="string">'click'</span>, (e)=&gt; &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'new folder'</span>);</div><div class="line">    Actions.run(state, <span class="string">'new_folder'</span>)</div><div class="line">    .then(<span class="function">(<span class="params">result</span>)=&gt;</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'made the new folder okay'</span>);</div><div class="line">        setPWD(state, state.pwd);</div><div class="line">    &#125;)</div><div class="line">    .catch(<span class="function">(<span class="params">e</span>)=&gt;</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'there was an error making new new folder'</span>);</div><div class="line">        <span class="built_in">console</span>.log(e);</div><div class="line">    &#125;);</div><div class="line">&#125;);</div><div class="line">state.el_run_new_file.addEventListener(<span class="string">'click'</span>, (e)=&gt; &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'new file'</span>);</div><div class="line">    <span class="comment">//fm.run('echo -n \"Hello World\" &gt; ' + state.pwd + '/new.txt')</span></div><div class="line">    Actions.run(state, <span class="string">'new_file'</span>)</div><div class="line">    .then(<span class="function">(<span class="params">result</span>)=&gt;</span>&#123;</div><div class="line">        setPWD(state, state.pwd);</div><div class="line">    &#125;);</div><div class="line">&#125;);</div><div class="line">state.el_runterm.addEventListener(<span class="string">'click'</span>, (e)=&gt; &#123;</div><div class="line">    <span class="comment">//fm.run('lxterminal --working-directory=\"'+ state.pwd +'\"');</span></div><div class="line">    Actions.run(state, <span class="string">'terminal'</span>);</div><div class="line">&#125;);</div><div class="line">state.el_runalt.addEventListener(<span class="string">'click'</span>, (e)=&gt; &#123;</div><div class="line">    <span class="comment">//fm.run('pcmanfm \"'+ state.pwd +'\"');</span></div><div class="line">    Actions.run(state, <span class="string">'alt_fm'</span>);</div><div class="line">&#125;);</div><div class="line">state.el_runup.addEventListener(<span class="string">'click'</span>, (e)=&gt; &#123;</div><div class="line">    setPWD(state, fm.getUpOne(state.pwd));</div><div class="line">&#125;);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// GLOBAL CLICK OF WINDOW</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'pointerup'</span>, (e) =&gt; &#123;</div><div class="line">    <span class="keyword">const</span> tar = e.target;</div><div class="line">    <span class="comment">// if not an item, clear selected and create list contents again</span></div><div class="line">    <span class="keyword">if</span>( !(tar.className.trim() === <span class="string">'contents_item'</span>) )&#123;</div><div class="line">        <span class="comment">// clear selected if wrap main clicked</span></div><div class="line">        <span class="keyword">if</span>(tar.id === <span class="string">'wrap_main'</span> || tar.id === <span class="string">'contents_pwd'</span>)&#123;</div><div class="line">            state.selected = [];</div><div class="line">            createListContents(state, state.files);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// MENU BAR EVENTS</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// delete the current slected item</span></div><div class="line">fm.on_edit_delete( <span class="function">(<span class="params">evnt</span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">if</span>(state.selected.length &gt;= <span class="number">1</span>)&#123;</div><div class="line">        <span class="keyword">const</span> itemData = state.files[state.selected[<span class="number">0</span>]];</div><div class="line">        fm.run(<span class="string">'rm -frd '</span> + itemData[<span class="number">2</span>])</div><div class="line">        .then(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</div><div class="line">            <span class="built_in">console</span>.log(<span class="string">'Delete of file done'</span>);</div><div class="line">            state.selected = [];</div><div class="line">            setPWD(state, state.pwd);</div><div class="line">        &#125;);</div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'nothing selected to delete'</span>);</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"><span class="comment">// copy edit event</span></div><div class="line">fm.on_edit_copy( <span class="function">(<span class="params">evnt</span>) =&gt;</span> &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'COPY!'</span>);</div><div class="line">    state.copy = state.selected.map( <span class="function">(<span class="params">i</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">return</span> state.files[i];</div><div class="line">    &#125;);</div><div class="line">    <span class="built_in">console</span>.log(state.copy);</div><div class="line">&#125;);</div><div class="line"><span class="comment">// paste edit event</span></div><div class="line">fm.on_edit_paste( <span class="function">(<span class="params">evnt</span>) =&gt;</span> &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'PASTE!'</span>);</div><div class="line">    <span class="keyword">if</span>(state.copy.length &gt;= <span class="number">1</span>)&#123;</div><div class="line">        <span class="keyword">const</span> itemData = state.copy[<span class="number">0</span>];</div><div class="line">        Actions.run(state, <span class="string">'copy_item'</span>, itemData)</div><div class="line">        .then(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</div><div class="line">            <span class="built_in">console</span>.log(<span class="string">'copy done'</span>);</div><div class="line">            state.copy = [];</div><div class="line">            setPWD(state, state.pwd);</div><div class="line">        &#125;);</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="3-1-style-CSS-file"><a href="#3-1-style-CSS-file" class="headerlink" title="3.1 - style CSS file"></a>3.1 - style CSS file</h3><p>When it comes to the CSS for this project I have worked out a few things using a <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Grid_Layout" target="_blank" rel="external">CSS Grid</a>, which is a new thing for me. I am sure that there is a great deal more to write about when it comes to GRIDS and CSS, but for now I just have a basic something working okay when it comes to the div elements that I use to display a folder or file.</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">body</span>&#123;</div><div class="line">  <span class="attribute">background</span>: <span class="number">#afafaf</span>;</div><div class="line">  <span class="attribute">color</span>: <span class="number">#2a2a2a</span>;</div><div class="line">  <span class="attribute">font-family</span>: arial;</div><div class="line">  <span class="attribute">margin</span>: <span class="number">0px</span>;</div><div class="line">  <span class="attribute">padding</span>: <span class="number">0px</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#wrap_main</span>&#123;</div><div class="line">  <span class="attribute">position</span>: absolute;</div><div class="line">  <span class="attribute">top</span>:<span class="number">0px</span>;</div><div class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(32, 32, 32, 1);</div><div class="line">  <span class="attribute">margin</span>: <span class="number">0px</span>;</div><div class="line">  <span class="attribute">padding</span>: <span class="number">0px</span>;</div><div class="line">  <span class="attribute">min-height</span>:<span class="number">100%</span>;</div><div class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#toolbar</span>&#123;</div><div class="line">  <span class="attribute">position</span>: fixed;</div><div class="line">  <span class="attribute">left</span>:<span class="number">0px</span>;</div><div class="line">  <span class="attribute">top</span>: <span class="number">0px</span>;</div><div class="line">  <span class="attribute">width</span>:<span class="number">100%</span>;</div><div class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(200, 200, 200, 0.8);</div><div class="line">  <span class="attribute">padding</span>:<span class="number">20px</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#wrap_progressbar</span>&#123;</div><div class="line">  <span class="attribute">position</span>: absolute;</div><div class="line">  <span class="attribute">left</span>:<span class="number">0px</span>;</div><div class="line">  <span class="attribute">bottom</span>: <span class="number">0px</span>;</div><div class="line">  <span class="attribute">width</span>:<span class="number">100%</span>;</div><div class="line">  <span class="attribute">height</span>:<span class="number">10px</span>;</div><div class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(128, 128, 128, 0.8);</div><div class="line">  <span class="attribute">padding</span>:<span class="number">0px</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#progressbar</span>&#123;</div><div class="line">  <span class="comment">/*position: fixed;*/</span></div><div class="line">  <span class="attribute">position</span>: absolute;</div><div class="line">  <span class="attribute">left</span>:<span class="number">0px</span>;</div><div class="line">  <span class="attribute">bottom</span>: <span class="number">0px</span>;</div><div class="line">  <span class="attribute">height</span>:<span class="number">10px</span>;</div><div class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(0, 200, 0, 0.8);</div><div class="line">  <span class="attribute">padding</span>:<span class="number">0px</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">/* CONTENTS PWD MAIN DIV */</span></div><div class="line"><span class="selector-id">#contents_pwd</span>&#123;</div><div class="line">    <span class="attribute">margin</span>: <span class="number">40px</span> <span class="number">20px</span> <span class="number">20px</span> <span class="number">20px</span>;</div><div class="line">    <span class="attribute">padding</span>: <span class="number">10px</span>;</div><div class="line">    <span class="attribute">background</span>:<span class="built_in">rgba</span>(100, 100, 100, 0.8);</div><div class="line">    <span class="attribute">display</span>: grid;</div><div class="line">    <span class="attribute">gap</span>: <span class="number">5px</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">/* CONTENTS ITEM CLASS FOR ALL ITEM DIVS */</span></div><div class="line"><span class="selector-class">.contents_item</span> &#123;</div><div class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</div><div class="line">  <span class="attribute">overflow</span>: hidden;</div><div class="line">  <span class="attribute">text-overflow</span>: ellipsis;</div><div class="line">  <span class="attribute">white-space</span>: normal;</div><div class="line">  <span class="attribute">max-width</span>: <span class="number">250px</span>;</div><div class="line">  <span class="attribute">user-select</span>: none;</div><div class="line">  <span class="attribute">min-height</span>:<span class="number">50px</span>;</div><div class="line">  <span class="attribute">padding</span>: <span class="number">10px</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">/* MEDIA CALLS FOR CONTENTS DIV AND ITEMS CLASS */</span></div><div class="line">@<span class="keyword">media</span> (max-width: <span class="number">399px</span>) &#123;</div><div class="line">  <span class="selector-id">#contents_pwd</span>&#123; <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(1, 1fr); &#125;</div><div class="line">  <span class="selector-class">.contents_item</span> &#123; <span class="attribute">max-width</span>: <span class="number">320px</span>; &#125;</div><div class="line">&#125;</div><div class="line">@<span class="keyword">media</span> (min-width: <span class="number">400px</span>) and (max-width: <span class="number">799px</span>) &#123;</div><div class="line">  <span class="selector-id">#contents_pwd</span>&#123; <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(3, 1fr); &#125;</div><div class="line">&#125;</div><div class="line">@<span class="keyword">media</span> (min-width: <span class="number">800px</span>)&#123;</div><div class="line">  <span class="selector-id">#contents_pwd</span>&#123; <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(6, 1fr); &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>When it comes to the very basic idea of what I wanted to start with making this I all ready have that working well. All I wanted was a way to navigate around a file system and then start a terminal window, or start another file manager and that is it. I also wanted to work out some platform specific things while I was at it such as starting a Linux bash prompt window in a Linux system, and a command prompt window in a windows system. So with that aid because I set the bar so low I was able to get what I wanted working fast which is great. However when it comes to turning this into a major project that other people might like to use I of course would have a lot more work ahead of me with this. That seams to be the case with every electronjs example project that I have started thus far though. The most basic form of the project is easy enough to get up and running, but work will never truly be done with it if I choose to continue to support it.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dustinpfister.github.io/2022/11/25/electronjs-example-file-manager/" data-id="clbl9g9z400be78v1rkezb68z" class="article-share-link">Share</a>
      
        <a href="https://dustinpfister.github.io/2022/11/25/electronjs-example-file-manager/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/electronjs/">electronjs</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2022/12/02/threejs-tetrahedron/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Pyramid AKA Tetrahedron Geometry in threejs.
        
      </div>
    </a>
  
  
    <a href="/2022/11/18/threejs-examples-curves-module/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Curves Module threejs project example</div>
    </a>
  
</nav>

  
</article>



<section id="comments">

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://dustinpfister.github.io/2022/11/25/electronjs-example-file-manager/index.html';
    this.page.identifier = '1015';
    this.page.title = 'File Manager Electronjs application example';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://dustinpfister-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular/">angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/api/">api</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/backbone/">backbone</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/discovery/">discovery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/electronjs/">electronjs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/games/">games</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/grunt/">grunt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hapi/">hapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/heroku/">heroku</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jquery/">jquery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lodash/">lodash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node-js/">node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/phaser/">phaser</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/statistics/">statistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/three-js/">three.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backbone/">backbone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/corejs/">corejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deterministic/">deterministic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discovery/">discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejs/">ejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/electronjs/">electronjs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hapi/">hapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jimp/">jimp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js13k/">js13k</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/structured-data/">structured-data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/themes/">themes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three-js/">three.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JSON/" style="font-size: 12.38px;">JSON</a> <a href="/tags/SEO/" style="font-size: 10.48px;">SEO</a> <a href="/tags/angular/" style="font-size: 13.33px;">angular</a> <a href="/tags/animation/" style="font-size: 11.9px;">animation</a> <a href="/tags/automation/" style="font-size: 11.9px;">automation</a> <a href="/tags/backbone/" style="font-size: 12.38px;">backbone</a> <a href="/tags/blog/" style="font-size: 15.24px;">blog</a> <a href="/tags/canvas/" style="font-size: 18.57px;">canvas</a> <a href="/tags/corejs/" style="font-size: 12.86px;">corejs</a> <a href="/tags/deterministic/" style="font-size: 10px;">deterministic</a> <a href="/tags/discovery/" style="font-size: 10.95px;">discovery</a> <a href="/tags/ejs/" style="font-size: 11.43px;">ejs</a> <a href="/tags/electronjs/" style="font-size: 13.81px;">electronjs</a> <a href="/tags/express/" style="font-size: 16.67px;">express</a> <a href="/tags/games/" style="font-size: 17.14px;">games</a> <a href="/tags/git/" style="font-size: 12.86px;">git</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hapi/" style="font-size: 15.24px;">hapi</a> <a href="/tags/heroku/" style="font-size: 11.9px;">heroku</a> <a href="/tags/hexo/" style="font-size: 14.76px;">hexo</a> <a href="/tags/jimp/" style="font-size: 10.48px;">jimp</a> <a href="/tags/jquery/" style="font-size: 11.43px;">jquery</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/js13k/" style="font-size: 10px;">js13k</a> <a href="/tags/linux/" style="font-size: 17.62px;">linux</a> <a href="/tags/lodash/" style="font-size: 18.57px;">lodash</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mongodb/" style="font-size: 14.76px;">mongodb</a> <a href="/tags/node-js/" style="font-size: 19.52px;">node.js</a> <a href="/tags/phaser/" style="font-size: 18.1px;">phaser</a> <a href="/tags/python/" style="font-size: 15.71px;">python</a> <a href="/tags/statistics/" style="font-size: 14.29px;">statistics</a> <a href="/tags/structured-data/" style="font-size: 10px;">structured-data</a> <a href="/tags/themes/" style="font-size: 10px;">themes</a> <a href="/tags/three-js/" style="font-size: 19.05px;">three.js</a> <a href="/tags/vuejs/" style="font-size: 16.19px;">vuejs</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/12/09/threejs-buffer-geometry-index/">Indexed Buffer Geometry in threejs</a>
          </li>
        
          <li>
            <a href="/2022/12/02/threejs-tetrahedron/">Pyramid AKA Tetrahedron Geometry in threejs.</a>
          </li>
        
          <li>
            <a href="/2022/11/25/electronjs-example-file-manager/">File Manager Electronjs application example</a>
          </li>
        
          <li>
            <a href="/2022/11/18/threejs-examples-curves-module/">Curves Module threejs project example</a>
          </li>
        
          <li>
            <a href="/2022/11/11/threejs-examples-audio-sample-alphas/">Audio Sample Data Alphas and threejs projects</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 Dustin Pfister<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      <br>
      <a href="/privacy.html" target="_blank">Privacy Policy</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/2021/02/19/threejs-examples/" class="mobile-nav-link">ThreeJS</a>
  
    <a href="/2020/03/23/canvas-example/" class="mobile-nav-link">Canvas</a>
  
    <a href="https://www.youtube.com/user/javaweaver" class="mobile-nav-link">Youtube</a>
  
    <a href="https://github.com/dustinpfister" class="mobile-nav-link">Github</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'dustinpfister-github-io';
  
  var disqus_url = 'https://dustinpfister.github.io/2022/11/25/electronjs-example-file-manager/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


  </div>
</body>
</html>