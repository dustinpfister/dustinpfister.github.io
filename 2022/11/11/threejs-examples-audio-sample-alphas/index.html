<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <!-- disqus image-->
  <meta property="og:image" content="https://dustinpfister.github.io/css/images/banner.jpg">
  
  <title>Audio Sample Data Alphas and threejs projects | Dustin John Pfister at github pages</title>
  
  <!-- no index tag or blank here -->
  
  
  <link rel="canonical" href="https://dustinpfister.github.io/2022/11/11/threejs-examples-audio-sample-alphas/" />

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="I have been making a few threejs videos lately in which I am testing out how to go about syncing video with audio. Thus far though I am just working out the timing in terms of time stamps and duration">
<meta property="og:type" content="article">
<meta property="og:title" content="Audio Sample Data Alphas and threejs projects">
<meta property="og:url" content="https://dustinpfister.github.io/2022/11/11/threejs-examples-audio-sample-alphas/index.html">
<meta property="og:site_name" content="Dustin John Pfister at github pages">
<meta property="og:description" content="I have been making a few threejs videos lately in which I am testing out how to go about syncing video with audio. Thus far though I am just working out the timing in terms of time stamps and duration">
<meta property="og:updated_time" content="2022-12-03T14:36:48.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Audio Sample Data Alphas and threejs projects">
<meta name="twitter:description" content="I have been making a few threejs videos lately in which I am testing out how to go about syncing video with audio. Thus far though I am just working out the timing in terms of time stamps and duration">
  
    <link rel="alternate" href="/atom.xml" title="Dustin John Pfister at github pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <!-- Google Analytics -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y8XLNG6JRW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Y8XLNG6JRW');
</script>
<!-- End Google Analytics -->


  <!-- structured data set in structured-data.ejs -->
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "email": "distin.pfister@gmail.com",
    "givenName": "Dustin",
    "familyName" : "Pfister",
    "additionalName": "John",
    "name": "Dustin John Pfister",
    "gender": "Male"
}
</script>
<!-- end structured data -->
  
  <!-- adsense if indexed -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1658284027672315",
    enable_page_level_ads: true
  });
  </script>
  
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <!-- added the image, as well as the link to my youtube -->
        <a href="https://www.youtube.com/user/javaweaver"><div class="selfimage"></div></a>
        <!--<a href="/" id="logo">Dustin John Pfister at github pages</a>-->
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/2021/02/19/threejs-examples/">ThreeJS</a>
        
          <a class="main-nav-link" href="/2020/03/23/canvas-example/">Canvas</a>
        
          <a class="main-nav-link" href="https://www.youtube.com/user/javaweaver">Youtube</a>
        
          <a class="main-nav-link" href="https://github.com/dustinpfister">Github</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <!-- removed rss link-->
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dustinpfister.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article itemscope itemtype="http://schema.org/Blog" id="post-threejs-examples-audio-sample-alphas" class="article article-type-post" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/11/11/threejs-examples-audio-sample-alphas/" class="article-date"> Published:
  <time datetime="2022-11-11T11:53:00.000Z" itemprop="datePublished">2022-11-11</time>
</a>

    <!-- other info (dustin) -->
    <a href="/2022/11/11/threejs-examples-audio-sample-alphas/" class="article-date"> Modified:
  <time datetime="2022-12-03T14:36:48.000Z" itemprop="dateModified">2022-12-03</time>
</a>

    <span class="article-date">V1.15</span>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/three-js/">three.js</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Audio Sample Data Alphas and threejs projects
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="text">
      
        <p>I have been making a few <a href="https://threejs.org/docs/index.html#manual/en/introduction/Creating-a-scene" target="_blank" rel="external">threejs</a> videos lately in which I am testing out how to go about syncing video with audio. Thus far though I am just working out the timing in terms of time stamps and duration and thus I am not taking into account any kind of actual audio sample data to adjust things that are going on when rendering my frames. However I have found that I can <a href="https://manual.audacityteam.org/man/sample_data_export.html" target="_blank" rel="external">export audio sample data</a> in an HTML file format when using <a href="https://en.wikipedia.org/wiki/Audacity_%28audio_editor%29" target="_blank" rel="external">Audacity</a> to work out the audio tracks that I want in this video. So I can adjust the sample rate so that I have just one sample per frame, and then I can export the sample data in an HTML file in which I have at least one sample point for each frame of the video. I can then also do this on a track by track basis, so that I have an HTML file of sample data for say drums, then another for bass, and yet another of samples, and so forth.</p>
<p>I then just need to make another <a href="/2021/02/19/threejs-examples/">threejs examples</a> project that will use something like the <a href="https://threejs.org/docs/index.html#api/en/loaders/FileLoader" target="_blank" rel="external">THREE.FileLoader</a> to load these HTML files of audio sample data. The just do a little additional work to create a kind of standard object of this data that I extract from the HTML files. I can then use an array of audio sample numbers that have been adjusted to be in the range of 0 and 1 as alpha values for anything and everything that will call for such a value to adjust things like scale, position, rotation, and any additional effects for any module that I am using and so forth. In other words the goal here is to create <a href="https://en.wikipedia.org/wiki/Music_visualization" target="_blank" rel="external">music visualization</a> using threejs, and audio sample data exported from Audacity.</p>
<a id="more"></a>
<iframe class="youtube_video" src="https://www.youtube.com/embed/67j1q73byqc" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>


<h2 id="The-sample-data-module-threejs-example-and-what-to-know-first"><a href="#The-sample-data-module-threejs-example-and-what-to-know-first" class="headerlink" title="The sample data module threejs example and what to know first"></a>The sample data module threejs example and what to know first</h2><p>This is a post on a javaScript module that I have made that I am using to load and parse audio sample data that was exported from audio editor program known as Audacity. The module makes use of the THREE.FileLoader feature of the javaScript library know as threejs which is baked into the core of the library. This is then not a <a href="/2018/04/04/threejs-getting-started/">post for people that are fairly new to threejs</a> and <a href="/2018/11/27/js-getting-started/">client side javaScript in general</a> then. Also I will not be getting into detail about every little feature of Audacity as well and trust that you know enough about how to create an audio project that contains at least one or more tracks and how to export the sample data. Still I like to use these opening sections to write about at least some things that you might want to read up more on before counting to read the rest of the post.</p>
<h3 id="Source-code-and-additional-assets-are-up-on-Github"><a href="#Source-code-and-additional-assets-are-up-on-Github" class="headerlink" title="Source code and additional assets are up on Github"></a>Source code and additional assets are up on Github</h3><p>The source code that I am writing about here as well as the audio sample data files can be found in my <a href="https://github.com/dustinpfister/test_threejs/tree/master/views/forpost/threejs-examples-audio-sample-alphas" target="_blank" rel="external">test threejs</a> repository on Github. This is also where I am parking the sample data export files that I am loading in the demos for this post as well. This repo is also where I am parking the source code, notes, assets, and much more that I am using for all my <a href="/categories/three-js/">other blog posts on threejs as well</a>.</p>
<h3 id="Version-Numbers-matter"><a href="#Version-Numbers-matter" class="headerlink" title="Version Numbers matter"></a>Version Numbers matter</h3><p>When I first wrote this post I was using r146 of threejs, and things where working fine on my end with that revision.</p>
<h2 id="1-The-first-revision-of-the-module"><a href="#1-The-first-revision-of-the-module" class="headerlink" title="1 - The first revision of the module"></a>1 - The first revision of the module</h2><p>In this section I will be going over the source code of the first revision of the module as well as a few demos of the module as well. The main goal with this first version is to just simply load one or more html files that contain sample data, and create a result object. This result object will then have processed data for each file at the ready to work with by making use of additional public methods, or just directly working with the arrays of sample data when making a video project.</p>
<p>I am all ready running into a lot of things that I would like to do when it comes to future revisions, but for now I will just be exploring what these things are to some extent when it comes to the demos that make use of this first revision.</p>
<h3 id="1-0-The-source-code-of-the-module"><a href="#1-0-The-source-code-of-the-module" class="headerlink" title="1.0 - The source code of the module"></a>1.0 - The source code of the module</h3><p>The main method of interest for getting started with this is the load public method of the module. When I call this I give a base URL where I store the sample data files that I exported from Audacity. On top of giving a base URL I then give a list of HTML files that I would like to load from that base url. The file names for these files do very much matter a lot as the string values of the file names are what i will be using for key values of the resulting object that will contain the final sample objects.</p>
<p>I am using the THREE.Fileloader to load the HTML files of sample data, and all seems to go well with that, but then I had to find a way to pare the HTML into a workable DOM Object. When it comes to this there must be some kind of browser built in way to do this sort of thing now, and yes there is, what I want is the <a href="https://developer.mozilla.org/en-US/docs/Web/API/DOMParser" target="_blank" rel="external">DOMParser</a>. So I pass the HTML string to the DOMParser and the returned result is then a DOM object that I can use the variousDOM methods on such as <a href="/2020/06/23/js-document-queryselector/">query selector all</a> to help me extract the sample data that I want into an array.</p>
<p>When it comes to parsing the sample data into an array I am all ready sure that I will want more than one array for a sample object actually. I do not need to get all this nailed down for this first revision just yet as I am sure much of this I can leave for future revisions. So for now in terms of the core of the module at least I will have a raw, and abs array. As the name suggests the raw array is just the raw data extracted from what is in the html file, while the abs array is short for absolute value in which I am creating an array in which all the numbers are positive. When it comes to anything and everything else I can work methods that create other arrays from these arrays when making my demos for this module. What i work out and refine with them might then be baked into future revisions.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// sample_alphas.js - r0 - from threejs-examples-audio-sample-alphas</span></div><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">api</span>)</span>&#123;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// HELPERS</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">const</span> htmlStringToDOM = <span class="function">(<span class="params">html</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> parser = <span class="keyword">new</span> DOMParser();</div><div class="line">        <span class="keyword">return</span> parser.parseFromString(html, <span class="string">"text/html"</span>);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// create a sample object for the given html string</span></div><div class="line">    <span class="keyword">const</span> createSampleObj = <span class="function">(<span class="params">html, colNum</span>) =&gt;</span> &#123;</div><div class="line">        colNum = colNum === <span class="literal">undefined</span> ? <span class="number">2</span> : colNum;</div><div class="line">        <span class="keyword">const</span> sampleObj = &#123;</div><div class="line">            <span class="attr">raw</span>: [],</div><div class="line">            <span class="attr">abs</span>: [],</div><div class="line">            <span class="attr">maxABS</span>: <span class="number">0</span>, <span class="attr">maxRaw</span>: <span class="number">0</span>, <span class="attr">minRaw</span>: <span class="number">0</span></div><div class="line">        &#125;;</div><div class="line">        <span class="keyword">const</span> doc = htmlStringToDOM(html);</div><div class="line">        <span class="keyword">const</span> nodes = doc.querySelectorAll(<span class="string">'tr'</span>);</div><div class="line">        <span class="keyword">const</span> len = nodes.length;</div><div class="line">        <span class="keyword">let</span> i = <span class="number">1</span>;</div><div class="line">        <span class="keyword">while</span>(i &lt; len)&#123;</div><div class="line">            <span class="keyword">let</span> a1 = <span class="built_in">parseFloat</span>(nodes[i].children[colNum].textContent);</div><div class="line">            sampleObj.raw.push(a1);</div><div class="line">            sampleObj.abs.push( <span class="built_in">Math</span>.abs(a1) );</div><div class="line">            i += <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        sampleObj.maxRaw = <span class="built_in">Math</span>.max.apply(<span class="literal">null</span>, sampleObj.raw);</div><div class="line">        sampleObj.minRaw = <span class="built_in">Math</span>.min.apply(<span class="literal">null</span>, sampleObj.raw);</div><div class="line">        sampleObj.maxABS = <span class="built_in">Math</span>.max.apply(<span class="literal">null</span>, sampleObj.abs);</div><div class="line">        <span class="keyword">return</span> sampleObj;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// MANAGER</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">const</span> createLoadingManager = <span class="function">(<span class="params">onDone, onError</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> manager = <span class="keyword">new</span> THREE.LoadingManager();</div><div class="line">        <span class="comment">// done</span></div><div class="line">        manager.onLoad = <span class="function"><span class="keyword">function</span> (<span class="params"> </span>) </span>&#123; onDone(); &#125;;</div><div class="line">        <span class="comment">// ERROR</span></div><div class="line">        manager.onError = <span class="function"><span class="keyword">function</span> (<span class="params"> url </span>) </span>&#123; onError(url); &#125;;</div><div class="line">        <span class="keyword">return</span> manager;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// MAIN LOAD PUBLIC METHOD</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    api.load = <span class="function"><span class="keyword">function</span>(<span class="params">opt</span>)</span>&#123;</div><div class="line">        opt = opt || &#123;&#125;;</div><div class="line">        opt.URLS_BASE = opt.URLS_BASE || <span class="string">''</span>;</div><div class="line">        opt.URLS = opt.URLS || [];</div><div class="line">        opt.colNum = opt.colNum === <span class="literal">undefined</span> ? <span class="number">2</span> : opt.colNum;</div><div class="line">        opt.keyer = opt.keyer || <span class="function"><span class="keyword">function</span>(<span class="params">url, html</span>)</span>&#123;</div><div class="line">            <span class="keyword">const</span> file_name = url.split(<span class="string">'/'</span>).pop().split(<span class="string">'.'</span>)[<span class="number">0</span>];</div><div class="line">            <span class="keyword">return</span> file_name;</div><div class="line">        &#125;;</div><div class="line">        <span class="keyword">const</span> files = &#123;&#125;;</div><div class="line">        <span class="comment">// return a promise</span></div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>)</span>&#123;</div><div class="line">            <span class="keyword">const</span> manager = createLoadingManager(</div><div class="line">                <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">                    resolve(files);</div><div class="line">                &#125;,</div><div class="line">                (url) =&gt; &#123;</div><div class="line">                    reject(url);</div><div class="line">                &#125;</div><div class="line">            );</div><div class="line">            <span class="keyword">const</span> loader = <span class="keyword">new</span> THREE.FileLoader(manager);</div><div class="line">            opt.URLS.forEach(<span class="function">(<span class="params">url</span>) =&gt;</span> &#123;</div><div class="line">                <span class="comment">// set base url path</span></div><div class="line">                loader.setPath(opt.URLS_BASE);</div><div class="line">                <span class="comment">// load files from base</span></div><div class="line">                loader.load(url, (html) =&gt; &#123;</div><div class="line">                    <span class="comment">// KEY IN THE SAMPLE OBJECT</span></div><div class="line">                    <span class="keyword">const</span> key = opt.keyer(url, html);</div><div class="line">                    files[key] = createSampleObj(html, opt.colNum);</div><div class="line">                &#125;);</div><div class="line">            &#125;);</div><div class="line">        &#125;);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// Get method</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// return a sample alpha value ( 0 - 1 ) for a given alpha value ( 0 - 1 )</span></div><div class="line">    <span class="comment">// for the given result object and sample key</span></div><div class="line">    api.getByAlpha = <span class="function">(<span class="params">result, key, alpha</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> sampleObj = result[key];</div><div class="line">        <span class="keyword">const</span> absNum = sampleObj.abs[ <span class="built_in">Math</span>.round( ( sampleObj.abs.length - <span class="number">1</span>) * alpha) ];</div><div class="line">        <span class="keyword">return</span> absNum / sampleObj.maxABS;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// get an array of alpha values for the given result object and key. The count value</span></div><div class="line">    <span class="comment">// will then be the number of elements in the array</span></div><div class="line">    api.getArray = <span class="function">(<span class="params">result, key, count</span>) =&gt;</span> &#123;</div><div class="line">        count = count === <span class="literal">undefined</span> ? <span class="number">10</span> : count;</div><div class="line">        <span class="keyword">let</span> i = <span class="number">0</span>;</div><div class="line">        <span class="keyword">const</span> alphas = [];</div><div class="line">        <span class="keyword">while</span>(i &lt; count)&#123;</div><div class="line">           alphas.push( sampleAlpha.getByAlpha(result, key, i / ( count - <span class="number">1</span>) ) );</div><div class="line">           i += <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> alphas</div><div class="line">    &#125;;</div><div class="line">&#125;( <span class="keyword">this</span>[<span class="string">'sampleAlpha'</span>] = &#123;&#125; ));</div></pre></td></tr></table></figure>
<h3 id="1-1-Using-two-tracks"><a href="#1-1-Using-two-tracks" class="headerlink" title="1.1 - Using two tracks"></a>1.1 - Using two tracks</h3><p>For this demo I wanted to test out using more than one audio sample data file so I am calling the load method of the module and passing an array of two files one for a base line and another for drums. I am then using the final audio data to effect the scale position and rotation of a mesh of a cube.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">    <span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">32</span> / <span class="number">24</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line">    camera.position.set(<span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>);</div><div class="line">    camera.lookAt(<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>);</div><div class="line">    <span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">    renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">    (<span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body).appendChild(renderer.domElement);</div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="comment">// STATE</span></div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="keyword">const</span> state = &#123;</div><div class="line">       <span class="attr">result</span>: <span class="literal">null</span></div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="comment">// OBJECTS</span></div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    scene.add( <span class="keyword">new</span> THREE.GridHelper( <span class="number">10</span>,<span class="number">10</span> ) );</div><div class="line">    <span class="keyword">const</span> box = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">        <span class="keyword">new</span> THREE.BoxGeometry(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>),</div><div class="line">        <span class="keyword">new</span> THREE.MeshNormalMaterial());</div><div class="line">    scene.add(box);</div><div class="line">    <span class="keyword">const</span> box_bass = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">        <span class="keyword">new</span> THREE.BoxGeometry(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>),</div><div class="line">        <span class="keyword">new</span> THREE.MeshNormalMaterial());</div><div class="line">    box_bass.position.set(<span class="number">-3</span>, <span class="number">0</span>, <span class="number">-1</span>);</div><div class="line">    scene.add(box_bass);</div><div class="line">    <span class="keyword">const</span> box_drums = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">        <span class="keyword">new</span> THREE.BoxGeometry(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>),</div><div class="line">        <span class="keyword">new</span> THREE.MeshNormalMaterial());</div><div class="line">    box_drums.position.set(<span class="number">-5</span>, <span class="number">0</span>, <span class="number">-1</span>);</div><div class="line">    scene.add(box_drums);</div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="comment">// ANIMATION LOOP</span></div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="keyword">const</span> FPS_UPDATE = <span class="number">30</span>, <span class="comment">// fps rate to update ( low fps for low CPU use, but choppy video )</span></div><div class="line">    FPS_MOVEMENT = <span class="number">30</span>;     <span class="comment">// fps rate to move object by that is independent of frame update rate</span></div><div class="line">    FRAME_MAX = <span class="number">800</span>;</div><div class="line">    <span class="keyword">let</span> secs = <span class="number">0</span>,</div><div class="line">    frame = <span class="number">0</span>,</div><div class="line">    lt = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">    <span class="comment">// update</span></div><div class="line">    <span class="keyword">const</span> update = <span class="function"><span class="keyword">function</span>(<span class="params">frame, frameMax</span>)</span>&#123;</div><div class="line">        <span class="keyword">const</span> a1 = frame / frameMax;</div><div class="line">        <span class="keyword">const</span> a2 = sampleAlpha.getByAlpha(state.result, <span class="string">'bv_006_bass'</span>, a1);</div><div class="line">        <span class="keyword">const</span> a3 = sampleAlpha.getByAlpha(state.result, <span class="string">'bv_006_drums'</span>, a1);</div><div class="line">        <span class="keyword">const</span> s = <span class="number">0.25</span> + <span class="number">1.75</span> * a2;</div><div class="line">        box.scale.set(s, s, s);</div><div class="line">        box.position.y = s / <span class="number">2</span> + s * a3;</div><div class="line">        box.rotation.set(</div><div class="line">            <span class="built_in">Math</span>.PI * <span class="number">2</span> * <span class="built_in">Math</span>.random() * a3,</div><div class="line">            <span class="built_in">Math</span>.PI * <span class="number">2</span> * <span class="built_in">Math</span>.random() * a3,</div><div class="line">            <span class="built_in">Math</span>.PI * <span class="number">2</span> * <span class="built_in">Math</span>.random() * a3</div><div class="line">        )</div><div class="line">        </div><div class="line">        box_bass.scale.set(<span class="number">1</span>, <span class="number">0.1</span> + a2 * <span class="number">2.9</span>, <span class="number">1</span>);</div><div class="line">        box_bass.position.y = a2 * <span class="number">3</span> / <span class="number">2</span>;</div><div class="line">        box_drums.scale.set(<span class="number">1</span>, <span class="number">0.1</span> + a3 * <span class="number">2.9</span>, <span class="number">1</span>);</div><div class="line">        box_drums.position.y = a3 * <span class="number">3</span> / <span class="number">2</span>;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// loop</span></div><div class="line">    <span class="keyword">const</span> loop = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">        secs = (now - lt) / <span class="number">1000</span>;</div><div class="line">        requestAnimationFrame(loop);</div><div class="line">        <span class="keyword">if</span>(secs &gt; <span class="number">1</span> / FPS_UPDATE)&#123;</div><div class="line">            <span class="comment">// update, render</span></div><div class="line">            update( <span class="built_in">Math</span>.floor(frame), FRAME_MAX);</div><div class="line">            renderer.render(scene, camera);</div><div class="line">            <span class="comment">// step frame</span></div><div class="line">            frame += FPS_MOVEMENT * secs;</div><div class="line">            frame %= FRAME_MAX;</div><div class="line">            lt = now;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="comment">// LOADER</span></div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    sampleAlpha.load(&#123;</div><div class="line">        <span class="attr">URLS_BASE</span>: <span class="string">'/demos/r146/get-audio-alphas/sample-data/'</span>,</div><div class="line">        <span class="attr">URLS</span>: [</div><div class="line">           <span class="string">'glavin.html'</span>,</div><div class="line">           <span class="string">'bv_006_bass.html'</span>,</div><div class="line">           <span class="string">'bv_006_drums.html'</span> ]</div><div class="line">    &#125;)</div><div class="line">    .then(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</div><div class="line">        state.result = result;</div><div class="line">        <span class="built_in">console</span>.log( sampleAlpha.getArray( result, <span class="string">'glavin'</span>, <span class="number">10</span>) );</div><div class="line">        <span class="built_in">console</span>.log( sampleAlpha.getArray( result, <span class="string">'bv_006_bass'</span>, <span class="number">10</span>) );</div><div class="line">        <span class="built_in">console</span>.log( sampleAlpha.getArray( result, <span class="string">'bv_006_drums'</span>, <span class="number">10</span>) );</div><div class="line">        loop();</div><div class="line">    &#125;);</div><div class="line">&#125;());</div></pre></td></tr></table></figure>
<h3 id="1-2-Alpha-Sum-helper-example"><a href="#1-2-Alpha-Sum-helper-example" class="headerlink" title="1.2 - Alpha Sum helper example"></a>1.2 - Alpha Sum helper example</h3><p>The idea came to me that in some cases I might want to have an array where each element is the sum of the last element plus the current element. I can then get the max value of this array of values and use tht as a way to get an alpha value. This can then be used in situations in which I want to use sample data to effect something over a long period of time. For example say I want to move a box form one side of a scene to the other, over the length of the full duration of a video, but do so in sync with an audio track of a drum beat.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">    <span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">32</span> / <span class="number">24</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line">    camera.position.set(<span class="number">6</span>, <span class="number">6</span>, <span class="number">12</span>);</div><div class="line">    camera.lookAt(<span class="number">0</span>, <span class="number">-1</span>, <span class="number">0</span>);</div><div class="line">    camera.zoom = <span class="number">2</span>;</div><div class="line">    camera.updateProjectionMatrix();</div><div class="line">    <span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">    renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">    (<span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body).appendChild(renderer.domElement);</div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="comment">// HELPERS</span></div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="comment">// get sum array helper</span></div><div class="line">    <span class="keyword">const</span> getSumArray = <span class="function">(<span class="params">result, key</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> sampleObj = result[key];</div><div class="line">        <span class="keyword">const</span> alphas = sampleObj.abs;</div><div class="line">        <span class="keyword">const</span> sum_up = [];</div><div class="line">        <span class="keyword">let</span> i = <span class="number">0</span>;</div><div class="line">        <span class="keyword">const</span> len = alphas.length;</div><div class="line">        <span class="keyword">while</span>(i &lt; len)&#123;</div><div class="line">            <span class="keyword">const</span> a1 = alphas[i] / sampleObj.maxABS;</div><div class="line">            <span class="keyword">let</span> a2 = <span class="number">0</span>;</div><div class="line">            <span class="keyword">if</span>(i &gt; <span class="number">0</span>)&#123;</div><div class="line">               a2 = sum_up[ i - <span class="number">1</span>];</div><div class="line">            &#125;</div><div class="line">            sum_up.push(a1 + a2);</div><div class="line">            i += <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> sum_up;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="comment">// STATE</span></div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="keyword">const</span> state = &#123;</div><div class="line">       <span class="attr">result</span>: <span class="literal">null</span></div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="comment">// OBJECTS</span></div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    scene.add( <span class="keyword">new</span> THREE.GridHelper( <span class="number">20</span>, <span class="number">20</span> ) );</div><div class="line">    <span class="keyword">const</span> box1 = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">        <span class="keyword">new</span> THREE.BoxGeometry(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>),</div><div class="line">        <span class="keyword">new</span> THREE.MeshNormalMaterial());</div><div class="line">    scene.add(box1);</div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="comment">// ANIMATION LOOP</span></div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="keyword">const</span> FPS_UPDATE = <span class="number">30</span>, <span class="comment">// fps rate to update ( low fps for low CPU use, but choppy video )</span></div><div class="line">    FPS_MOVEMENT = <span class="number">30</span>;     <span class="comment">// fps rate to move object by that is independent of frame update rate</span></div><div class="line">    FRAME_MAX = <span class="number">800</span>;</div><div class="line">    <span class="keyword">let</span> secs = <span class="number">0</span>,</div><div class="line">    frame = <span class="number">0</span>,</div><div class="line">    lt = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">    <span class="comment">// update</span></div><div class="line">    <span class="keyword">const</span> update = <span class="function"><span class="keyword">function</span>(<span class="params">frame, frameMax</span>)</span>&#123;</div><div class="line">        <span class="keyword">const</span> a1 = frame / frameMax;</div><div class="line">        <span class="keyword">const</span> a2 = state.sum_array[ <span class="built_in">Math</span>.round( ( state.sum_array.length - <span class="number">1</span> ) * a1) ] / state.sum_max;</div><div class="line">        <span class="keyword">const</span> a3 = <span class="number">0.25</span> * a1 + <span class="number">0.75</span> * a2;</div><div class="line">        box1.position.set(<span class="number">-10</span> + <span class="number">20</span> * a3,<span class="number">0</span>,<span class="number">0</span>);</div><div class="line">        camera.lookAt(box1.position);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// loop</span></div><div class="line">    <span class="keyword">const</span> loop = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">        secs = (now - lt) / <span class="number">1000</span>;</div><div class="line">        requestAnimationFrame(loop);</div><div class="line">        <span class="keyword">if</span>(secs &gt; <span class="number">1</span> / FPS_UPDATE)&#123;</div><div class="line">            <span class="comment">// update, render</span></div><div class="line">            update( <span class="built_in">Math</span>.floor(frame), FRAME_MAX);</div><div class="line">            renderer.render(scene, camera);</div><div class="line">            <span class="comment">// step frame</span></div><div class="line">            frame += FPS_MOVEMENT * secs;</div><div class="line">            frame %= FRAME_MAX;</div><div class="line">            lt = now;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="comment">// LOADER</span></div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    sampleAlpha.load(&#123;</div><div class="line">        <span class="attr">URLS_BASE</span>: <span class="string">'/demos/r146/get-audio-alphas/sample-data/'</span>,</div><div class="line">        <span class="attr">URLS</span>: [</div><div class="line">           <span class="string">'glavin.html'</span>,</div><div class="line">           <span class="string">'bv_006_bass.html'</span>,</div><div class="line">           <span class="string">'bv_006_drums.html'</span> ]</div><div class="line">    &#125;)</div><div class="line">    .then(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</div><div class="line">        state.result = result;</div><div class="line">        state.sum_array = getSumArray(result, <span class="string">'bv_006_drums'</span>);</div><div class="line">        state.sum_max = state.sum_array[ state.sum_array.length - <span class="number">1</span>];</div><div class="line">        loop();</div><div class="line">    &#125;);</div><div class="line">&#125;());</div></pre></td></tr></table></figure>
<h3 id="1-3-Sample-Mean-method-to-help-smooth-things-out"><a href="#1-3-Sample-Mean-method-to-help-smooth-things-out" class="headerlink" title="1.3 - Sample Mean method to help smooth things out"></a>1.3 - Sample Mean method to help smooth things out</h3><p>I have found that often the reactions are a little jumpy, that is that the scale for example will jump all the way up and then back down often over the course of just one or two frames. I am thinking that a better visual effect is the the scale will jump up, but then slowly fall bak down over at least a little time. So I thought that maybe one way to go about something things out would be to have a method where I am going by not just a current sample point, but also a mean of the current sample as well as a few samples back. This seems to work well when it comes to a desire to smoothing things out a little.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">    <span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">32</span> / <span class="number">24</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line">    camera.position.set(<span class="number">6</span>, <span class="number">6</span>, <span class="number">12</span>);</div><div class="line">    camera.lookAt(<span class="number">0</span>, <span class="number">-1</span>, <span class="number">0</span>);</div><div class="line">    camera.zoom = <span class="number">2</span>;</div><div class="line">    camera.updateProjectionMatrix();</div><div class="line">    <span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">    renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">    (<span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body).appendChild(renderer.domElement);</div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="comment">// HELPERS</span></div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="comment">// get a sample alpha by a given sample index and a backCount that is</span></div><div class="line">    <span class="comment">// the max number of samples back to go to create a mean to use.</span></div><div class="line">    <span class="keyword">const</span> getByIndexMean = <span class="function">(<span class="params">result, key, csi, backCount</span>) =&gt;</span> &#123;</div><div class="line">        backCount = backCount === <span class="literal">undefined</span> ? <span class="number">3</span> : backCount;</div><div class="line">        <span class="keyword">const</span> sampleObj = result[key];</div><div class="line">        <span class="comment">// current sample index</span></div><div class="line">        <span class="keyword">const</span> bsi = csi - backCount;</div><div class="line">        <span class="comment">// by default just use the</span></div><div class="line">        <span class="keyword">let</span> samples = [];</div><div class="line">        <span class="comment">// if csi is bellow backCount</span></div><div class="line">        <span class="keyword">if</span>(bsi &lt; <span class="number">0</span>)&#123;</div><div class="line">            samples = sampleObj.abs.slice( <span class="number">0</span>, csi + <span class="number">1</span> );</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// we have at least the back count</span></div><div class="line">        <span class="keyword">if</span>(bsi &gt;= <span class="number">0</span>)&#123;</div><div class="line">            samples = sampleObj.abs.slice( bsi + <span class="number">1</span>, csi + <span class="number">1</span> );</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">let</span> absNum = <span class="number">0</span>; <span class="comment">//sampleObj.abs[ csi ];</span></div><div class="line">        <span class="keyword">const</span> sampCount = samples.length;</div><div class="line">        <span class="keyword">if</span>(sampCount &gt; <span class="number">0</span>)&#123;</div><div class="line">            <span class="keyword">const</span> sum = samples.reduce(<span class="function">(<span class="params">acc, n</span>) =&gt;</span> &#123; <span class="keyword">return</span> acc + n;  &#125;, <span class="number">0</span>);</div><div class="line">            absNum = sum / sampCount;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">const</span> alphaSamp = absNum / sampleObj.maxABS;</div><div class="line">        <span class="keyword">return</span> alphaSamp;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// get a sample alpha by a given alpha value and a backCount that is</span></div><div class="line">    <span class="comment">// the max number of samples back to go to create a mean to use.</span></div><div class="line">    <span class="keyword">const</span> getByAlphaMean = <span class="function">(<span class="params">result, key, alpha, backCount</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> sampleObj = result[key];</div><div class="line">        <span class="keyword">const</span> csi = <span class="built_in">Math</span>.round( ( sampleObj.abs.length - <span class="number">1</span>) * alpha);</div><div class="line">        <span class="keyword">return</span> getByIndexMean(result, key, csi, backCount);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// make a mesh helper</span></div><div class="line">    <span class="keyword">const</span> makeMesh = <span class="function">(<span class="params">x, y, z, color</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> mesh = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">            <span class="keyword">new</span> THREE.BoxGeometry(<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>),</div><div class="line">            <span class="keyword">new</span> THREE.MeshPhongMaterial(&#123; <span class="attr">color</span>: color &#125;));</div><div class="line">        mesh.position.set(x, y, z);</div><div class="line">        <span class="keyword">return</span> mesh;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="comment">// LIGHT</span></div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="keyword">const</span> dl = <span class="keyword">new</span> THREE.DirectionalLight(<span class="number">0xffffff</span>, <span class="number">1</span>);</div><div class="line">    dl.position.set(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</div><div class="line">    scene.add(dl);</div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="comment">// STATE</span></div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="keyword">const</span> state = &#123;</div><div class="line">       <span class="attr">result</span>: <span class="literal">null</span></div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="comment">// OBJECTS</span></div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="comment">// for the build in getByAlpha method that is limited to just one sample to create the alpha</span></div><div class="line">    scene.add( <span class="keyword">new</span> THREE.GridHelper( <span class="number">20</span>, <span class="number">20</span> ) );</div><div class="line">    <span class="keyword">const</span> mesh1 = makeMesh(<span class="number">-2</span>, <span class="number">0</span>, <span class="number">-2</span>, <span class="keyword">new</span> THREE.Color( <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>) );</div><div class="line">    scene.add(mesh1);</div><div class="line">    <span class="keyword">const</span> mesh2 = makeMesh(<span class="number">-2</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="keyword">new</span> THREE.Color( <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>) );</div><div class="line">    scene.add(mesh2);</div><div class="line">    <span class="comment">// for the getByAlphaMean method</span></div><div class="line">    <span class="keyword">const</span> mesh3 = makeMesh(<span class="number">2</span>, <span class="number">0</span>, <span class="number">-2</span>, <span class="keyword">new</span> THREE.Color( <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>) );</div><div class="line">    scene.add(mesh3);</div><div class="line">    <span class="keyword">const</span> mesh4 = makeMesh(<span class="number">2</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="keyword">new</span> THREE.Color( <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>) );</div><div class="line">    scene.add(mesh4);</div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="comment">// ANIMATION LOOP</span></div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="keyword">const</span> FPS_UPDATE = <span class="number">30</span>, <span class="comment">// fps rate to update ( low fps for low CPU use, but choppy video )</span></div><div class="line">    FPS_MOVEMENT = <span class="number">30</span>;     <span class="comment">// fps rate to move object by that is independent of frame update rate</span></div><div class="line">    FRAME_MAX = <span class="number">800</span>;</div><div class="line">    <span class="keyword">let</span> secs = <span class="number">0</span>,</div><div class="line">    frame = <span class="number">0</span>,</div><div class="line">    lt = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">    <span class="comment">// update</span></div><div class="line">    <span class="keyword">const</span> update = <span class="function"><span class="keyword">function</span>(<span class="params">frame, frameMax</span>)</span>&#123;</div><div class="line">        <span class="keyword">const</span> a1 = frame / frameMax;</div><div class="line">        <span class="keyword">const</span> a2 = sampleAlpha.getByAlpha(state.result, <span class="string">'bv_006_drums'</span>, a1);</div><div class="line">        <span class="keyword">const</span> a3 = getByAlphaMean(state.result, <span class="string">'bv_006_drums'</span>, a1, <span class="number">5</span>);</div><div class="line">        <span class="keyword">const</span> a4 = sampleAlpha.getByAlpha(state.result, <span class="string">'bv_006_bass'</span>, a1);</div><div class="line">        <span class="keyword">const</span> a5 = getByAlphaMean(state.result, <span class="string">'bv_006_bass'</span>, a1, <span class="number">5</span>);</div><div class="line">        <span class="keyword">const</span> s1 = <span class="number">0.1</span> + <span class="number">0.9</span> * a2;</div><div class="line">        mesh1.scale.set(<span class="number">1</span>, s1, <span class="number">1</span>);</div><div class="line">        <span class="keyword">const</span> s2 = <span class="number">0.1</span> + <span class="number">0.9</span> * a4;</div><div class="line">        mesh2.scale.set(<span class="number">1</span>, s2, <span class="number">1</span>);</div><div class="line">        <span class="keyword">const</span> s3 = <span class="number">0.1</span> + <span class="number">0.9</span> * a3;</div><div class="line">        mesh3.scale.set(<span class="number">1</span>, s3, <span class="number">1</span>);</div><div class="line">        <span class="keyword">const</span> s4 = <span class="number">0.1</span> + <span class="number">0.9</span> * a5;</div><div class="line">        mesh4.scale.set(<span class="number">1</span>, s4, <span class="number">1</span>);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// loop</span></div><div class="line">    <span class="keyword">const</span> loop = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">        secs = (now - lt) / <span class="number">1000</span>;</div><div class="line">        requestAnimationFrame(loop);</div><div class="line">        <span class="keyword">if</span>(secs &gt; <span class="number">1</span> / FPS_UPDATE)&#123;</div><div class="line">            <span class="comment">// update, render</span></div><div class="line">            update( <span class="built_in">Math</span>.floor(frame), FRAME_MAX);</div><div class="line">            renderer.render(scene, camera);</div><div class="line">            <span class="comment">// step frame</span></div><div class="line">            frame += FPS_MOVEMENT * secs;</div><div class="line">            frame %= FRAME_MAX;</div><div class="line">            lt = now;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="comment">// LOADER</span></div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    sampleAlpha.load(&#123;</div><div class="line">        <span class="attr">URLS_BASE</span>: <span class="string">'/demos/r146/get-audio-alphas/sample-data/'</span>,</div><div class="line">        <span class="attr">URLS</span>: [</div><div class="line">           <span class="string">'bv_006_drums.html'</span>, <span class="string">'bv_006_bass.html'</span>]</div><div class="line">    &#125;)</div><div class="line">    .then(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</div><div class="line">        state.result = result;</div><div class="line">        loop();</div><div class="line">    &#125;);</div><div class="line">&#125;());</div></pre></td></tr></table></figure>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>The module is working okay as I have it all ready, but I can all ready see that I am going to want to make at least one revision in which I bake some of the things that I have worked out in my demos into the module itself. There is also not just loading and processing sample data, but also what it is that I can do with just data. I would like to have better methods for things like certain paths that are the result of sample data and things to that effect, however maybe all of that is something that should all be part of another project.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dustinpfister.github.io/2022/11/11/threejs-examples-audio-sample-alphas/" data-id="cliqa076s024gbwv19c6k668v" class="article-share-link">Share</a>
      
        <a href="https://dustinpfister.github.io/2022/11/11/threejs-examples-audio-sample-alphas/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/three-js/">three.js</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2022/11/18/threejs-examples-curves-module/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Curves Module threejs project example
        
      </div>
    </a>
  
  
    <a href="/2022/11/04/threejs-examples-uvmap-cube-canvas-update/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">UV map of a cube set up once and then draw to a canvas texture threejs example.</div>
    </a>
  
</nav>

  
</article>



<section id="comments">

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://dustinpfister.github.io/2022/11/11/threejs-examples-audio-sample-alphas/index.html';
    this.page.identifier = '1013';
    this.page.title = 'Audio Sample Data Alphas and threejs projects';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://dustinpfister-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular/">angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/api/">api</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/backbone/">backbone</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/discovery/">discovery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/electronjs/">electronjs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/games/">games</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/grunt/">grunt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hapi/">hapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/heroku/">heroku</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jquery/">jquery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lodash/">lodash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node-js/">node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/phaser/">phaser</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/statistics/">statistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/three-js/">three.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backbone/">backbone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/corejs/">corejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deterministic/">deterministic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discovery/">discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejs/">ejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/electronjs/">electronjs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hapi/">hapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jimp/">jimp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js13k/">js13k</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/structured-data/">structured-data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/themes/">themes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three-js/">three.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JSON/" style="font-size: 12.27px;">JSON</a> <a href="/tags/SEO/" style="font-size: 10.45px;">SEO</a> <a href="/tags/angular/" style="font-size: 13.18px;">angular</a> <a href="/tags/animation/" style="font-size: 11.82px;">animation</a> <a href="/tags/automation/" style="font-size: 11.82px;">automation</a> <a href="/tags/backbone/" style="font-size: 12.27px;">backbone</a> <a href="/tags/blog/" style="font-size: 15.45px;">blog</a> <a href="/tags/canvas/" style="font-size: 18.64px;">canvas</a> <a href="/tags/corejs/" style="font-size: 12.73px;">corejs</a> <a href="/tags/deterministic/" style="font-size: 10px;">deterministic</a> <a href="/tags/discovery/" style="font-size: 10.91px;">discovery</a> <a href="/tags/ejs/" style="font-size: 11.36px;">ejs</a> <a href="/tags/electronjs/" style="font-size: 13.64px;">electronjs</a> <a href="/tags/express/" style="font-size: 16.82px;">express</a> <a href="/tags/games/" style="font-size: 17.27px;">games</a> <a href="/tags/git/" style="font-size: 13.64px;">git</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hapi/" style="font-size: 15px;">hapi</a> <a href="/tags/heroku/" style="font-size: 11.82px;">heroku</a> <a href="/tags/hexo/" style="font-size: 14.55px;">hexo</a> <a href="/tags/jimp/" style="font-size: 10.45px;">jimp</a> <a href="/tags/jquery/" style="font-size: 11.36px;">jquery</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/js13k/" style="font-size: 10px;">js13k</a> <a href="/tags/linux/" style="font-size: 17.73px;">linux</a> <a href="/tags/lodash/" style="font-size: 18.64px;">lodash</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mongodb/" style="font-size: 14.55px;">mongodb</a> <a href="/tags/node-js/" style="font-size: 19.55px;">node.js</a> <a href="/tags/phaser/" style="font-size: 18.18px;">phaser</a> <a href="/tags/python/" style="font-size: 15.91px;">python</a> <a href="/tags/statistics/" style="font-size: 14.09px;">statistics</a> <a href="/tags/structured-data/" style="font-size: 10px;">structured-data</a> <a href="/tags/themes/" style="font-size: 10px;">themes</a> <a href="/tags/three-js/" style="font-size: 19.09px;">three.js</a> <a href="/tags/vuejs/" style="font-size: 16.36px;">vuejs</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">July 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/06/">June 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">May 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">April 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/07/23/threejs-lathe-geometry/">Lathe Geometry in threejs</a>
          </li>
        
          <li>
            <a href="/2023/06/09/threejs-vector2/">The Vector2 class for 2D curves, mouse pointers, ect</a>
          </li>
        
          <li>
            <a href="/2023/06/08/linux-dd/">Linux dd command and files</a>
          </li>
        
          <li>
            <a href="/2023/06/06/linux-sysbench/">Linux sysbench command for benchmarking a file system</a>
          </li>
        
          <li>
            <a href="/2023/06/02/threejs-tube-geometry/">Tube Geometry in threejs</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2023 Dustin Pfister<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      <br>
      <a href="/privacy.html" target="_blank">Privacy Policy</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/2021/02/19/threejs-examples/" class="mobile-nav-link">ThreeJS</a>
  
    <a href="/2020/03/23/canvas-example/" class="mobile-nav-link">Canvas</a>
  
    <a href="https://www.youtube.com/user/javaweaver" class="mobile-nav-link">Youtube</a>
  
    <a href="https://github.com/dustinpfister" class="mobile-nav-link">Github</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'dustinpfister-github-io';
  
  var disqus_url = 'https://dustinpfister.github.io/2022/11/11/threejs-examples-audio-sample-alphas/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


  </div>
</body>
</html>