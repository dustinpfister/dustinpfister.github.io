<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <!-- disqus image-->
  <meta property="og:image" content="https://dustinpfister.github.io/css/images/banner.jpg">
  
  <title>A source layer 3d drawing application threejs example | Dustin John Pfister at github pages</title>
  
  <!-- no index tag or blank here -->
  
  
  <link rel="canonical" href="https://dustinpfister.github.io/2022/02/11/threejs-examples-tool-source-layer-3d/" />

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="For this threejs project example I wanted to make a 3D version of a 2d canvas javaScript project that I made a little while back that has to do with something I am calling a source layer. The general">
<meta property="og:type" content="article">
<meta property="og:title" content="A source layer 3d drawing application threejs example">
<meta property="og:url" content="https://dustinpfister.github.io/2022/02/11/threejs-examples-tool-source-layer-3d/index.html">
<meta property="og:site_name" content="Dustin John Pfister at github pages">
<meta property="og:description" content="For this threejs project example I wanted to make a 3D version of a 2d canvas javaScript project that I made a little while back that has to do with something I am calling a source layer. The general">
<meta property="og:updated_time" content="2023-01-11T15:54:02.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="A source layer 3d drawing application threejs example">
<meta name="twitter:description" content="For this threejs project example I wanted to make a 3D version of a 2d canvas javaScript project that I made a little while back that has to do with something I am calling a source layer. The general">
  
    <link rel="alternate" href="/atom.xml" title="Dustin John Pfister at github pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <!-- Google Analytics -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y8XLNG6JRW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Y8XLNG6JRW');
</script>
<!-- End Google Analytics -->


  <!-- structured data set in structured-data.ejs -->
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "email": "distin.pfister@gmail.com",
    "givenName": "Dustin",
    "familyName" : "Pfister",
    "additionalName": "John",
    "name": "Dustin John Pfister",
    "gender": "Male"
}
</script>
<!-- end structured data -->
  
  <!-- adsense if indexed -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1658284027672315",
    enable_page_level_ads: true
  });
  </script>
  
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <!-- added the image, as well as the link to my youtube -->
        <a href="https://www.youtube.com/user/javaweaver"><div class="selfimage"></div></a>
        <!--<a href="/" id="logo">Dustin John Pfister at github pages</a>-->
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/2021/02/19/threejs-examples/">ThreeJS</a>
        
          <a class="main-nav-link" href="/2020/03/23/canvas-example/">Canvas</a>
        
          <a class="main-nav-link" href="https://www.youtube.com/user/javaweaver">Youtube</a>
        
          <a class="main-nav-link" href="https://github.com/dustinpfister">Github</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <!-- removed rss link-->
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dustinpfister.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article itemscope itemtype="http://schema.org/Blog" id="post-threejs-examples-tool-source-layer-3d" class="article article-type-post" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/02/11/threejs-examples-tool-source-layer-3d/" class="article-date"> Published:
  <time datetime="2022-02-11T18:15:00.000Z" itemprop="datePublished">2022-02-11</time>
</a>

    <!-- other info (dustin) -->
    <a href="/2022/02/11/threejs-examples-tool-source-layer-3d/" class="article-date"> Modified:
  <time datetime="2023-01-11T15:54:02.000Z" itemprop="dateModified">2023-01-11</time>
</a>

    <span class="article-date">V1.32</span>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/three-js/">three.js</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      A source layer 3d drawing application threejs example
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="text">
      
        <p>For this <a href="/2021/02/19/threejs-examples/">threejs project example</a> I wanted to make a 3D version of a <a href="/2022/01/31/js-javascript-example-tool-source-layer-2d/">2d canvas javaScript project</a> that I made a little while back that has to do with something I am calling a source layer. The general idea of what I have in mind here is to make my own art program that involves setting up what the content of a resource layer is, then I have one or more additional canvas layers positioned on top of that source layer that I draw on. </p>
<p>There may be alternative ways of doing this sort of thing such as just creating a scene the way that I want to, adjust the position of the camera and so forth and then just take a still picture and open that still picture up in an image editing program like GIMP. Any decent image manipulation program such as GIMP will have layers as a feature, so I can add the still of the scene as a source layer, then create another layer on top of that and draw to that. with that said there is the question of how to go about justifying making something like this rather than just using tools that are all ready out there to work with. I can not think of that much, but for starters there is just making a minimal custom tailored program that is made for a specific kind of work flow, or over all style. Aside from that it is possible that this example might just prove to be another one of my unfinished prototypes for some kind of application using threejs.</p>
<p>I would like to make at least one, if not more projects that function as a kind of tool to help in in the process of making projects though. This project might not prove to be the best example of this kind of thing, but sooner or later I might expand on this specific kind of threejs example. That is to create some kind of tool that helps in in the process of making some kind of asset or file product.</p>
<a id="more"></a>
<h2 id="This-source-layer-threejs-project-example-and-what-to-know-first"><a href="#This-source-layer-threejs-project-example-and-what-to-know-first" class="headerlink" title="This source layer threejs project example, and what to know first"></a>This source layer threejs project example, and what to know first</h2><p>This is a project in which I am using <a href="/2018/04/04/threejs-getting-started/">threejs</a>, as well as <a href="/2019/05/05/vuejs-getting-started/">vuejs</a> when it comes to front end libraries. I am also using one additional file on top of just threejs alone that is the <a href="/2021/04/30/threejs-dae-collada-loader/">Collada File loader</a> that can be found in the threejs github repository. On top of that I am also making use of several javaScript files of my own that make use of these various files that have to do with threejs and vuejs, as well as a little back end code, and I am also using dae files are a resource for this art application example on top of that actually.</p>
<p>So if you are still fairly new to javaScript this post might prove to be a little to advanced for you, also even if you have some experience with javaScript it still might be a bit of a pain to reproduce what I am writing about here on you end. So maybe the best way would be to clone down my test vjs github repository and do an npm install in order to set things up quick. In any case in this section I will be going over a few quick points about this project example that one should e aware of before continuing to read the result of the content in this post.</p>
<h3 id="The-source-code-for-this-example-is-on-Github"><a href="#The-source-code-for-this-example-is-on-Github" class="headerlink" title="The source code for this example is on Github"></a>The source code for this example is on Github</h3><p>The full source code for this project example, as well as the source code for older revisions, and any additional revisions to which I have not revised this content for possible can be found in my <a href="https://github.com/dustinpfister/test_threejs/tree/master/views/forpost/threejs-examples-tool-source-layer-3d" target="_blank" rel="external">test threejs repository</a> on Github. If you want to reproduce what I am writing about here on you end it might be best to install the full project there, as I am making use of additional back end code, and dea models and so forth.</p>
<h3 id="Version-numbers-matter-with-threejs"><a href="#Version-numbers-matter-with-threejs" class="headerlink" title="Version numbers matter with threejs"></a>Version numbers matter with threejs</h3><p>When I was first working on this example I was using <a href="https://github.com/mrdoob/three.js/releases/tag/r127" target="_blank" rel="external">r127 of threejs</a>, and I am also using 2.6.14 of vuejs. The vuejs library seems to be fairly solid, and development on it is slow, however that is not so much the case with threejs as new revisions come out often and code breaking changes are often introduces in new revisions.</p>
<h2 id="1-The-Main-javaScript-file"><a href="#1-The-Main-javaScript-file" class="headerlink" title="1 - The Main javaScript file"></a>1 - The Main javaScript file</h2><p>In my main javaScript file I have code worked out for the scene layer of this project as well as additional code that has to do with updating the content of this scene layer.</p>
<p>For the source layer application I am doing the typical set of things that are true with any threejs application as such it is here that I am creating a scene, camera, light, and renderer objects that compose any other threejs object. On top of that thought I am also creating a vuejs instance that will serve as a way to <a href="/2019/05/07/vuejs-template/">create a template</a> for a user interface that will be used to mutate settings for a <a href="/2019/05/18/vuejs-data/">vue data object</a>, and then it will be these vue data object settings that will be used to then update values of the scene and render the new state of the scene.</p>
<p>I have found a way to directly work with the Collada loader in revision 1 of this example. To do so I just need to pass the text content for the first argument of the parser, and then the path argument of the loader is used to know what the base url is when it comes to loading any additional assets that the dea file may use such as textures. So then there is a file input element that is used to load the dae file, and then there is also a dea path text input element that is used to set what the path os for any additional assets. The path set must be absolute relative to the view folder in my test threejs project folder.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line"> </div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="comment">// SCENE CAMERA LIGHT, RENDERER, and CONTAINER</span></div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="keyword">var</span> scene = <span class="keyword">new</span> THREE.Scene(); <span class="comment">// scene</span></div><div class="line">    scene.add(<span class="keyword">new</span> THREE.GridHelper(<span class="number">20</span>, <span class="number">20</span>));</div><div class="line">    scene.background = <span class="keyword">new</span> THREE.Color(<span class="string">'cyan'</span>);</div><div class="line">    <span class="keyword">var</span> pl = <span class="keyword">new</span> THREE.PointLight(<span class="number">0xffffff</span>); <span class="comment">// point light</span></div><div class="line">    pl.position.set(<span class="number">2</span>, <span class="number">5</span>, <span class="number">3</span>);</div><div class="line">    scene.add(pl);</div><div class="line">    <span class="keyword">var</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">4</span> / <span class="number">3</span>, <span class="number">.5</span>, <span class="number">1000</span>); <span class="comment">// camera</span></div><div class="line">    camera.position.set(<span class="number">-15</span>, <span class="number">15</span>, <span class="number">-15</span>);</div><div class="line">    camera.add(pl);</div><div class="line">    camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">    scene.add(camera);</div><div class="line">    <span class="keyword">var</span> renderer = <span class="keyword">new</span> THREE.WebGLRenderer(); <span class="comment">// render</span></div><div class="line">    renderer.setSize(<span class="number">640</span>, <span class="number">480</span>);</div><div class="line">    <span class="keyword">var</span> container = <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>);</div><div class="line">    renderer.domElement.style.position = <span class="string">'absolute'</span>;</div><div class="line">    container.style.width = <span class="string">"940px"</span>;</div><div class="line">    container.style.height = <span class="string">"480px"</span>;</div><div class="line">    container.style.position = <span class="string">'relative'</span>;</div><div class="line">    container.appendChild(renderer.domElement);</div><div class="line"> </div><div class="line">    <span class="keyword">var</span> div_sl = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</div><div class="line">    div_sl.id = <span class="string">'source-layer-ui'</span>;</div><div class="line">    container.appendChild(div_sl);</div><div class="line"> </div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="comment">// SOURCE LAYER UI</span></div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line"> </div><div class="line">    <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</div><div class="line">            <span class="attr">el</span>: <span class="string">'#source-layer-ui'</span>,</div><div class="line">            <span class="attr">template</span>: <span class="string">'&lt;div style="background:#00afaf;position:relative;left:640px;width:280px;padding:10px;"&gt;'</span> +</div><div class="line">            <span class="string">'&lt;h4&gt;SOURCE LAYER 3D &lt;span&gt;&#123;&#123; version &#125;&#125;&lt;/span&gt; UI: &lt;/h4&gt;'</span> +</div><div class="line">            <span class="string">'&lt;h5&gt;Model&lt;/h5&gt;'</span> +</div><div class="line">            <span class="string">'&lt;span&gt; &lt;input type="button" value="clear" v-on:click="clear"&gt; &lt;/span&gt;&lt;br&gt; '</span> +</div><div class="line">            <span class="string">'&lt;span&gt; dea file: &lt;input type="file" v-on:change="loadFile"&gt; &lt;/span&gt;&lt;br&gt; '</span> +</div><div class="line">            <span class="string">'&lt;span&gt; dae path: &lt;input type="text" v-model="path" &gt; &lt;/span&gt;&lt;br&gt; '</span> +</div><div class="line">            <span class="string">'&lt;h5&gt;Zoom and Rotate&lt;/h5&gt;'</span> +</div><div class="line">            <span class="string">'&lt;span&gt; zoom:  &lt;input v-model="zoom" type="range" min="2" max="20" step="0.25"&gt;&lt;/span&gt; &#123;&#123; zoom &#125;&#125; &lt;br&gt; '</span> +</div><div class="line">            <span class="string">'&lt;span&gt; phi:   &lt;input v-model="phi" type="range" min="0" max="360" step="1"&gt;&lt;/span&gt; &#123;&#123; phi &#125;&#125; &lt;br&gt;'</span> +</div><div class="line">            <span class="string">'&lt;span&gt; theta: &lt;input v-model="theta" type="range" min="0" max="360" step="1"&gt;&lt;/span&gt; &#123;&#123; theta &#125;&#125; &lt;br&gt;'</span> +</div><div class="line">            <span class="string">'&lt;/div&gt;'</span>,</div><div class="line">            <span class="attr">mounted</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">                <span class="keyword">this</span>.setZoom();</div><div class="line">                <span class="comment">// creating dea objects</span></div><div class="line">                <span class="keyword">this</span>.$data.daeObjects = DAE.create(&#123;</div><div class="line">                    <span class="attr">onItemProgress</span>: <span class="function"><span class="keyword">function</span> (<span class="params">per, n, d</span>) </span>&#123;&#125;,</div><div class="line">                    <span class="attr">onFileLoad</span>: <span class="function"><span class="keyword">function</span> (<span class="params">result, allResults, daeObjects</span>) </span>&#123;&#125;,</div><div class="line">                    <span class="attr">onLoad</span>: <span class="function"><span class="keyword">function</span> (<span class="params">daeObjects, results</span>) </span>&#123;</div><div class="line">                        results.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">result, i</span>) </span>&#123;</div><div class="line">                            <span class="keyword">var</span> group = DAE.createGroup(daeObjects, result);</div><div class="line">                            group.z = <span class="number">0</span>;</div><div class="line">                            scene.add(group);</div><div class="line">                        &#125;);</div><div class="line">                        renderer.render(scene, camera);</div><div class="line">                    &#125;</div><div class="line">                &#125;);</div><div class="line">                <span class="keyword">this</span>.loadDEAFiles();</div><div class="line">            &#125;,</div><div class="line">            <span class="attr">updated</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">                <span class="keyword">this</span>.setZoom();</div><div class="line">            &#125;,</div><div class="line">            <span class="attr">data</span>: &#123;</div><div class="line">                <span class="attr">version</span>: <span class="string">'r1'</span>,</div><div class="line">                <span class="attr">path</span>: <span class="string">'/dae/rpi4/'</span>,</div><div class="line">                <span class="attr">zoom</span>: <span class="number">20</span>,</div><div class="line">                <span class="attr">phi</span>: <span class="number">65</span>,</div><div class="line">                <span class="attr">theta</span>: <span class="number">45</span>,</div><div class="line">                <span class="attr">daeObjects</span>: <span class="literal">null</span></div><div class="line">            &#125;,</div><div class="line">            <span class="attr">methods</span>: &#123;</div><div class="line">                <span class="comment">// set zoom and rotation</span></div><div class="line">                setZoom: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">                    <span class="keyword">var</span> dat = <span class="keyword">this</span>.$data,</div><div class="line">                    phi = dat.phi / <span class="number">360</span> * (<span class="built_in">Math</span>.PI * <span class="number">2</span>),</div><div class="line">                    theta = dat.theta / <span class="number">360</span> * (<span class="built_in">Math</span>.PI * <span class="number">2</span>);</div><div class="line">                    camera.position.setFromSphericalCoords(dat.zoom, phi, theta);</div><div class="line">                    camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">                    renderer.render(scene, camera);</div><div class="line">                &#125;,</div><div class="line">                <span class="comment">// clear the source layer</span></div><div class="line">                clear: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">                    <span class="built_in">console</span>.log(<span class="string">'clear'</span>);</div><div class="line">                    <span class="keyword">this</span>.$data.daeObjects = DAE.create(&#123;&#125;);</div><div class="line">                    scene.children.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">obj3d</span>) </span>&#123;</div><div class="line">                        <span class="built_in">console</span>.log(obj3d.type)</div><div class="line">                        <span class="keyword">if</span> (obj3d.type === <span class="string">'Group'</span>) &#123;</div><div class="line">                            scene.remove(obj3d);</div><div class="line">                        &#125;</div><div class="line">                    &#125;)</div><div class="line">                    renderer.render(scene, camera);</div><div class="line">                &#125;,</div><div class="line">                <span class="comment">// load a single file by file input element</span></div><div class="line">                loadFile: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">                    <span class="keyword">var</span> data = <span class="keyword">this</span>.$data;</div><div class="line">                    <span class="keyword">var</span> daeObjects = data.daeObjects;</div><div class="line">                    e.target.files[<span class="number">0</span>].text()</div><div class="line">                    .then(<span class="function"><span class="keyword">function</span> (<span class="params">text</span>) </span>&#123;</div><div class="line">                        <span class="keyword">var</span> manager = <span class="keyword">new</span> THREE.LoadingManager();</div><div class="line">                        <span class="comment">// the collada loader instance</span></div><div class="line">                        <span class="keyword">var</span> loader = <span class="keyword">new</span> THREE.ColladaLoader(manager);</div><div class="line">                        <span class="keyword">var</span> result = loader.parse(text, data.path)</div><div class="line">                        manager.onLoad = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">                            renderer.render(scene, camera);</div><div class="line">                        &#125;</div><div class="line">                        <span class="keyword">var</span> group = DAE.createGroup(daeObjects, result);</div><div class="line">                        scene.add(group);</div><div class="line">                    &#125;)</div><div class="line">                &#125;,</div><div class="line">                <span class="comment">// load dea files</span></div><div class="line">                loadDEAFiles: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">                    DAE.loadAll(<span class="keyword">this</span>.$data.daeObjects, &#123;</div><div class="line">                        <span class="attr">baseUrl</span>: <span class="string">'/dae'</span>,</div><div class="line">                        <span class="attr">relUrls</span>: [</div><div class="line">                            <span class="comment">//'rpi4/rpi4_start_box.dae',</span></div><div class="line">                            <span class="string">'obj/obj.dae'</span></div><div class="line">                        ]</div><div class="line">                    &#125;);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line"> </div><div class="line">&#125;</div><div class="line">    ());</div></pre></td></tr></table></figure>
<h2 id="2-The-draw-javaScript-for-for-the-draw-canvas-layer"><a href="#2-The-draw-javaScript-for-for-the-draw-canvas-layer" class="headerlink" title="2 - The draw javaScript for for the draw canvas layer"></a>2 - The draw javaScript for for the draw canvas layer</h2><p>I have an additional file that is all the source code that has to do with the draw canvas layer that I position on top of the source layer. So then where the source layer is the resource that I will be using for a reference as to what to draw, the draw layer on top of that is the layer where I will actually be drawing to with the mouse and or touch screen.</p>
<p>With the canvas element that I append to a shared container element with the source layer I am attaching a number of events for pointer events. I went with pointer events rather than mouse and touch events alone because for this drawing module I did not care to go all out with features, I just wanted a simple clean, simple drawing application type thing to use on top of the source layer which is really the main focus of this project example. If I where to keep working on this I might want to have separate events for touch and mouse events and do things like have a custom right click menu and so forth, but for now I just want to keep things simple with this.</p>
<p>Just like with the source layer application I have a vue instance in which I am defining a template for a user interface that will be used to control things when it comes to various settings for the state of the drawing app. When it comes to a very simple drawing app I am still going to want to be able to do things like change brush size, color, and clear the canvas at the very least and the ui that this template creates allows for me to do just that by mutating a vue data object that contains those settings.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line"> </div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="comment">// CANVAS</span></div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="keyword">var</span> container = <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>),</div><div class="line">    canvas = <span class="built_in">document</span>.createElement(<span class="string">'canvas'</span>),</div><div class="line">    ctx = canvas.getContext(<span class="string">'2d'</span>);</div><div class="line">    canvas.width = <span class="number">640</span>;</div><div class="line">    canvas.height = <span class="number">480</span>;</div><div class="line">    canvas.style.position = <span class="string">'absolute'</span>;</div><div class="line">    canvas.style.top = <span class="string">'0px'</span>;</div><div class="line">    canvas.style.left = <span class="string">'0px'</span>;</div><div class="line">    canvas.style.width = <span class="string">'640px'</span>;</div><div class="line">    canvas.style.height = <span class="string">'480px'</span>;</div><div class="line"> </div><div class="line">    canvas.onselectstart = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="literal">false</span>; &#125;</div><div class="line">    container.appendChild(canvas);</div><div class="line"> </div><div class="line">    <span class="keyword">var</span> div_dl = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</div><div class="line">    div_dl.id = <span class="string">'draw-layer-ui'</span>;</div><div class="line">    container.appendChild(div_dl);</div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="comment">// DRAW LAYER UI</span></div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</div><div class="line">        <span class="attr">el</span>:<span class="string">'#draw-layer-ui'</span>,</div><div class="line">        <span class="attr">template</span>: <span class="string">'&lt;div style="background:#4faf00;position:relative;left:640px;width:280px;padding:10px;"&gt;'</span>+</div><div class="line">            <span class="string">'&lt;h4&gt;DRAW UI: &lt;/h4&gt;'</span>+</div><div class="line">            <span class="string">'&lt;span&gt; Color: &lt;input v-model="color" type="color" &gt;&lt;/span&gt;&lt;br&gt;'</span> +</div><div class="line">            <span class="string">'&lt;span&gt; Size:  &lt;input v-model="size" type="range" min="0.5" max="20" step="0.25"&gt;&lt;/span&gt; &#123;&#123; size &#125;&#125; &lt;br&gt;'</span> +</div><div class="line">            <span class="string">'&lt;span&gt; Clear: &lt;input type="button" value="Clear" v-on:click="clear" &gt;&lt;/span&gt;&lt;br&gt;'</span> +</div><div class="line">        <span class="string">'&lt;/div&gt;'</span>,</div><div class="line">        <span class="attr">mounted</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">            </div><div class="line">        &#125;,</div><div class="line">        <span class="attr">updated</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">         </div><div class="line">        &#125;,</div><div class="line">        <span class="attr">data</span>: &#123;</div><div class="line">            <span class="attr">color</span>: <span class="string">'#000000'</span>,</div><div class="line">            <span class="attr">size</span>: <span class="number">1</span></div><div class="line">        &#125;,</div><div class="line">        <span class="attr">methods</span>: &#123;</div><div class="line">            <span class="attr">clear</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">                ctx.clearRect(<span class="number">-1</span>, <span class="number">-1</span>, canvas.width + <span class="number">2</span>, canvas.height + <span class="number">2</span>);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line"> </div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="comment">// DRAW LAYER EVENTS</span></div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="keyword">var</span> drawState = &#123;</div><div class="line">       <span class="attr">down</span>: <span class="literal">false</span></div><div class="line">    &#125;;</div><div class="line">    canvas.addEventListener(<span class="string">'pointerdown'</span>, (e) =&gt; &#123;</div><div class="line">        e.preventDefault();</div><div class="line">        e.stopPropagation();</div><div class="line">        <span class="keyword">if</span>(e.pointerType === <span class="string">'mouse'</span>)&#123;</div><div class="line">            <span class="keyword">if</span>(e.button === <span class="number">0</span>)&#123;</div><div class="line">                drawState.down = <span class="literal">true</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;<span class="keyword">else</span>&#123;</div><div class="line">            drawState.down = <span class="literal">true</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">    canvas.addEventListener(<span class="string">'pointerup'</span>, (e) =&gt; &#123;</div><div class="line">        drawState.down = <span class="literal">false</span>;</div><div class="line">    &#125;);</div><div class="line">    canvas.addEventListener(<span class="string">'pointerout'</span>, (e) =&gt; &#123;</div><div class="line">        drawState.down = <span class="literal">false</span>;</div><div class="line">    &#125;);</div><div class="line">    canvas.addEventListener(<span class="string">'pointermove'</span>, (e) =&gt; &#123;</div><div class="line">        e.preventDefault();</div><div class="line">        e.stopPropagation();</div><div class="line">        <span class="keyword">if</span>(drawState.down)&#123;</div><div class="line">            <span class="keyword">var</span> bx = canvas.getBoundingClientRect(),</div><div class="line">            dat = vm.$data,</div><div class="line">            x = e.clientX - bx.left,</div><div class="line">            y = e.clientY - bx.top;</div><div class="line">            ctx.fillStyle = dat.color;</div><div class="line">            ctx.beginPath();</div><div class="line">            ctx.arc(x, y, dat.size, <span class="number">0</span>, <span class="built_in">Math</span>.PI * <span class="number">2</span>);</div><div class="line">            ctx.fill();</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line"> </div><div class="line">&#125;</div><div class="line">    ());</div></pre></td></tr></table></figure>
<h2 id="3-The-dae-tools-file"><a href="#3-The-dae-tools-file" class="headerlink" title="3 - The dae tools file"></a>3 - The dae tools file</h2><p>A while back I started another <a href="/2021/06/25/threejs-examples-dae-tools/">threejs project example that has to do with a dae files</a>. When it comes to working just with threejs alone, as well as additional files in the repository there is the Collada Loader that can be used on top of just threejs alone. However this loader will just load whatever the state of the file is, and not preform any additional filtering when it comes to what it is in the file that I actually want to add to a scene. Also there might be more than one way that I would want to use the features of this Collada Loader, and so forth. As such there appears to be a need for at least a little additional javaScript code that acts as one little additional abstraction for loading dae files, and also I will want a place to park any and all additional code that has to do with dae files, beyond just that of what there is to work with when it comes to threejs and the Collada Loader alone, thus I am using a dae files module of my own for this project.</p>
<p>This module contains a create method where I can set methods for events like what to do as a file is being loaded, what to do when the loading of a dae file is over an so forth. I can then pass this object as an argument when calling a load all method of the module and when doing so I can set additional options that have to do with a base url, along with one or more additional relative paths from that base url that are dea files that I want to load. However when it comes to the kind of project there might be alternative ways that I go about loading  a dae file that involve for example the File Input element to load a dae file in a local file system rather than that of making a scripted http call over a network. So in any case as to how to I go about parsing dae files I also have methods that have to do with filtering the end result, regardless of how that result was created.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">api</span>) </span>&#123;</div><div class="line"> </div><div class="line">    <span class="comment">// create a daeObjects state object</span></div><div class="line">    api.create = <span class="function"><span class="keyword">function</span> (<span class="params">opt</span>) </span>&#123;</div><div class="line">        opt = opt || &#123;&#125;;</div><div class="line">        <span class="keyword">var</span> state = &#123;</div><div class="line">           <span class="attr">results</span>: [],</div><div class="line">           <span class="attr">onItemProgress</span> : opt.onItemProgress || <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;,</div><div class="line">           <span class="attr">onFileLoad</span> : opt.onFileLoad || <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;,</div><div class="line">           <span class="attr">onLoad</span> : opt.onLoad || <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</div><div class="line">        &#125;;</div><div class="line">        <span class="keyword">return</span> state;</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="comment">// load one dae file</span></div><div class="line">    <span class="keyword">var</span> loadOne = <span class="function"><span class="keyword">function</span>(<span class="params">daeObjects, url, onFileLoad</span>)</span>&#123;</div><div class="line">        <span class="comment">// I will want a manager for this</span></div><div class="line">        <span class="keyword">var</span> manager = <span class="keyword">new</span> THREE.LoadingManager();</div><div class="line">        <span class="comment">// the collada loader instance</span></div><div class="line">        <span class="keyword">var</span> loader = <span class="keyword">new</span> THREE.ColladaLoader(manager);</div><div class="line">        <span class="comment">// result value to pass to onFileLoad</span></div><div class="line">        <span class="keyword">var</span> resultValue = &#123;&#125;;</div><div class="line">        onFileLoad = onFileLoad || <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</div><div class="line">        <span class="comment">// return a promise</span></div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>)</span>&#123;</div><div class="line">            <span class="comment">// call on done, and resolve the promise only when the dae file AND all textures load</span></div><div class="line">            <span class="keyword">var</span> len = daeObjects.results.length;</div><div class="line">            manager.onLoad = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">                onFileLoad(resultValue, daeObjects.results, daeObjects);</div><div class="line">                resolve(daeObjects);</div><div class="line">            &#125;;</div><div class="line">            <span class="comment">// load the dae file and any textures</span></div><div class="line">            loader.load(url,</div><div class="line">                <span class="comment">// done</span></div><div class="line">                <span class="function"><span class="keyword">function</span> (<span class="params">result</span>) </span>&#123;</div><div class="line">                    resultValue = result;</div><div class="line">                    daeObjects.results.push(result);</div><div class="line">                &#125;,</div><div class="line">                <span class="comment">// progress</span></div><div class="line">                <span class="function"><span class="keyword">function</span>(<span class="params">xhr</span>)</span>&#123;</div><div class="line">                  <span class="comment">//console.log(xhr);</span></div><div class="line">                &#125;,</div><div class="line">                <span class="comment">// error</span></div><div class="line">                <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">                    reject(e);</div><div class="line">                &#125;</div><div class="line">             );</div><div class="line">        &#125;);</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="comment">// load a collection of dea files</span></div><div class="line">    api.loadAll = <span class="function"><span class="keyword">function</span>(<span class="params">daeObjects, opt</span>)</span>&#123;</div><div class="line">        opt = opt || &#123;&#125;;</div><div class="line">        opt.baseUrl = opt.baseUrl === <span class="literal">undefined</span> ? <span class="string">'/'</span> : opt.baseUrl;</div><div class="line">        opt.relUrls = opt.relUrls === <span class="literal">undefined</span> ? [] : opt.relUrls;</div><div class="line">        opt.origin = opt.origin === <span class="literal">undefined</span> ? <span class="built_in">document</span>.location.origin : opt.origin;</div><div class="line">        <span class="comment">// resolve urls</span></div><div class="line">        <span class="keyword">var</span> url_obj_base = <span class="keyword">new</span> URL(opt.baseUrl, <span class="built_in">document</span>.location.origin);</div><div class="line">        <span class="keyword">var</span> urls = opt.relUrls.map(<span class="function"><span class="keyword">function</span>(<span class="params">relUrl</span>)</span>&#123;</div><div class="line">            <span class="keyword">var</span> url_obj_file = <span class="keyword">new</span> URL(relUrl, url_obj_base.href + <span class="string">'/'</span>);</div><div class="line">            <span class="keyword">return</span> url_obj_file.href;</div><div class="line">        &#125;);</div><div class="line">        <span class="comment">// create and return Promise.all of load one method called for each file</span></div><div class="line">        <span class="keyword">var</span> n = <span class="number">0</span>,</div><div class="line">        d = urls.length;</div><div class="line">        <span class="keyword">return</span> <span class="built_in">Promise</span>.all(urls.map(<span class="function"><span class="keyword">function</span>(<span class="params">url, i</span>)</span>&#123;</div><div class="line">            <span class="keyword">return</span> loadOne(daeObjects, url, daeObjects.onFileLoad).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">                n += <span class="number">1</span>;</div><div class="line">                daeObjects.onItemProgress(n / d, n , d);</div><div class="line">            &#125;);</div><div class="line">        &#125;)).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            daeObjects.onLoad(daeObjects, daeObjects.results);</div><div class="line">        &#125;);</div><div class="line">    &#125;;</div><div class="line"> </div><div class="line">    <span class="comment">// create a group from a dae result object</span></div><div class="line">    api.createGroup = <span class="function"><span class="keyword">function</span>(<span class="params">daeObjects, what</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> result = <span class="keyword">typeof</span> what === <span class="string">'object'</span> ? what : daeObjects.results[what];</div><div class="line">        <span class="keyword">var</span> group = <span class="keyword">new</span> THREE.Group();</div><div class="line">        <span class="comment">// copy mesh objects only</span></div><div class="line">        result.scene.children.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">obj</span>)</span>&#123;</div><div class="line">            <span class="keyword">if</span>(obj.type === <span class="string">'Mesh'</span>)&#123;</div><div class="line">                group.add(obj.clone());</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">        <span class="comment">// copy result.scene rotation to group</span></div><div class="line">        group.rotation.copy(result.scene.rotation);</div><div class="line">        <span class="keyword">return</span> group;</div><div class="line">    &#125;;</div><div class="line">&#125;</div><div class="line">    (<span class="keyword">this</span>[<span class="string">'DAE'</span>] = &#123;&#125;));</div></pre></td></tr></table></figure>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>This is it for now then, at least when it comes to revision 1 of this example as that Is the revision that I was writing about when I first started writing this blog post. I do have things planed out for future revisions in my todo list for this example, but that is a practice for all my other threejs examples also.</p>
<p>Even if I do not get around to make any and all additional improvements to this example there are a few things that I have done in this example that I have not done in any other threejs example of min thus far that I do aim to repeat in future examples, and also with additional revisions of older examples. Thus far with my threejs example I have been sticking mainly to just using threejs alone, however with this example I also made use of vuejs with the fron end system also rather than doing what I often do with is just having my own vanilla javaScript code alone on top of threejs. I have found that I do like using vuejs when it comes to a front end framework, and I have to say that it does help to keep this well organized compared to what I often do working with vanilla javaScript alone.</p>
<p>Regardless of who many libraries I use with a project, compared to how much vanilla javaScritp code I right there is another things that I think I should keep up with when it comes to making additional projects. For this example I in a way I did not make just one application, but in a way to separate applications that can be used together in a single web page. That is that I though not of making just one single application but two or more applications that work together. When doing this sort of thing each application should still work well on its own. For this example I have code that is just used to create a scene, and another application that is just a simple drawing app. They could both be used on there own, but by making use of both of them in a certain way I can have this one application that is used to create and mutate the state of a scene, and other layer that is used to create an mutate the state of a drawing of that scene.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dustinpfister.github.io/2022/02/11/threejs-examples-tool-source-layer-3d/" data-id="clj7de50402rq5ov1gmeu5d0b" class="article-share-link">Share</a>
      
        <a href="https://dustinpfister.github.io/2022/02/11/threejs-examples-tool-source-layer-3d/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/three-js/">three.js</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2022/02/14/electronjs-browser-window/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          The Browser Window class in Election
        
      </div>
    </a>
  
  
    <a href="/2022/02/07/electronjs-hello-world/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Hello World example of Election.js</div>
    </a>
  
</nav>

  
</article>



<section id="comments">

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://dustinpfister.github.io/2022/02/11/threejs-examples-tool-source-layer-3d/index.html';
    this.page.identifier = '959';
    this.page.title = 'A source layer 3d drawing application threejs example';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://dustinpfister-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular/">angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/api/">api</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/backbone/">backbone</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/discovery/">discovery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/electronjs/">electronjs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/games/">games</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/grunt/">grunt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hapi/">hapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/heroku/">heroku</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jquery/">jquery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lodash/">lodash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node-js/">node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/phaser/">phaser</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/statistics/">statistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/three-js/">three.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backbone/">backbone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/corejs/">corejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deterministic/">deterministic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discovery/">discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejs/">ejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/electronjs/">electronjs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hapi/">hapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jimp/">jimp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js13k/">js13k</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/structured-data/">structured-data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/themes/">themes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three-js/">three.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JSON/" style="font-size: 12.27px;">JSON</a> <a href="/tags/SEO/" style="font-size: 10.45px;">SEO</a> <a href="/tags/angular/" style="font-size: 13.18px;">angular</a> <a href="/tags/animation/" style="font-size: 11.82px;">animation</a> <a href="/tags/automation/" style="font-size: 11.82px;">automation</a> <a href="/tags/backbone/" style="font-size: 12.27px;">backbone</a> <a href="/tags/blog/" style="font-size: 15.45px;">blog</a> <a href="/tags/canvas/" style="font-size: 18.64px;">canvas</a> <a href="/tags/corejs/" style="font-size: 12.73px;">corejs</a> <a href="/tags/deterministic/" style="font-size: 10px;">deterministic</a> <a href="/tags/discovery/" style="font-size: 10.91px;">discovery</a> <a href="/tags/ejs/" style="font-size: 11.36px;">ejs</a> <a href="/tags/electronjs/" style="font-size: 13.64px;">electronjs</a> <a href="/tags/express/" style="font-size: 16.82px;">express</a> <a href="/tags/games/" style="font-size: 17.27px;">games</a> <a href="/tags/git/" style="font-size: 13.64px;">git</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hapi/" style="font-size: 15px;">hapi</a> <a href="/tags/heroku/" style="font-size: 11.82px;">heroku</a> <a href="/tags/hexo/" style="font-size: 14.55px;">hexo</a> <a href="/tags/jimp/" style="font-size: 10.45px;">jimp</a> <a href="/tags/jquery/" style="font-size: 11.36px;">jquery</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/js13k/" style="font-size: 10px;">js13k</a> <a href="/tags/linux/" style="font-size: 17.73px;">linux</a> <a href="/tags/lodash/" style="font-size: 18.64px;">lodash</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mongodb/" style="font-size: 14.55px;">mongodb</a> <a href="/tags/node-js/" style="font-size: 19.55px;">node.js</a> <a href="/tags/phaser/" style="font-size: 18.18px;">phaser</a> <a href="/tags/python/" style="font-size: 15.91px;">python</a> <a href="/tags/statistics/" style="font-size: 14.09px;">statistics</a> <a href="/tags/structured-data/" style="font-size: 10px;">structured-data</a> <a href="/tags/themes/" style="font-size: 10px;">themes</a> <a href="/tags/three-js/" style="font-size: 19.09px;">three.js</a> <a href="/tags/vuejs/" style="font-size: 16.36px;">vuejs</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/06/">June 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">May 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">April 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/06/22/threejs-buffer-attribute/">Buffer Attributes in threejs</a>
          </li>
        
          <li>
            <a href="/2023/06/21/linux-du/">File Space usage with Linux du command</a>
          </li>
        
          <li>
            <a href="/2023/06/15/linux-aplay/">Linux aplay command and ALSA</a>
          </li>
        
          <li>
            <a href="/2023/06/13/threejs-extrude-geometry/">Extrude Geometry in threejs</a>
          </li>
        
          <li>
            <a href="/2023/06/09/threejs-vector2/">The Vector2 class for 2D curves, mouse pointers, ect</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2023 Dustin Pfister<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      <br>
      <a href="/privacy.html" target="_blank">Privacy Policy</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/2021/02/19/threejs-examples/" class="mobile-nav-link">ThreeJS</a>
  
    <a href="/2020/03/23/canvas-example/" class="mobile-nav-link">Canvas</a>
  
    <a href="https://www.youtube.com/user/javaweaver" class="mobile-nav-link">Youtube</a>
  
    <a href="https://github.com/dustinpfister" class="mobile-nav-link">Github</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'dustinpfister-github-io';
  
  var disqus_url = 'https://dustinpfister.github.io/2022/02/11/threejs-examples-tool-source-layer-3d/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


  </div>
</body>
</html>