<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <!-- disqus image-->
  <meta property="og:image" content="https://dustinpfister.github.io/css/images/banner.jpg">
  
  <title>Source Layer javaScript tool example | Dustin John Pfister at github pages</title>
  
  <!-- no index tag or blank here -->
  
  
  <link rel="canonical" href="https://dustinpfister.github.io/2022/01/31/js-javascript-example-tool-source-layer-2d/" />

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="For a final new javaScript example for this month at least I made what might prove to be the first of several tool type project examples. What I mean by this is that I might often want to create some">
<meta property="og:type" content="article">
<meta property="og:title" content="Source Layer javaScript tool example">
<meta property="og:url" content="https://dustinpfister.github.io/2022/01/31/js-javascript-example-tool-source-layer-2d/index.html">
<meta property="og:site_name" content="Dustin John Pfister at github pages">
<meta property="og:description" content="For a final new javaScript example for this month at least I made what might prove to be the first of several tool type project examples. What I mean by this is that I might often want to create some">
<meta property="og:updated_time" content="2022-01-31T20:26:32.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Source Layer javaScript tool example">
<meta name="twitter:description" content="For a final new javaScript example for this month at least I made what might prove to be the first of several tool type project examples. What I mean by this is that I might often want to create some">
  
    <link rel="alternate" href="/atom.xml" title="Dustin John Pfister at github pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <!-- Google Analytics -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y8XLNG6JRW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Y8XLNG6JRW');
</script>
<!-- End Google Analytics -->


  <!-- structured data set in structured-data.ejs -->
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "email": "distin.pfister@gmail.com",
    "givenName": "Dustin",
    "familyName" : "Pfister",
    "additionalName": "John",
    "name": "Dustin John Pfister",
    "gender": "Male"
}
</script>
<!-- end structured data -->
  
  <!-- adsense if indexed -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1658284027672315",
    enable_page_level_ads: true
  });
  </script>
  
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <!-- added the image-->
        <div class="selfimage"></div>
        <!--<a href="/" id="logo">Dustin John Pfister at github pages</a>-->
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/2021/02/19/threejs-examples/">ThreeJS</a>
        
          <a class="main-nav-link" href="/2020/03/23/canvas-example/">Canvas</a>
        
          <a class="main-nav-link" href="https://www.youtube.com/user/javaweaver">Youtube</a>
        
          <a class="main-nav-link" href="https://github.com/dustinpfister">Github</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <!-- removed rss link-->
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dustinpfister.github.io"></form>
      </div>
    </div>
  </div>
</header>

<!-- adding my canvas thing ( Dustin ) -->
<script src="/js/the_matrix.js"></script>
      <div class="outer">
        <section id="main"><article itemscope itemtype="http://schema.org/Blog" id="post-js-javascript-example-tool-source-layer-2d" class="article article-type-post" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/01/31/js-javascript-example-tool-source-layer-2d/" class="article-date"> Published:
  <time datetime="2022-01-31T19:15:00.000Z" itemprop="datePublished">2022-01-31</time>
</a>

    <!-- other info (dustin) -->
    <a href="/2022/01/31/js-javascript-example-tool-source-layer-2d/" class="article-date"> Modified:
  <time datetime="2022-01-31T20:26:32.000Z" itemprop="dateModified">2022-01-31</time>
</a>

    <span class="article-date">V1.18</span>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/js/">js</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Source Layer javaScript tool example
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="text">
      
        <p>For a final new <a href="/2021/04/02/js-javascript-example/">javaScript example</a> for this month at least I made what might prove to be the first of several tool type project examples. What I mean by this is that I might often want to create some kind of project where the aim is to create some kind of resource such as a sprite sheet, world map, or maybe just some kind of image asset actually. I do not care so take the time to create a full blown image editor from the ground up mind you when it comes to that I have come to <a href="https://en.wikipedia.org/wiki/GIMP" target="_blank" rel="external">enjoy just using GIMP</a> and moving on with my life. However often it might make sense to create some kind of custom image editor where I can open up a image file that I do not want to use directly as part of the image project, but to just serve as a source for a drawing that I will create in another canvas layer on top of this source layer.</p>
<p>So then this javaScript tool example will be a simple art program, however that main focus here is to create a kind of simple module that will be used to create an mutate a kind of source object that will be used in this tool, but can easily be used in other tools without having to change much to the code of the module.</p>
<a id="more"></a>
<h2 id="1-The-source-layer-module"><a href="#1-The-source-layer-module" class="headerlink" title="1 - The source layer module"></a>1 - The source layer module</h2><p>The main event of this javaScript example is then the source layer module that I made, later in this post I will be going over some additional code that will have to do with making use of this to create a basic pain program. There are two main methods of interest with this module one of which is the create method that will create and return a source layer object and the other has to do with creating a user interface that will be used to mutate such an object.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> sourceLayer = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">// public api</span></div><div class="line">    <span class="keyword">var</span> api = &#123;</div><div class="line">       <span class="attr">ver</span>: <span class="string">'r3'</span></div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// hard coded values</span></div><div class="line">    <span class="keyword">var</span> ON_IMAGE_LOAD = <span class="function"><span class="keyword">function</span>(<span class="params">source</span>)</span>&#123;&#125;;</div><div class="line">    <span class="keyword">var</span> ON_UPDATE = <span class="function"><span class="keyword">function</span>(<span class="params">source</span>)</span>&#123;&#125;;</div><div class="line">    <span class="keyword">var</span> UI_HTML = <span class="string">'&lt;span&gt;Background:&lt;/span&gt;&lt;br&gt;&lt;br&gt;'</span> +</div><div class="line">                <span class="string">'image: &lt;input id=\"ui-background-image\" type=\"file\"&gt;&lt;br&gt;&lt;br&gt;'</span> +</div><div class="line">                <span class="string">'mode: &lt;select id=\"input-background-mode\"&gt;'</span> +</div><div class="line">                    <span class="string">'&lt;option value=\"center\"&gt;Center&lt;/option&gt;'</span> +</div><div class="line">                    <span class="string">'&lt;option value=\"custom\"&gt;Custom&lt;/option&gt;'</span> +</div><div class="line">                    <span class="string">'&lt;option value=\"stretch\"&gt;Stretch&lt;/option&gt;'</span> +</div><div class="line">                <span class="string">'&lt;/select&gt;&lt;br&gt;&lt;br&gt;'</span> +</div><div class="line">                <span class="string">'&lt;div id="bgui-zoom" &gt;&lt;input id=\"ui-background-zoom\" type=\"range\" value=\"1\" min=\"0\" max=\"4\" step=\"0.05\"&gt;'</span> +</div><div class="line">                <span class="string">'&lt;span&gt;Zoom&lt;/span&gt;&lt;br&gt;&lt;/div&gt;'</span> +</div><div class="line">                <span class="string">'&lt;div id="bgui-rotation" &gt;'</span>+</div><div class="line">                     <span class="string">'&lt;input id=\"ui-background-rotation\" type=\"range\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"&gt;'</span> +</div><div class="line">                     <span class="string">'&lt;span&gt;Rotation&lt;/span&gt;&lt;br&gt;'</span> +</div><div class="line">                <span class="string">'&lt;/div&gt;'</span> +</div><div class="line">                <span class="string">'&lt;div id="bgui-pos" &gt;dx: &lt;input id=\"ui-background-dx\" type=\"text\" size="4"&gt; '</span>+</div><div class="line">                <span class="string">'dy: &lt;input id=\"ui-background-dy\" type=\"text\" size="4"&gt; &lt;br&gt;&lt;/div&gt;'</span> +</div><div class="line">                <span class="string">'&lt;div id="bgui-size" &gt;dw: &lt;input id=\"ui-background-dw\" type=\"text\" size="4"&gt; '</span> +</div><div class="line">                <span class="string">'dh: &lt;input id=\"ui-background-dh\" type=\"text\" size="4"&gt; &lt;br&gt;&lt;/div&gt;'</span>;</div><div class="line">    <span class="comment">// back ground modes</span></div><div class="line">    <span class="keyword">var</span> MODES = &#123;&#125;;</div><div class="line"></div><div class="line">    <span class="comment">// use full image mode helper</span></div><div class="line">    <span class="keyword">var</span> useFullImageSource = <span class="function"><span class="keyword">function</span>(<span class="params">source</span>)</span>&#123;</div><div class="line">        source.sx = <span class="number">0</span>;</div><div class="line">        source.sy = <span class="number">0</span>;</div><div class="line">        <span class="keyword">if</span>(source.image)&#123;</div><div class="line">            source.sw = source.image.width;</div><div class="line">            source.sh = source.image.height;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    <span class="keyword">var</span> useCenterPos = <span class="function"><span class="keyword">function</span>(<span class="params">source</span>)</span>&#123;</div><div class="line">        source.dx = source.canvas.width / <span class="number">2</span>;</div><div class="line">        source.dy = source.canvas.height / <span class="number">2</span>;</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    <span class="keyword">var</span> useSourceSize = <span class="function"><span class="keyword">function</span>(<span class="params">source</span>)</span>&#123;</div><div class="line">        source.dw = source.sw;</div><div class="line">        source.dh = source.sh;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// center mode</span></div><div class="line">    MODES.center = &#123;</div><div class="line">        <span class="attr">controls</span>: [<span class="string">'zoom'</span>, <span class="string">'rotation'</span>],</div><div class="line">        <span class="attr">init</span>: <span class="function"><span class="keyword">function</span>(<span class="params">source</span>)</span>&#123;</div><div class="line">            useFullImageSource(source);</div><div class="line">            useCenterPos(source);</div><div class="line">            useSourceSize(source);</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">update</span>: <span class="function"><span class="keyword">function</span>(<span class="params">source</span>)</span>&#123;&#125;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// custom mode</span></div><div class="line">    MODES.custom = &#123;</div><div class="line">        <span class="attr">controls</span>: [<span class="string">'zoom'</span>, <span class="string">'rotation'</span>, <span class="string">'pos'</span>, <span class="string">'size'</span>],</div><div class="line">        <span class="attr">init</span>: <span class="function"><span class="keyword">function</span>(<span class="params">source</span>)</span>&#123;</div><div class="line">            useFullImageSource(source);</div><div class="line">            useCenterPos(source);</div><div class="line">            useSourceSize(source);</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">update</span>: <span class="function"><span class="keyword">function</span>(<span class="params">source</span>)</span>&#123;&#125;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// stretch mode</span></div><div class="line">    MODES.stretch = &#123;</div><div class="line">        <span class="attr">controls</span>: [],</div><div class="line">        <span class="attr">init</span>: <span class="function"><span class="keyword">function</span>(<span class="params">source</span>)</span>&#123;</div><div class="line">            useFullImageSource(source);</div><div class="line">            useCenterPos(source);</div><div class="line">            <span class="comment">// set destanation width and height to canvas width and height</span></div><div class="line">            source.dw = source.canvas.width;</div><div class="line">            source.dh = source.canvas.width;</div><div class="line">            <span class="comment">// zoom is not used and should always be 1</span></div><div class="line">            source.zoom = <span class="number">1</span>;</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">update</span>: <span class="function"><span class="keyword">function</span>(<span class="params">source</span>)</span>&#123;</div><div class="line">            source.zoom = <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// get element helper</span></div><div class="line">    <span class="keyword">var</span> get = <span class="function"><span class="keyword">function</span>(<span class="params">q</span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="built_in">document</span>.querySelector(q);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// resolve a string to an element object, or just return what should be a element object</span></div><div class="line">    <span class="keyword">var</span> resolveElRef = <span class="function"><span class="keyword">function</span>(<span class="params">elRef</span>)</span>&#123;</div><div class="line">        <span class="keyword">if</span>(<span class="keyword">typeof</span> elRef === <span class="string">'object'</span> &amp;&amp; elRef != <span class="literal">null</span>)&#123;</div><div class="line">            <span class="keyword">return</span> elRef</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(<span class="keyword">typeof</span> elRef === <span class="string">'string'</span>)&#123;</div><div class="line">            <span class="keyword">return</span> <span class="built_in">document</span>.querySelector(elRef);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="literal">null</span></div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// draw place holder image when no image is loaded</span></div><div class="line">    <span class="keyword">var</span> drawPlaceHolder = <span class="function"><span class="keyword">function</span>(<span class="params">ctx, x, y, w, h</span>)</span>&#123;</div><div class="line">        ctx.fillStyle = <span class="string">'black'</span>;</div><div class="line">        ctx.strokeStyle = <span class="string">'white'</span>;</div><div class="line">        ctx.beginPath();</div><div class="line">        ctx.rect(x ,y, w, h);</div><div class="line">        ctx.fill();</div><div class="line">        ctx.stroke();</div><div class="line">        ctx.stroke();</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// draw the current state of a source object to the context of the source object</span></div><div class="line">    <span class="keyword">var</span> draw = <span class="function"><span class="keyword">function</span>(<span class="params">source</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> canvas = source.canvas,</div><div class="line">        ctx = source.ctx;</div><div class="line">        <span class="comment">// clear source layer</span></div><div class="line">        ctx.clearRect(<span class="number">-1</span>, <span class="number">-1</span> , canvas.width + <span class="number">2</span>, canvas.height + <span class="number">2</span>);</div><div class="line">        <span class="comment">// draw source image to layer with current settings</span></div><div class="line">        ctx.save();</div><div class="line">        ctx.translate(source.dx, source.dy);</div><div class="line">        ctx.rotate(source.radian);</div><div class="line">        <span class="keyword">var</span> w = source.dw * source.zoom,</div><div class="line">        h = source.dh * source.zoom,</div><div class="line">        x = w / <span class="number">2</span> * <span class="number">-1</span>,</div><div class="line">        y = h / <span class="number">2</span> * <span class="number">-1</span>;</div><div class="line">        <span class="keyword">if</span>(source.image)&#123;</div><div class="line">            ctx.drawImage(source.image, source.sx, source.sy, source.sw, source.sh, x, y, w, h);</div><div class="line">        &#125;<span class="keyword">else</span>&#123;</div><div class="line">           drawPlaceHolder(ctx, x, y, w, h);</div><div class="line">        &#125;</div><div class="line">        ctx.restore();</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// update a source object</span></div><div class="line">    <span class="keyword">var</span> update = <span class="function"><span class="keyword">function</span>(<span class="params">source</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> modeObj = MODES[source.mode];</div><div class="line">        <span class="keyword">if</span>(source.image)&#123;</div><div class="line">            modeObj.update(source);</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// main method used to create a source object</span></div><div class="line">    api.create = <span class="function"><span class="keyword">function</span>(<span class="params">opt</span>)</span>&#123;</div><div class="line">        opt = opt || &#123;&#125;;</div><div class="line">        <span class="keyword">var</span> source = &#123;</div><div class="line">            <span class="attr">mode</span>: <span class="string">'center'</span>,</div><div class="line">            <span class="attr">canvas</span>: <span class="literal">null</span>,</div><div class="line">            <span class="attr">ctx</span>: <span class="literal">null</span>,</div><div class="line">            <span class="attr">zoom</span>: <span class="number">1</span>,</div><div class="line">            <span class="attr">radian</span>: <span class="number">0</span>,</div><div class="line">            <span class="attr">image</span>: <span class="literal">null</span>,</div><div class="line">            <span class="attr">sx</span>: <span class="number">0</span>, <span class="attr">sy</span>: <span class="number">0</span>, <span class="attr">sw</span>: <span class="number">100</span>, <span class="attr">sh</span>: <span class="number">100</span>, <span class="attr">dx</span>: <span class="number">0</span>, <span class="attr">dy</span>: <span class="number">0</span>, <span class="attr">dw</span>: <span class="number">100</span>, <span class="attr">dh</span>: <span class="number">100</span>,</div><div class="line">            <span class="attr">onImageLoad</span>: opt.onImageLoad || ON_IMAGE_LOAD,</div><div class="line">            <span class="attr">onUpdate</span>: opt.onUpdate || ON_UPDATE</div><div class="line">        &#125;;</div><div class="line">        <span class="keyword">var</span> canvas = source.canvas = resolveElRef(opt.canvas);</div><div class="line">        <span class="keyword">if</span>(canvas)&#123;</div><div class="line">            canvas.width = opt.width;</div><div class="line">            canvas.height = opt.height;</div><div class="line">            source.ctx = canvas.getContext(<span class="string">'2d'</span>);</div><div class="line">            <span class="comment">// values for placeholder</span></div><div class="line">            source.dx = canvas.width / <span class="number">2</span>;</div><div class="line">            source.dy = canvas.height / <span class="number">2</span>;</div><div class="line">            source.dw = <span class="number">320</span>;</div><div class="line">            source.dh = <span class="number">240</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// call init foe the current mode, for first time</span></div><div class="line">        <span class="keyword">var</span> modeObj = MODES[source.mode];</div><div class="line">        modeObj.init.call(source, source);</div><div class="line">        <span class="comment">// draw and return</span></div><div class="line">        draw(source);</div><div class="line">        <span class="keyword">return</span> source;</div><div class="line"></div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// for each control helper</span></div><div class="line">    <span class="keyword">var</span> forEachControl = <span class="function"><span class="keyword">function</span>(<span class="params">source, el, ifOn, ifOff</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> modeObj = MODES[source.mode];</div><div class="line">        [<span class="string">'zoom'</span>, <span class="string">'rotation'</span>, <span class="string">'pos'</span>, <span class="string">'size'</span>].forEach(<span class="function"><span class="keyword">function</span>(<span class="params">key</span>)</span>&#123;      </div><div class="line">            <span class="keyword">var</span> controlEl = el.querySelector(<span class="string">'#bgui-'</span> + key);</div><div class="line">            <span class="keyword">if</span>(modeObj.controls.some(<span class="function"><span class="keyword">function</span>(<span class="params">modeKey</span>)</span>&#123;</div><div class="line">                <span class="keyword">return</span> key === modeKey;</div><div class="line">            &#125;))&#123;</div><div class="line">                ifOn(source, controlEl, el, key);</div><div class="line">            &#125;<span class="keyword">else</span>&#123;</div><div class="line">                ifOff(source, controlEl, el, key);</div><div class="line">            &#125; </div><div class="line">        &#125;);   </div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// display controls for just the current mode</span></div><div class="line">    <span class="keyword">var</span> displayControlsForMode = <span class="function"><span class="keyword">function</span>(<span class="params">source, el</span>)</span>&#123;</div><div class="line">        forEachControl(source, el, </div><div class="line">            <span class="function"><span class="keyword">function</span>(<span class="params">source, controlEl</span>)</span>&#123;</div><div class="line">                controlEl.style.visibility = <span class="string">'visible'</span>;</div><div class="line">            &#125;,</div><div class="line">            <span class="function"><span class="keyword">function</span>(<span class="params">source, controlEl</span>)</span>&#123;</div><div class="line">                controlEl.style.visibility = <span class="string">'hidden'</span>;</div><div class="line">            &#125;</div><div class="line">        );</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// update control values to source object</span></div><div class="line">    <span class="keyword">var</span> UpdateControlValuesForMode = <span class="function"><span class="keyword">function</span>(<span class="params">source, el</span>)</span>&#123;</div><div class="line">        get(<span class="string">'#ui-background-zoom'</span>).value = source.zoom;</div><div class="line">        get(<span class="string">'#ui-background-rotation'</span>).value = source.radian / (<span class="built_in">Math</span>.PI * <span class="number">2</span>)</div><div class="line">        get(<span class="string">'#ui-background-dx'</span>).value = source.dx;</div><div class="line">        get(<span class="string">'#ui-background-dy'</span>).value = source.dy;</div><div class="line">        get(<span class="string">'#ui-background-dw'</span>).value = source.dw;</div><div class="line">        get(<span class="string">'#ui-background-dh'</span>).value = source.dh;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// create a text input hander for props like dx dy dw and dh</span></div><div class="line">    <span class="keyword">var</span> createTextInputHander = <span class="function"><span class="keyword">function</span>(<span class="params">source, el, key</span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">            source[key] = e.target.value;</div><div class="line">            update(source);</div><div class="line">            draw(source);</div><div class="line">            displayControlsForMode(source, el);</div><div class="line">            UpdateControlValuesForMode(source, el);</div><div class="line">        &#125;;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// create an HTML User Interface for the given source object and append it to the given mount point</span></div><div class="line">    api.createSourceUI = <span class="function"><span class="keyword">function</span>(<span class="params">source, mountEl</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> el = resolveElRef(mountEl);</div><div class="line">        el.innerHTML = UI_HTML;</div><div class="line">        <span class="comment">// handlers</span></div><div class="line">        sourceLayer.appendImageHandler(source, <span class="string">'#ui-background-image'</span>);</div><div class="line">        sourceLayer.appendZoomHandler(source, <span class="string">'#ui-background-zoom'</span>);</div><div class="line">        sourceLayer.appendRotationHandler(source, <span class="string">'#ui-background-rotation'</span>);</div><div class="line">        <span class="comment">// change mode</span></div><div class="line">        get(<span class="string">'#input-background-mode'</span>).addEventListener(<span class="string">'change'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">            source.mode = e.target.value;</div><div class="line">            <span class="keyword">var</span> modeObj = MODES[source.mode];</div><div class="line">            modeObj.init.call(source, source);</div><div class="line">            update(source);</div><div class="line">            draw(source);</div><div class="line">            displayControlsForMode(source, el);</div><div class="line">            UpdateControlValuesForMode(source, el);</div><div class="line">        &#125;);</div><div class="line">        get(<span class="string">'#ui-background-dx'</span>).addEventListener(<span class="string">'input'</span>, createTextInputHander(source, el, <span class="string">'dx'</span>));</div><div class="line">        get(<span class="string">'#ui-background-dy'</span>).addEventListener(<span class="string">'input'</span>, createTextInputHander(source, el, <span class="string">'dy'</span>));</div><div class="line">        get(<span class="string">'#ui-background-dw'</span>).addEventListener(<span class="string">'input'</span>, createTextInputHander(source, el, <span class="string">'dw'</span>));</div><div class="line">        get(<span class="string">'#ui-background-dh'</span>).addEventListener(<span class="string">'input'</span>, createTextInputHander(source, el, <span class="string">'dh'</span>));</div><div class="line">        displayControlsForMode(source, el);</div><div class="line">        UpdateControlValuesForMode(source);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// append image hander</span></div><div class="line">    api.appendImageHandler = <span class="function"><span class="keyword">function</span>(<span class="params">source, fileEl</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> fileEl = resolveElRef(fileEl);</div><div class="line">        fileEl.addEventListener(<span class="string">'change'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">            <span class="keyword">var</span> files = e.target.files,</div><div class="line">            file = files[<span class="number">0</span>];</div><div class="line">            <span class="keyword">var</span> reader = <span class="keyword">new</span> FileReader();</div><div class="line">            reader.addEventListener(<span class="string">'load'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">                <span class="keyword">var</span> img = source.image = <span class="keyword">new</span> Image();</div><div class="line">                img.src = reader.result;</div><div class="line">                img.addEventListener(<span class="string">'load'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">                    source.onImageLoad.call(source, source);</div><div class="line">                    <span class="keyword">var</span> modeObj = MODES[source.mode];</div><div class="line">                    modeObj.init.call(source, source);</div><div class="line">                    update(source);</div><div class="line">                    draw(source);</div><div class="line">                    UpdateControlValuesForMode(source);</div><div class="line">                    source.onUpdate.call(source, source);</div><div class="line">                &#125;);</div><div class="line">            &#125;, <span class="literal">false</span>);</div><div class="line">            <span class="keyword">if</span> (file) &#123;</div><div class="line">                reader.readAsDataURL(file);</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// zoom hander</span></div><div class="line">    api.appendZoomHandler = <span class="function"><span class="keyword">function</span>(<span class="params">source, fileEl</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> fileEl = resolveElRef(fileEl);</div><div class="line">        fileEl.addEventListener(<span class="string">'input'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">            source.zoom = e.target.value</div><div class="line">            draw(source);</div><div class="line">            source.onUpdate.call(source, source);</div><div class="line">        &#125;);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// rotation</span></div><div class="line">    api.appendRotationHandler = <span class="function"><span class="keyword">function</span>(<span class="params">source, fileEl</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> fileEl = resolveElRef(fileEl);</div><div class="line">        fileEl.addEventListener(<span class="string">'input'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">            source.radian = <span class="built_in">Math</span>.PI * <span class="number">2</span> * (<span class="built_in">parseFloat</span>(e.target.value) / <span class="number">1</span>);</div><div class="line">            draw(source);</div><div class="line">            source.onUpdate.call(source, source);</div><div class="line">        &#125;);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// return the public API</span></div><div class="line">    <span class="keyword">return</span> api;</div><div class="line">&#125;());</div></pre></td></tr></table></figure>
<h2 id="2-Demo-app-that-is-a-basic-art-program"><a href="#2-Demo-app-that-is-a-basic-art-program" class="headerlink" title="2 - Demo app that is a basic art program"></a>2 - Demo app that is a basic art program</h2><p>Now that I have the source layer module worked out I will want to make a demo the makes use of this source layer module to create an over all tool. For this javaScript example the over all tool is a basic art program, and when it comes to this I do not care to create some kind of full blown image manipulation program of course, just something with a very crude set of features that I would want to start something that I would then continue to work on in such a program.</p>
<h3 id="2-1-The-main-javaScript-file"><a href="#2-1-The-main-javaScript-file" class="headerlink" title="2.1 - The main javaScript file"></a>2.1 - The main javaScript file</h3><p>For this over all example I just have all the additional javaScrit code that I am using in a single additional javaScript file apart from the source layer module that I include in the hard coded html.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> get = <span class="function"><span class="keyword">function</span>(<span class="params">q</span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">document</span>.querySelector(q);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// source layer set up</span></div><div class="line"><span class="keyword">var</span> source = sourceLayer.create(&#123;</div><div class="line">   <span class="attr">canvas</span>: <span class="string">'#canvas-source'</span>,</div><div class="line">   <span class="attr">width</span>: <span class="number">640</span>, <span class="attr">height</span>: <span class="number">480</span>,</div><div class="line">   <span class="attr">onUpdate</span>: <span class="function"><span class="keyword">function</span>(<span class="params">source</span>)</span>&#123;</div><div class="line">   &#125;</div><div class="line">&#125;);</div><div class="line">sourceLayer.createSourceUI(source, <span class="string">'#ui-background'</span>);</div><div class="line"> </div><div class="line"><span class="comment">// out</span></div><div class="line">get(<span class="string">'#ui-out'</span>).innerText = <span class="string">'version: '</span> + sourceLayer.ver;</div><div class="line"> </div><div class="line"><span class="comment">// draw layer</span></div><div class="line"><span class="keyword">var</span> canvas = get(<span class="string">'#canvas-draw'</span>),</div><div class="line">ctx = canvas.getContext(<span class="string">'2d'</span>);</div><div class="line">canvas.width = <span class="number">640</span>;</div><div class="line">canvas.height = <span class="number">480</span>;</div><div class="line"><span class="keyword">var</span> sm = &#123;</div><div class="line">    <span class="attr">canvas</span>: canvas,</div><div class="line">    <span class="attr">ctx</span>: ctx,</div><div class="line">    <span class="attr">down</span>: <span class="literal">false</span>,</div><div class="line">    <span class="attr">size</span>: <span class="number">0.5</span>,    <span class="comment">// 0.25 to 20 with a 0.25 step</span></div><div class="line">    tool: <span class="string">'brush'</span>,</div><div class="line">    <span class="attr">color</span>: <span class="string">'#000000'</span></div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="keyword">var</span> paintAt = <span class="function"><span class="keyword">function</span>(<span class="params">sm, pos</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> ctx = sm.ctx;</div><div class="line">    <span class="keyword">if</span>(sm.tool === <span class="string">'brush'</span>)&#123;</div><div class="line">        ctx.beginPath();</div><div class="line">        ctx.fillStyle = sm.color;</div><div class="line">        ctx.arc(pos.x, pos.y, sm.size, <span class="number">0</span>, <span class="built_in">Math</span>.PI * <span class="number">2</span>);</div><div class="line">        ctx.fill();</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span>(sm.tool === <span class="string">'eraser'</span>)&#123;</div><div class="line">        ctx.save();</div><div class="line">        ctx.beginPath();</div><div class="line">        ctx.arc(pos.x, pos.y, sm.size, <span class="number">0</span>, <span class="built_in">Math</span>.PI * <span class="number">2</span>);</div><div class="line">        ctx.clip();</div><div class="line">        ctx.clearRect(pos.x - sm.size, pos.y - sm.size, sm.size * <span class="number">2</span>, sm.size * <span class="number">2</span>);</div><div class="line">        ctx.restore();</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// get position helper</span></div><div class="line"><span class="keyword">var</span> getPos = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> bx = e.target.getBoundingClientRect(),</div><div class="line">    pos = &#123;&#125;;</div><div class="line">    <span class="keyword">if</span>(e.touches)&#123;</div><div class="line">        pos.x = e.touches[<span class="number">0</span>].clientX;</div><div class="line">        pos.y = e.touches[<span class="number">0</span>].clientY;</div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        pos.x = e.clientX;</div><div class="line">        pos.y = e.clientY;</div><div class="line">    &#125;</div><div class="line">    pos.x = pos.x - bx.left;</div><div class="line">    pos.y = pos.y - bx.top;</div><div class="line">    <span class="keyword">return</span> pos;</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="keyword">var</span> pointerDown = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">    sm.down = <span class="literal">true</span>;</div><div class="line">    paintAt(sm, getPos(e));</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> pointerMove = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">    <span class="keyword">if</span>(sm.down)&#123;</div><div class="line">        paintAt(sm, getPos(e));</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> pointerUp = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">    sm.down = <span class="literal">false</span>;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> pointerOut = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">    sm.down = <span class="literal">false</span>;</div><div class="line">&#125;;</div><div class="line"> </div><div class="line">canvas.addEventListener(<span class="string">'mousedown'</span>, pointerDown);</div><div class="line">canvas.addEventListener(<span class="string">'mousemove'</span>, pointerMove);</div><div class="line">canvas.addEventListener(<span class="string">'mouseup'</span>, pointerUp);</div><div class="line"> </div><div class="line">canvas.addEventListener(<span class="string">'touchstart'</span>, pointerDown);</div><div class="line">canvas.addEventListener(<span class="string">'touchmove'</span>, pointerMove);</div><div class="line">canvas.addEventListener(<span class="string">'touchend'</span>, pointerUp);</div><div class="line"> </div><div class="line">canvas.addEventListener(<span class="string">'pointerout'</span>, pointerOut);</div><div class="line"> </div><div class="line"><span class="comment">// clear button</span></div><div class="line">get(<span class="string">'#ui-draw-clear'</span>).addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">   sm.ctx.clearRect(<span class="number">-1</span>, <span class="number">-1</span>, sm.canvas.width + <span class="number">2</span>, sm.canvas.height + <span class="number">2</span>);</div><div class="line">&#125;);</div><div class="line"><span class="comment">// tool select</span></div><div class="line">get(<span class="string">'#ui-draw-tool'</span>).addEventListener(<span class="string">'input'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(e.target.value);</div><div class="line">    sm.tool = e.target.value;</div><div class="line">&#125;);</div><div class="line"><span class="comment">// color select</span></div><div class="line">get(<span class="string">'#ui-draw-color'</span>).addEventListener(<span class="string">'input'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">    sm.color = e.target.value;</div><div class="line">&#125;);</div><div class="line">sm.color = get(<span class="string">'#ui-draw-color'</span>).value;</div><div class="line"><span class="comment">// size select</span></div><div class="line"><span class="keyword">var</span> sizeUpdate = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> size = <span class="built_in">parseFloat</span>( get(<span class="string">'#ui-draw-size'</span>).value );</div><div class="line">    sm.size = size;</div><div class="line">    get(<span class="string">'#ui-draw-size-disp'</span>).innerText = size;</div><div class="line">&#125;;</div><div class="line">get(<span class="string">'#ui-draw-size'</span>).addEventListener(<span class="string">'input'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">    sizeUpdate();</div><div class="line">&#125;);</div><div class="line">sizeUpdate();</div></pre></td></tr></table></figure>
<h3 id="2-2-The-html-file"><a href="#2-2-The-html-file" class="headerlink" title="2.2 - The html file"></a>2.2 - The html file</h3><p>I then have some html that will work with the main javaScript file as well as of course the source layer module that I made for this over all tool. For this example I went with having canvas elements hard coded into the html rather than creating them with javaScript.</p>
<p>All of the html that has to do with the drawing program is hard coded into this html, while the html that has to do with the source layer is created with a public method of the source layer module in the main javaScript file. I could not make up my mind one way or the other when it comes to that, maybe in some ways it would be better to just do everything with hard coded html actually. However in any case that aspect of the over all structure of this was not the main focus for me, that was just simply creating a program that works the way that I had in mind and when it comes to that it is working the way I want to it from an end users perspective.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Source Layer<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"style.css"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!-- canvas --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"area-canvas"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"canvas-source"</span> <span class="attr">class</span>=<span class="string">"canvas-layer"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"canvas-draw"</span>  <span class="attr">class</span>=<span class="string">"canvas-layer"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!-- UI --&gt;</span></div><div class="line">            <span class="comment">&lt;!-- out --&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"ui-out"</span> <span class="attr">class</span>=<span class="string">"ui"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="comment">&lt;!-- background --&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"ui-background"</span> <span class="attr">class</span>=<span class="string">"ui"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"ui-draw"</span> <span class="attr">class</span>=<span class="string">"ui"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>Draw:<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"ui-draw-clear"</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"clear"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"ui-draw-tool"</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"brush"</span>&gt;</span>Brush<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"eraser"</span>&gt;</span>Eraser<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="name">select</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"ui-draw-color"</span> <span class="attr">type</span>=<span class="string">"color"</span> <span class="attr">value</span>=<span class="string">"#000000"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"ui-draw-size"</span> <span class="attr">type</span>=<span class="string">"range"</span> <span class="attr">value</span>=<span class="string">"3.00"</span> <span class="attr">min</span>=<span class="string">"0.25"</span> <span class="attr">max</span>=<span class="string">"20"</span> <span class="attr">step</span>=<span class="string">"0.25"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"ui-draw-size-disp"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/source-layer.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/main.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Another thing that I did for this example is worked out at least a little css as well that I am linking to from the head of the document. So I think that I should take a moment to have a quick section on that then.</p>
<h3 id="2-3-The-css-for-this-example"><a href="#2-3-The-css-for-this-example" class="headerlink" title="2.3 - The css for this example"></a>2.3 - The css for this example</h3><p>I am also using at least a little additional css for this in an external css file that I also like to from the index.html file as I do with the javaScript files.</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.ui</span>&#123;</div><div class="line">  <span class="attribute">display</span>: inline-block;</div><div class="line">  <span class="attribute">float</span>:left;</div><div class="line">  <span class="attribute">background</span>:gray;</div><div class="line">  <span class="attribute">margin</span>:<span class="number">10px</span>;</div><div class="line">  <span class="attribute">padding</span>:<span class="number">10px</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#area-canvas</span>&#123;</div><div class="line">  <span class="attribute">display</span>: inline-block;</div><div class="line">  <span class="attribute">float</span>:left;</div><div class="line">  <span class="attribute">background</span>:gray;</div><div class="line">  <span class="attribute">padding</span>:<span class="number">0px</span>;</div><div class="line">  <span class="attribute">width</span>: <span class="number">680px</span>;</div><div class="line">  <span class="attribute">height</span>: <span class="number">520px</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#ui-draw</span>&#123;</div><div class="line">  <span class="attribute">min-width</span>: <span class="number">200px</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.canvas-layer</span>&#123;</div><div class="line">  <span class="attribute">margin</span>: <span class="number">20px</span>;</div><div class="line">  <span class="attribute">position</span>:absolute;</div><div class="line">  <span class="attribute">outline</span>: <span class="number">1px</span> solid <span class="number">#000000</span>;</div><div class="line">  <span class="attribute">width</span>: <span class="number">640px</span>;</div><div class="line">  <span class="attribute">height</span>: <span class="number">480px</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="3-Conclusion"><a href="#3-Conclusion" class="headerlink" title="3 - Conclusion"></a>3 - Conclusion</h2><p>For this example I just wanted to make a simple source layer module as a way to pull a basic feature out of another javaScript prototype that I was working on that had to do with a source layer. So in other words I was working on another project that is like this one only it was another kind of drawing program that has to do with creating a set of points. I might get around to writing a post on that one to at some point sooner or later, but I would like to do some more work on it before doing so, and I think that I will be wanting to work what I have made for this example into that one when it comes to making additional revisions of it.</p>
<p>This example is also a kind of exercise for what it is that I intend to get into next month when it comes to the subject of writing desktop like software, and basic tools using javaScript and various web language tools. I have been putting off getting into election.js long enough I think and from what I have been gathering that is a great tool for working out such things when it comes to having the property binaries in a single package so that it is assured that everything that is needed will be in a single package. Anyway I do not want to write about it to much here as that is something that is off topic for this <a href="/categories/js/">collection of JavaScript posts</a> in which I am typicality doing everything from the ground up.</p>
<p>Although I might not use this art program that much, I ma use a great deal of what I worked out here might be used in additional future projects actually beyond that other javaScript example prototype that I just mentioned. I do have an idea rattling around for yet another javaScript art program but I am thinking  that it will be a <a href="/2021/02/19/threejs-examples/">threejs example</a> actually rather than a vanilla javaScript example like with this post, So I think I might also be expanding and editing <a href="/categories/three-js/">my posts on the topic of threejs</a> next month. In fact that is the main reason why I called this example tool-source-layer-2d as I think that I would also like to have something like this only it will also work with <a href="/2021/04/30/threejs-dae-collada-loader/">dae files</a>. The dae file standard is the default standard that is used with <a href="https://en.wikipedia.org/wiki/Blender_%28software%29" target="_blank" rel="external">blender</a>, which is of course a popular 3d modeling program.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dustinpfister.github.io/2022/01/31/js-javascript-example-tool-source-layer-2d/" data-id="cl7vyxh02015r0gv1x8g0g5m0" class="article-share-link">Share</a>
      
        <a href="https://dustinpfister.github.io/2022/01/31/js-javascript-example-tool-source-layer-2d/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2022/02/04/threejs-vector3-set-from-spherical-coords/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Vector3 set from spherical coords method
        
      </div>
    </a>
  
  
    <a href="/2022/01/28/lodash_string/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Lodash String methods</div>
    </a>
  
</nav>

  
</article>



<section id="comments">

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://dustinpfister.github.io/2022/01/31/js-javascript-example-tool-source-layer-2d/index.html';
    this.page.identifier = '956';
    this.page.title = 'Source Layer javaScript tool example';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://dustinpfister-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular/">angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/api/">api</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/backbone/">backbone</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/discovery/">discovery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/electronjs/">electronjs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/games/">games</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/grunt/">grunt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hapi/">hapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/heroku/">heroku</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jquery/">jquery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lodash/">lodash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node-js/">node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/phaser/">phaser</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/statistics/">statistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/three-js/">three.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backbone/">backbone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/corejs/">corejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deterministic/">deterministic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discovery/">discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejs/">ejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/electronjs/">electronjs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hapi/">hapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jimp/">jimp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js13k/">js13k</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/structured-data/">structured-data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/themes/">themes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three-js/">three.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JSON/" style="font-size: 12.5px;">JSON</a> <a href="/tags/SEO/" style="font-size: 10.5px;">SEO</a> <a href="/tags/angular/" style="font-size: 13.5px;">angular</a> <a href="/tags/animation/" style="font-size: 12px;">animation</a> <a href="/tags/automation/" style="font-size: 12px;">automation</a> <a href="/tags/backbone/" style="font-size: 12.5px;">backbone</a> <a href="/tags/blog/" style="font-size: 15px;">blog</a> <a href="/tags/canvas/" style="font-size: 18.5px;">canvas</a> <a href="/tags/corejs/" style="font-size: 13px;">corejs</a> <a href="/tags/deterministic/" style="font-size: 10px;">deterministic</a> <a href="/tags/discovery/" style="font-size: 11px;">discovery</a> <a href="/tags/ejs/" style="font-size: 11.5px;">ejs</a> <a href="/tags/electronjs/" style="font-size: 13.5px;">electronjs</a> <a href="/tags/express/" style="font-size: 16.5px;">express</a> <a href="/tags/games/" style="font-size: 17px;">games</a> <a href="/tags/git/" style="font-size: 13px;">git</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hapi/" style="font-size: 15px;">hapi</a> <a href="/tags/heroku/" style="font-size: 12px;">heroku</a> <a href="/tags/hexo/" style="font-size: 14.5px;">hexo</a> <a href="/tags/jimp/" style="font-size: 10.5px;">jimp</a> <a href="/tags/jquery/" style="font-size: 11.5px;">jquery</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/js13k/" style="font-size: 10px;">js13k</a> <a href="/tags/linux/" style="font-size: 17.5px;">linux</a> <a href="/tags/lodash/" style="font-size: 18.5px;">lodash</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mongodb/" style="font-size: 14.5px;">mongodb</a> <a href="/tags/node-js/" style="font-size: 19.5px;">node.js</a> <a href="/tags/phaser/" style="font-size: 18px;">phaser</a> <a href="/tags/python/" style="font-size: 15.5px;">python</a> <a href="/tags/statistics/" style="font-size: 14px;">statistics</a> <a href="/tags/structured-data/" style="font-size: 10px;">structured-data</a> <a href="/tags/themes/" style="font-size: 10px;">themes</a> <a href="/tags/three-js/" style="font-size: 19px;">three.js</a> <a href="/tags/vuejs/" style="font-size: 16px;">vuejs</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/09/09/threejs-examples-wrap-module/">threejs wrap module example for wrapping rather than clamping values</a>
          </li>
        
          <li>
            <a href="/2022/09/02/threejs-vector3-wrap/">Wrapping a vector3 instance in threejs</a>
          </li>
        
          <li>
            <a href="/2022/08/26/threejs-examples-many-object-tweening/">Tweening many objects at once threejs example</a>
          </li>
        
          <li>
            <a href="/2022/08/19/electronjs-example-user-data-file/">User Data File Electronjs application example</a>
          </li>
        
          <li>
            <a href="/2022/08/12/threejs-cylinder-geometry/">Cylinder Geometry threejs example</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 Dustin Pfister<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      <br>
      <a href="/privacy.html" target="_blank">Privacy Policy</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/2021/02/19/threejs-examples/" class="mobile-nav-link">ThreeJS</a>
  
    <a href="/2020/03/23/canvas-example/" class="mobile-nav-link">Canvas</a>
  
    <a href="https://www.youtube.com/user/javaweaver" class="mobile-nav-link">Youtube</a>
  
    <a href="https://github.com/dustinpfister" class="mobile-nav-link">Github</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'dustinpfister-github-io';
  
  var disqus_url = 'https://dustinpfister.github.io/2022/01/31/js-javascript-example-tool-source-layer-2d/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


  </div>
</body>
</html>