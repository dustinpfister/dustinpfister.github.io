<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <!-- disqus image-->
  <meta property="og:image" content="https://dustinpfister.github.io/css/images/banner.jpg">
  
  <title>Quadratic Bezier Curves in threejs | Dustin John Pfister at github pages</title>
  
  <!-- no index tag or blank here -->
  
  
  <link rel="canonical" href="https://dustinpfister.github.io/2022/10/21/threejs-curve-quadratic-bezier-curve3/" />

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="In threejs there is a base Curve class as well as a number of classes that work on top of this Curve Class one of which is THREE.QuadraticBezierCurve3. This Quadratic Bezier Curve class creates a Curv">
<meta property="og:type" content="article">
<meta property="og:title" content="Quadratic Bezier Curves in threejs">
<meta property="og:url" content="https://dustinpfister.github.io/2022/10/21/threejs-curve-quadratic-bezier-curve3/index.html">
<meta property="og:site_name" content="Dustin John Pfister at github pages">
<meta property="og:description" content="In threejs there is a base Curve class as well as a number of classes that work on top of this Curve Class one of which is THREE.QuadraticBezierCurve3. This Quadratic Bezier Curve class creates a Curv">
<meta property="og:updated_time" content="2022-12-16T17:57:19.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Quadratic Bezier Curves in threejs">
<meta name="twitter:description" content="In threejs there is a base Curve class as well as a number of classes that work on top of this Curve Class one of which is THREE.QuadraticBezierCurve3. This Quadratic Bezier Curve class creates a Curv">
  
    <link rel="alternate" href="/atom.xml" title="Dustin John Pfister at github pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <!-- Google Analytics -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y8XLNG6JRW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Y8XLNG6JRW');
</script>
<!-- End Google Analytics -->


  <!-- structured data set in structured-data.ejs -->
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "email": "distin.pfister@gmail.com",
    "givenName": "Dustin",
    "familyName" : "Pfister",
    "additionalName": "John",
    "name": "Dustin John Pfister",
    "gender": "Male"
}
</script>
<!-- end structured data -->
  
  <!-- adsense if indexed -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1658284027672315",
    enable_page_level_ads: true
  });
  </script>
  
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <!-- added the image-->
        <div class="selfimage"></div>
        <!--<a href="/" id="logo">Dustin John Pfister at github pages</a>-->
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/2021/02/19/threejs-examples/">ThreeJS</a>
        
          <a class="main-nav-link" href="/2020/03/23/canvas-example/">Canvas</a>
        
          <a class="main-nav-link" href="https://www.youtube.com/user/javaweaver">Youtube</a>
        
          <a class="main-nav-link" href="https://github.com/dustinpfister">Github</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <!-- removed rss link-->
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dustinpfister.github.io"></form>
      </div>
    </div>
  </div>
</header>

<!-- adding my canvas thing ( Dustin ) -->
<script src="/js/the_matrix.js"></script>
      <div class="outer">
        <section id="main"><article itemscope itemtype="http://schema.org/Blog" id="post-threejs-curve-quadratic-bezier-curve3" class="article article-type-post" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/10/21/threejs-curve-quadratic-bezier-curve3/" class="article-date"> Published:
  <time datetime="2022-10-21T11:42:00.000Z" itemprop="datePublished">2022-10-21</time>
</a>

    <!-- other info (dustin) -->
    <a href="/2022/10/21/threejs-curve-quadratic-bezier-curve3/" class="article-date"> Modified:
  <time datetime="2022-12-16T17:57:19.000Z" itemprop="dateModified">2022-12-16</time>
</a>

    <span class="article-date">V1.12</span>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/three-js/">three.js</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Quadratic Bezier Curves in threejs
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="text">
      
        <p>In threejs there is a base <a href="https://threejs.org/docs/#api/en/extras/core/Curve" target="_blank" rel="external">Curve class</a> as well as a number of classes that work on top of this Curve Class one of which is <a href="https://threejs.org/docs/#api/en/extras/curves/QuadraticBezierCurve3" target="_blank" rel="external">THREE.QuadraticBezierCurve3</a>. This <a href="https://en.wikipedia.org/wiki/B%C3%A9zier_curve" target="_blank" rel="external">Quadratic Bezier Curve</a> class creates a Curve that defines a Curve between a start point and end point along with a control point that will effect the curve. This Can then be used for anything the requires a curve such as the tub geometry constrictor function. There are also base curve class methods like the two points method that will return an array of vector3 objects that can then be used to define movement over time, or create a geometry by making use of the set from points method for example.</p>
<a id="more"></a>
<iframe class="youtube_video" src="https://www.youtube.com/embed/Flm1zCt-s1I" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>



<h2 id="THREE-QuadraticBezierCurve3-and-what-to-know-first"><a href="#THREE-QuadraticBezierCurve3-and-what-to-know-first" class="headerlink" title="THREE.QuadraticBezierCurve3 and what to know first"></a>THREE.QuadraticBezierCurve3 and what to know first</h2><p>This is a blog post on the use of the THREE.QuadraticBezierCurve3 <a href="/2019/02/27/js-javascript-constructor/">constructor function</a> in the javaScript library known as threejs. This is then not any kind of <a href="/2018/04/04/threejs-getting-started/">getting started type post on threejs</a> let alone <a href="/2018/11/27/js-getting-started/">javaScript</a> and any additional skills that are needed before hand. There is a whole lot of ground to cover first before getting into the use of Curves and I am not going to be getting into every little detail that you should know at this point. However I do always like to take a moment to write about a few key things you might want to learn about first, or brush up on once again when it comes to using the Quadratic Bezier Curve3 class.</p>
<h3 id="Read-up-more-on-the-base-Curve-class"><a href="#Read-up-more-on-the-base-Curve-class" class="headerlink" title="Read up more on the base Curve class"></a>Read up more on the base Curve class</h3><p>I wrote a post on the <a href="/2022/06/17/threejs-curve/">base Curve class</a> all ready so that is something that you might want to read about a little first. The QuadraticBezierCurve3 class is a kind of Curve class so there is taking a moment to read about what there is to work with when it comes to curve objects in general. For the most part I do like to just use this QuadraticBezierCurve3 class for making curve objects, however there are a few other built in options for this, and if need be there is also making my own Curve classes as well based off the the main Curve class.</p>
<p>I also have a number of other posts on the subject of curves in threejs such as <a href="/2022/12/16/threejs-curve-geometry-from/">my post where I am making an updating custom geometry using curves</a></p>
<h3 id="The-Vector3-class"><a href="#The-Vector3-class" class="headerlink" title="The Vector3 class"></a>The Vector3 class</h3><p>The arguments that I give when calling the QuadraticBezierCurve3 function are instances of the <a href="/2018/04/15/threejs-vector3/">Vector3 class</a>, also I often want to create an array of Vector3 objects. This Vector3 class is worth checking out in detail then if you have not done so all ready.</p>
<h3 id="Source-Code-is-up-on-Github"><a href="#Source-Code-is-up-on-Github" class="headerlink" title="Source Code is up on Github"></a>Source Code is up on Github</h3><p>The source code examples that I am writing about in this <a href="https://github.com/dustinpfister/test_threejs/tree/master/views/forpost/threejs-curve-quadratic-bezier-curve3" target="_blank" rel="external">post can also be found on Github</a>.</p>
<h3 id="Version-Numbers-matter"><a href="#Version-Numbers-matter" class="headerlink" title="Version Numbers matter"></a>Version Numbers matter</h3><p>When I wrote this post I was using r140 of threejs.</p>
<h2 id="1-Basic-examples-of-THREE-QuadraticBezierCurve3"><a href="#1-Basic-examples-of-THREE-QuadraticBezierCurve3" class="headerlink" title="1 - Basic examples of THREE.QuadraticBezierCurve3"></a>1 - Basic examples of THREE.QuadraticBezierCurve3</h2><p>To start out with this I will want to have at least one if not more basic examples of the THREE.QuadraticBezierCurve3 constructor that will return a Curve object and thus can be used anywhere such an object is called for. For now I will be sticking with just the Quadratic Bezier Curve alone as a way to create curves saving curve paths for a later section. I will be touching base on things like creating a geometry from this Curve object, but will not be getting into advanced topics like updating a geometry and so forth.</p>
<h3 id="1-1-Single-Quadratic-Bezier-Curve-and-Points"><a href="#1-1-Single-Quadratic-Bezier-Curve-and-Points" class="headerlink" title="1.1 - Single Quadratic Bezier Curve and Points"></a>1.1 - Single Quadratic Bezier Curve and Points</h3><p>One has to start somewhere with this sort of thing and with that said here I have a simply hello world style example where I am creating a Quadratic Bezier Curve and then using the Get Points method of the base curve class to create an array of vector3 objects. This array of vector3 objects can then be used to create a geometry by calling the Buffer Geometry constructor function and then using the set from points method. The returned result is then a Buffer Geometry with a position attribute alone, so this might not work well with a Mesh object which requires a few more attributes, but it will work well with say the THREE.Points constructor.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">32</span> / <span class="number">24</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line">camera.position.set(<span class="number">7</span>, <span class="number">5</span>, <span class="number">10</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGLRenderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">( <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body ).appendChild(renderer.domElement);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// CURVE</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> v1 = <span class="keyword">new</span> THREE.Vector3(<span class="number">5</span>, <span class="number">0</span>, <span class="number">5</span>);</div><div class="line"><span class="keyword">const</span> v2 = <span class="keyword">new</span> THREE.Vector3(<span class="number">-5</span>, <span class="number">0</span>, <span class="number">-5</span>);</div><div class="line"><span class="keyword">const</span> vControl = <span class="keyword">new</span> THREE.Vector3(<span class="number">5</span>, <span class="number">0</span>, <span class="number">-5</span>);</div><div class="line"><span class="keyword">const</span> curve = <span class="keyword">new</span> THREE.QuadraticBezierCurve3( v1, vControl, v2);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// SCENE CHILD OBJECTS</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line">scene.add( <span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>, <span class="number">0x00ff00</span>, <span class="number">0x4a4a4a</span>) );</div><div class="line"><span class="comment">// points</span></div><div class="line"><span class="keyword">const</span> v3Array = curve.getPoints(<span class="number">50</span>);</div><div class="line"><span class="keyword">const</span> geometry = <span class="keyword">new</span> THREE.BufferGeometry();</div><div class="line">geometry.setFromPoints(v3Array);</div><div class="line"><span class="keyword">const</span> points = <span class="keyword">new</span> THREE.Points(geometry, <span class="keyword">new</span> THREE.PointsMaterial(&#123;<span class="attr">color</span>: <span class="number">0x00ff00</span>, <span class="attr">size</span>: <span class="number">0.25</span> &#125;));</div><div class="line">scene.add(points);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// RENDER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line">renderer.render(scene, camera);</div></pre></td></tr></table></figure>
<h3 id="1-2-Making-a-tube-geometry-with-a-curve"><a href="#1-2-Making-a-tube-geometry-with-a-curve" class="headerlink" title="1.2 - Making a tube geometry with a curve"></a>1.2 - Making a tube geometry with a curve</h3><p>One thing that can be done with a curve is that it can be used as the first argument for the tube geometry constructor.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">32</span> / <span class="number">24</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line">camera.position.set(<span class="number">7</span>, <span class="number">5</span>, <span class="number">10</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGLRenderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">( <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body ).appendChild(renderer.domElement);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// CURVE</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> v1 = <span class="keyword">new</span> THREE.Vector3(<span class="number">5</span>, <span class="number">0</span>, <span class="number">5</span>);</div><div class="line"><span class="keyword">const</span> v2 = <span class="keyword">new</span> THREE.Vector3(<span class="number">-5</span>, <span class="number">0</span>, <span class="number">-5</span>);</div><div class="line"><span class="keyword">const</span> vControl = <span class="keyword">new</span> THREE.Vector3(<span class="number">5</span>, <span class="number">0</span>, <span class="number">-5</span>);</div><div class="line"><span class="keyword">const</span> curve = <span class="keyword">new</span> THREE.QuadraticBezierCurve3( v1, vControl, v2);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// MESH WITH TUBE GEOMETRY</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line">scene.add( <span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>, <span class="number">0x00ff00</span>, <span class="number">0x4a4a4a</span>) );</div><div class="line"><span class="keyword">const</span> tubeSegements = <span class="number">25</span>;</div><div class="line"><span class="keyword">const</span> radius = <span class="number">0.75</span>;</div><div class="line"><span class="keyword">const</span> radialSegements = <span class="number">25</span>;</div><div class="line"><span class="keyword">const</span> closeTube = <span class="literal">false</span>;</div><div class="line"><span class="keyword">const</span> mesh = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">    <span class="keyword">new</span> THREE.TubeGeometry(curve, tubeSegements, radius, radialSegements, closeTube),</div><div class="line">    <span class="keyword">new</span> THREE.MeshNormalMaterial(&#123; <span class="attr">side</span>: THREE.DoubleSide&#125;) );</div><div class="line">scene.add(mesh);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// RENDER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line">renderer.render(scene, camera);</div></pre></td></tr></table></figure>
<h2 id="2-Curve-Paths"><a href="#2-Curve-Paths" class="headerlink" title="2 - Curve Paths"></a>2 - Curve Paths</h2><p>The Curve Paths class is a way to create a Curve object that is not just one Curve but a collection of curves. I can create a single instance of this Curve Path class and then start adding curve objects to it, such as Curves created with the Quadratic Bezier Curve constructor. This sepeshail class that is curve that is then a collection of curves is then an impoatane t tool when it comes to using the Quadratic Bezier Curve class for one of the major use case examples that I would like to use if for as ofteh I will want to have not just one but many control points as well as start and end points that make up an over all curve. </p>
<h3 id="2-1-Curve-Path-with-Quadratic-Bezier-Curve-and-Points"><a href="#2-1-Curve-Path-with-Quadratic-Bezier-Curve-and-Points" class="headerlink" title="2.1 - Curve Path with Quadratic Bezier Curve and Points"></a>2.1 - Curve Path with Quadratic Bezier Curve and Points</h3><p>There is creating an instance of a curve path by calling the <a href="https://threejs.org/docs/#api/en/extras/core/CurvePath" target="_blank" rel="external">THREE.CurvePath</a> constructor function, then I just need to start adding Curves to it with the add method of this class. For this I created an array with the values that I want to create a start point, and point and control point for each curve. In then just need to loop over this array and create the Vector3 objects that I then pass to the THREE.QuadraticBezierCurve3 constructor and then add each path to the Curve Path.</p>
<p>I can then use the Curve Path like that of any other Curve Object and as such all the Curve class methods are there to work with such as the Get Points method. However I have found that when using a method such as that the number that I give for the number of points will be for each curve object in the curve path rather than the curve path over all.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">32</span> / <span class="number">24</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line">camera.position.set(<span class="number">7</span>, <span class="number">5</span>, <span class="number">10</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGLRenderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">( <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body ).appendChild(renderer.domElement);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// CURVE PATH</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> curvePath = <span class="keyword">new</span> THREE.CurvePath();</div><div class="line">[</div><div class="line">    [<span class="number">5</span>,<span class="number">0</span>,<span class="number">5</span>,<span class="number">0</span>,<span class="number">2</span>,<span class="number">-5</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">-5</span>], <span class="comment">// three each (x,y,z) for start, end, and control points</span></div><div class="line">    [<span class="number">0</span>,<span class="number">2</span>,<span class="number">-5</span>,<span class="number">0</span>,<span class="number">1.5</span>,<span class="number">0</span>,<span class="number">-2</span>,<span class="number">2</span>,<span class="number">3</span>],</div><div class="line">    [<span class="number">0</span>,<span class="number">1.5</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>,<span class="number">-11</span>],</div><div class="line">    [<span class="number">3</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">0</span>,<span class="number">10</span>]</div><div class="line">].forEach(<span class="function">(<span class="params">a</span>)=&gt;</span>&#123;</div><div class="line">    <span class="keyword">const</span> v1 = <span class="keyword">new</span> THREE.Vector3(a[<span class="number">0</span>], a[<span class="number">1</span>], a[<span class="number">2</span>]);       <span class="comment">// start</span></div><div class="line">    <span class="keyword">const</span> v2 = <span class="keyword">new</span> THREE.Vector3(a[<span class="number">3</span>], a[<span class="number">4</span>], a[<span class="number">5</span>]);       <span class="comment">// end</span></div><div class="line">    <span class="keyword">const</span> vControl = <span class="keyword">new</span> THREE.Vector3(a[<span class="number">6</span>], a[<span class="number">7</span>], a[<span class="number">8</span>]); <span class="comment">// control</span></div><div class="line">    curvePath.add( <span class="keyword">new</span> THREE.QuadraticBezierCurve3( v1, vControl, v2) );</div><div class="line">&#125;);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// SCENE CHILD OBJECTS</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line">scene.add( <span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>) );</div><div class="line"><span class="comment">// you can just use getPoints as a way to create an array of vector3 objects</span></div><div class="line"><span class="comment">// which can be used with the set from points method</span></div><div class="line"><span class="keyword">const</span> v3Array = curvePath.getPoints(<span class="number">200</span> / curvePath.curves.length);</div><div class="line"><span class="keyword">const</span> geometry = <span class="keyword">new</span> THREE.BufferGeometry();</div><div class="line">geometry.setFromPoints(v3Array);</div><div class="line"><span class="keyword">const</span> points = <span class="keyword">new</span> THREE.Points(geometry, <span class="keyword">new</span> THREE.PointsMaterial(&#123;<span class="attr">color</span>: <span class="number">0x00ff00</span>, <span class="attr">size</span>: <span class="number">0.25</span> &#125;));</div><div class="line">scene.add(points);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// RENDER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line">renderer.render(scene, camera);</div></pre></td></tr></table></figure>
<h2 id="3-Animation-loop-examples"><a href="#3-Animation-loop-examples" class="headerlink" title="3 - Animation loop examples"></a>3 - Animation loop examples</h2><p>One thing that I would really like to do with curves is to create paths that I can then use to set the position and rotation of objects. That is to define a path with one or more curves, and then use the get points method or some other means to create an array of points in the form of Vector3 class objects. This array of vector3 objects can then be used as a way to go about setting the position of a mesh object over time by copying the state of a current point to the position object of the mesh object. The same can be done when it comes to setting rotation by passing a current Vector3 object to the look at method of a mesh object, or any object3d based object for that matter.</p>
<p>So then the best way to go about showing this would be to create one or more animation projects about the Quadratic Bezier Curve3 class.</p>
<h3 id="3-1-Setting-the-position-of-a-mesh-object-along-the-path-of-a-curve"><a href="#3-1-Setting-the-position-of-a-mesh-object-along-the-path-of-a-curve" class="headerlink" title="3.1 - Setting the position of a mesh object along the path of a curve"></a>3.1 - Setting the position of a mesh object along the path of a curve</h3><p>For this first animation example I would like to create a helper function to quickly create a curve path with the Quadratic Bezier Curve class for each curve of the curve path. I can then use this helper function to create a curve path that will be used for the current position of a mesh object. I can then use the get points method to create an array of vector3 objects and I can use that to create a geometry that I will then use with the THREE.Points class to get a visual idea of what is going on with these points. Also I can make the length of the array the same as the count of frames for the animation so that I have a point in space for each frame for the mesh object. So then in my animation loop I can use the current frame number to get the current Vector3 object that I want for the mesh object.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// SCENE, CAMERA, and RENDERER</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">    <span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">75</span>, <span class="number">320</span> / <span class="number">240</span>, <span class="number">1</span>, <span class="number">1000</span>);</div><div class="line">    camera.position.set(<span class="number">6</span>, <span class="number">6</span>, <span class="number">6</span>);</div><div class="line">    camera.lookAt(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>);</div><div class="line">    <span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGLRenderer();</div><div class="line">    renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">    ( <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body ).appendChild(renderer.domElement);</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// HELPERS</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">const</span> createCurvePath = <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> curvePath = <span class="keyword">new</span> THREE.CurvePath();</div><div class="line">        data.forEach(<span class="function">(<span class="params">a</span>)=&gt;</span>&#123;</div><div class="line">            <span class="keyword">const</span> v1 = <span class="keyword">new</span> THREE.Vector3(a[<span class="number">0</span>], a[<span class="number">1</span>], a[<span class="number">2</span>]);       <span class="comment">// start</span></div><div class="line">            <span class="keyword">const</span> v2 = <span class="keyword">new</span> THREE.Vector3(a[<span class="number">3</span>], a[<span class="number">4</span>], a[<span class="number">5</span>]);       <span class="comment">// end</span></div><div class="line">            <span class="keyword">const</span> vControl = <span class="keyword">new</span> THREE.Vector3(a[<span class="number">6</span>], a[<span class="number">7</span>], a[<span class="number">8</span>]); <span class="comment">// control</span></div><div class="line">            curvePath.add( <span class="keyword">new</span> THREE.QuadraticBezierCurve3( v1, vControl, v2) );</div><div class="line">        &#125;);</div><div class="line">        <span class="keyword">return</span> curvePath;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// CURVE PATH</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">const</span> POINT_COUNT = <span class="number">300</span>; <span class="comment">// NUMBER OF POINTS</span></div><div class="line">    <span class="keyword">const</span> cp_pos = createCurvePath([</div><div class="line">        [<span class="number">5</span>,<span class="number">0</span>,<span class="number">5</span>, <span class="number">0</span>,<span class="number">2</span>,<span class="number">-7</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">-5</span>], <span class="comment">// three each (x,y,z) for start, end, and control points</span></div><div class="line">        [<span class="number">0</span>,<span class="number">2</span>,<span class="number">-7</span>,<span class="number">0</span>,<span class="number">1.5</span>,<span class="number">0</span>,<span class="number">-2</span>,<span class="number">4</span>,<span class="number">3</span>],</div><div class="line">        [<span class="number">0</span>,<span class="number">1.5</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">-1</span>,<span class="number">-4</span>],</div><div class="line">        [<span class="number">3</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">-12</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">7</span>,<span class="number">10</span>]</div><div class="line">    ]);</div><div class="line">    <span class="keyword">const</span> v3Array = cp_pos.getPoints(POINT_COUNT / cp_pos.curves.length);</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// POINTS</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    scene.add( <span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>) );</div><div class="line">    <span class="comment">// you can just use getPoints as a way to create an array of vector3 objects</span></div><div class="line">    <span class="comment">// which can be used with the set from points method</span></div><div class="line">    <span class="keyword">const</span> geometry = <span class="keyword">new</span> THREE.BufferGeometry();</div><div class="line">    geometry.setFromPoints(v3Array);</div><div class="line">    <span class="keyword">const</span> points = <span class="keyword">new</span> THREE.Points(geometry, <span class="keyword">new</span> THREE.PointsMaterial(&#123;<span class="attr">color</span>: <span class="number">0x00ff00</span>, <span class="attr">size</span>: <span class="number">0.125</span> &#125;));</div><div class="line">    scene.add(points);</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// MESH</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">const</span> mesh = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">        <span class="keyword">new</span> THREE.BoxGeometry(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>),</div><div class="line">        <span class="keyword">new</span> THREE.MeshNormalMaterial());</div><div class="line">    scene.add(mesh);</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// ANIMATION LOOP</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">const</span> FPS_UPDATE = <span class="number">20</span>,    <span class="comment">// fps rate to update ( low fps for low CPU use, but choppy video )</span></div><div class="line">    FPS_MOVEMENT = <span class="number">30</span>;        <span class="comment">// fps rate to move object by that is independent of frame update rate</span></div><div class="line">    FRAME_MAX = POINT_COUNT;  <span class="comment">// MADE THE FRAME MAX THE SAME AS THE POINT COUNT</span></div><div class="line">    <span class="keyword">let</span> secs = <span class="number">0</span>,</div><div class="line">    frame = <span class="number">0</span>,</div><div class="line">    lt = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">    <span class="comment">// update</span></div><div class="line">    <span class="keyword">const</span> v_start = <span class="keyword">new</span> THREE.Vector3(<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>);</div><div class="line">    <span class="keyword">const</span> v_delta = <span class="keyword">new</span> THREE.Vector3(<span class="number">0</span>, <span class="number">0</span>, <span class="number">3</span>);</div><div class="line">    <span class="keyword">const</span> update = <span class="function"><span class="keyword">function</span>(<span class="params">frame, frameMax</span>)</span>&#123;</div><div class="line">        <span class="keyword">const</span> a = frame / frameMax;</div><div class="line">        <span class="keyword">const</span> v1 = v3Array[ frame ];</div><div class="line">        mesh.position.copy(v1);</div><div class="line">        <span class="comment">// looking at next in path</span></div><div class="line">        <span class="keyword">const</span> v2 = v3Array[ ( frame + <span class="number">1</span> ) % frameMax ];</div><div class="line">        mesh.lookAt(v2)</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// loop</span></div><div class="line">    <span class="keyword">const</span> loop = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">        secs = (now - lt) / <span class="number">1000</span>;</div><div class="line">        requestAnimationFrame(loop);</div><div class="line">        <span class="keyword">if</span>(secs &gt; <span class="number">1</span> / FPS_UPDATE)&#123;</div><div class="line">            <span class="comment">// update, render</span></div><div class="line">            update( <span class="built_in">Math</span>.floor(frame), FRAME_MAX);</div><div class="line">            renderer.render(scene, camera);</div><div class="line">            <span class="comment">// step frame</span></div><div class="line">            frame += FPS_MOVEMENT * secs;</div><div class="line">            frame %= FRAME_MAX;</div><div class="line">            lt = now;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    loop();</div><div class="line">&#125;());</div></pre></td></tr></table></figure>
<p>Although I have the basic idea of what I want working fine here, I would also like to do this for setting rotation as well. Also I might want to look into other ways of getting the points that might prove to be more efficient and also get the index values for the point along the curve in a way that is different from that of the get points method. So I am going to want to create and write about at least a few more animation loop examples here I think.</p>
<h3 id="3-2-Using-curves-to-set-position-an-rotation-of-a-camera"><a href="#3-2-Using-curves-to-set-position-an-rotation-of-a-camera" class="headerlink" title="3.2 - Using curves to set position an rotation of a camera"></a>3.2 - Using curves to set position an rotation of a camera</h3><p>For this animation loop example I am doing more or less the same thing as the first one, only now I have to curve paths one of which I am using to set the position of a camera, and the other I am using to set the look at location for the camera. So then over time I can use these paths to define where an object will be, but also where it should be looking over time as well which is great. For this example I also expanding  the collection of helper functions to included methods that help with crating an array of vector3 objects as well as creating a collection of that help to show the state of the curve as well.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// SCENE, CAMERA, and RENDERER</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">    <span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">75</span>, <span class="number">320</span> / <span class="number">240</span>, <span class="number">1</span>, <span class="number">1000</span>);</div><div class="line">    camera.position.set(<span class="number">6</span>, <span class="number">6</span>, <span class="number">6</span>);</div><div class="line">    camera.lookAt(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>);</div><div class="line">    <span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGLRenderer();</div><div class="line">    renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">    ( <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body ).appendChild(renderer.domElement);</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// HELPERS</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// make a curve path</span></div><div class="line">    <span class="keyword">const</span> createCurvePath = <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> curvePath = <span class="keyword">new</span> THREE.CurvePath();</div><div class="line">        data.forEach(<span class="function">(<span class="params">a</span>)=&gt;</span>&#123;</div><div class="line">            <span class="keyword">const</span> v1 = <span class="keyword">new</span> THREE.Vector3(a[<span class="number">0</span>], a[<span class="number">1</span>], a[<span class="number">2</span>]);       <span class="comment">// start</span></div><div class="line">            <span class="keyword">const</span> v2 = <span class="keyword">new</span> THREE.Vector3(a[<span class="number">3</span>], a[<span class="number">4</span>], a[<span class="number">5</span>]);       <span class="comment">// end</span></div><div class="line">            <span class="keyword">const</span> vControl = <span class="keyword">new</span> THREE.Vector3(a[<span class="number">6</span>], a[<span class="number">7</span>], a[<span class="number">8</span>]); <span class="comment">// control</span></div><div class="line">            curvePath.add( <span class="keyword">new</span> THREE.QuadraticBezierCurve3( v1, vControl, v2) );</div><div class="line">        &#125;);</div><div class="line">        <span class="keyword">return</span> curvePath;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// create a v3 array</span></div><div class="line">    <span class="keyword">const</span> createV3Array = <span class="function">(<span class="params">data, pointCount</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> cp = createCurvePath(data);</div><div class="line">        <span class="keyword">return</span> cp.getPoints(pointCount / cp.curves.length);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// create points from v3 array</span></div><div class="line">    <span class="keyword">const</span> createPoints = <span class="function">(<span class="params">v3Array, color</span>) =&gt;</span> &#123;</div><div class="line">        color = color || <span class="number">0xffffff</span>;</div><div class="line">        <span class="keyword">const</span> geometry = <span class="keyword">new</span> THREE.BufferGeometry();</div><div class="line">        geometry.setFromPoints(v3Array);</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> THREE.Points(geometry, <span class="keyword">new</span> THREE.PointsMaterial(&#123;<span class="attr">color</span>: color, <span class="attr">size</span>: <span class="number">0.125</span> &#125;));</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// CURVE PATHS</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">const</span> POINT_COUNT = <span class="number">300</span>; <span class="comment">// NUMBER OF POINTS</span></div><div class="line">    <span class="keyword">const</span> v3Array_pos = createV3Array([</div><div class="line">        [<span class="number">5</span>,<span class="number">0</span>,<span class="number">5</span>, <span class="number">0</span>,<span class="number">2</span>,<span class="number">-7</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">-5</span>], <span class="comment">// three each (x,y,z) for start, end, and control points</span></div><div class="line">        [<span class="number">0</span>,<span class="number">2</span>,<span class="number">-7</span>,<span class="number">0</span>,<span class="number">1.5</span>,<span class="number">0</span>,<span class="number">-2</span>,<span class="number">4</span>,<span class="number">3</span>],</div><div class="line">        [<span class="number">0</span>,<span class="number">1.5</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">-1</span>,<span class="number">-4</span>],</div><div class="line">        [<span class="number">3</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">-12</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">7</span>,<span class="number">10</span>]</div><div class="line">    ], POINT_COUNT);</div><div class="line">    <span class="keyword">const</span> v3Array_look = createV3Array([</div><div class="line">        [<span class="number">-10</span>,<span class="number">0</span>,<span class="number">5</span>,<span class="number">10</span>,<span class="number">3</span>,<span class="number">20</span>,<span class="number">0</span>,<span class="number">-3</span>,<span class="number">0</span>]</div><div class="line">    ], POINT_COUNT);</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// POINTS</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    scene.add( createPoints( v3Array_pos, <span class="number">0xff0000</span> ) );</div><div class="line">    scene.add( createPoints( v3Array_look, <span class="number">0x00ff00</span> ) );</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// GRID, MESH</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    scene.add( <span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>) );</div><div class="line">    <span class="keyword">const</span> mesh = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">        <span class="keyword">new</span> THREE.BoxGeometry(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>),</div><div class="line">        <span class="keyword">new</span> THREE.MeshNormalMaterial());</div><div class="line">    scene.add(mesh);</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// ANIMATION LOOP</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">const</span> FPS_UPDATE = <span class="number">20</span>,    <span class="comment">// fps rate to update ( low fps for low CPU use, but choppy video )</span></div><div class="line">    FPS_MOVEMENT = <span class="number">30</span>;        <span class="comment">// fps rate to move object by that is independent of frame update rate</span></div><div class="line">    FRAME_MAX = POINT_COUNT;  <span class="comment">// MADE THE FRAME MAX THE SAME AS THE POINT COUNT</span></div><div class="line">    <span class="keyword">let</span> secs = <span class="number">0</span>,</div><div class="line">    frame = <span class="number">0</span>,</div><div class="line">    lt = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">    <span class="comment">// update</span></div><div class="line">    <span class="keyword">const</span> v_start = <span class="keyword">new</span> THREE.Vector3(<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>);</div><div class="line">    <span class="keyword">const</span> v_delta = <span class="keyword">new</span> THREE.Vector3(<span class="number">0</span>, <span class="number">0</span>, <span class="number">3</span>);</div><div class="line">    <span class="keyword">const</span> update = <span class="function"><span class="keyword">function</span>(<span class="params">frame, frameMax</span>)</span>&#123;</div><div class="line">        <span class="keyword">const</span> a = frame / frameMax;</div><div class="line">        <span class="keyword">const</span> v1 = v3Array_pos[ frame ];</div><div class="line">        <span class="keyword">const</span> v2 = v3Array_look[ frame ];</div><div class="line">        camera.position.copy(v1);</div><div class="line">        camera.lookAt(v2);</div><div class="line">        mesh.position.copy(v2);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// loop</span></div><div class="line">    <span class="keyword">const</span> loop = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">        secs = (now - lt) / <span class="number">1000</span>;</div><div class="line">        requestAnimationFrame(loop);</div><div class="line">        <span class="keyword">if</span>(secs &gt; <span class="number">1</span> / FPS_UPDATE)&#123;</div><div class="line">            <span class="comment">// update, render</span></div><div class="line">            update( <span class="built_in">Math</span>.floor(frame), FRAME_MAX);</div><div class="line">            renderer.render(scene, camera);</div><div class="line">            <span class="comment">// step frame</span></div><div class="line">            frame += FPS_MOVEMENT * secs;</div><div class="line">            frame %= FRAME_MAX;</div><div class="line">            lt = now;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    loop();</div><div class="line">&#125;());</div></pre></td></tr></table></figure>
<h3 id="3-3-Get-Points-method-along-with-get-alpha-methods"><a href="#3-3-Get-Points-method-along-with-get-alpha-methods" class="headerlink" title="3.3 - Get Points method along with get alpha methods"></a>3.3 - Get Points method along with get alpha methods</h3><p>The get points method is great for just quickly getting an array of vector3 objects from a curve, but there are still some situations in which I will want to create my own custom get points method actually. There is also the get point method of the curve class and this is what I can use to get a single point along a curve at a time. When calling the get point method the number value that i give is not a count of points that I want, but rather an alpha value between 0 and 1 that is a single point along the curve that I want. If I want to just use a index over total count type alpha value to get the same result that is what is given when using the get points method I can do that, however it would make sense to come up with custom alpha values for this.</p>
<p>So for this example I made changes to the helper functions so that I am using the get point method in place of the get points method. Also I am not just using the get points method but pulling it into a helper function that can be given an get alpha method. By default the get alpha method that is used is just like that of what is used by the get points method of the curve class and I am doing just that for one curve. However I am of course defining a number of custom get alpha methods that use various features of the math utils object of threejs , as well as another one where I am using a 2d curve to define  what the alpha value should be when getting a point a long a curve.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// SCENE, CAMERA, and RENDERER</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">    <span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">75</span>, <span class="number">320</span> / <span class="number">240</span>, <span class="number">1</span>, <span class="number">1000</span>);</div><div class="line">    camera.position.set(<span class="number">-6</span>, <span class="number">6</span>, <span class="number">6</span>);</div><div class="line">    camera.lookAt(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>);</div><div class="line">    <span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGLRenderer();</div><div class="line">    renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">    ( <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body ).appendChild(renderer.domElement);</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// HELPERS</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// make a curve path</span></div><div class="line">    <span class="keyword">const</span> createCurvePath = <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> curvePath = <span class="keyword">new</span> THREE.CurvePath();</div><div class="line">        data.forEach(<span class="function">(<span class="params">a</span>)=&gt;</span>&#123;</div><div class="line">            <span class="keyword">const</span> v1 = <span class="keyword">new</span> THREE.Vector3(a[<span class="number">0</span>], a[<span class="number">1</span>], a[<span class="number">2</span>]);       <span class="comment">// start</span></div><div class="line">            <span class="keyword">const</span> v2 = <span class="keyword">new</span> THREE.Vector3(a[<span class="number">3</span>], a[<span class="number">4</span>], a[<span class="number">5</span>]);       <span class="comment">// end</span></div><div class="line">            <span class="keyword">const</span> vControl = <span class="keyword">new</span> THREE.Vector3(a[<span class="number">6</span>], a[<span class="number">7</span>], a[<span class="number">8</span>]); <span class="comment">// control</span></div><div class="line">            curvePath.add( <span class="keyword">new</span> THREE.QuadraticBezierCurve3( v1, vControl, v2) );</div><div class="line">        &#125;);</div><div class="line">        <span class="keyword">return</span> curvePath;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// get a point along a curve path using a getAlpha method</span></div><div class="line">    <span class="keyword">const</span> getPoint = <span class="function">(<span class="params">cp, rawAlpha, getAlpha</span>) =&gt;</span> &#123;</div><div class="line">        rawAlpha = rawAlpha === <span class="literal">undefined</span> ? <span class="number">0</span> : rawAlpha;</div><div class="line">        getAlpha = getAlpha || <span class="function"><span class="keyword">function</span>(<span class="params">rawAlpha</span>)</span>&#123;</div><div class="line">            <span class="keyword">return</span> rawAlpha</div><div class="line">        &#125;;</div><div class="line">        <span class="keyword">const</span> alpha = getAlpha(rawAlpha);</div><div class="line">        <span class="keyword">return</span> cp.getPoint(alpha);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// create a v3 array</span></div><div class="line">    <span class="keyword">const</span> createV3Array = <span class="function">(<span class="params">cp, pointCount, getAlpha</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">let</span> i = <span class="number">0</span>;</div><div class="line">        <span class="keyword">const</span> v3Array = [];</div><div class="line">        <span class="keyword">while</span>(i &lt; pointCount)&#123;</div><div class="line">           <span class="keyword">const</span> alpha = i / pointCount;</div><div class="line">           v3Array.push( getPoint(cp, alpha, getAlpha) );</div><div class="line">           i += <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> v3Array;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// create points from v3 array</span></div><div class="line">    <span class="keyword">const</span> createPoints = <span class="function">(<span class="params">cp, color, pointCount, getAlpha</span>) =&gt;</span> &#123;</div><div class="line">        color = color || <span class="number">0xffffff</span>;</div><div class="line">        <span class="keyword">const</span> geometry = <span class="keyword">new</span> THREE.BufferGeometry();</div><div class="line">        <span class="keyword">const</span> points = createV3Array(cp, pointCount, getAlpha);</div><div class="line">        <span class="built_in">console</span>.log(points);</div><div class="line">        geometry.setFromPoints(points);</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> THREE.Points(geometry, <span class="keyword">new</span> THREE.PointsMaterial(&#123;<span class="attr">color</span>: color, <span class="attr">size</span>: <span class="number">0.025</span> &#125;));</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// CURVE PATHS</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">const</span> POINT_COUNT = <span class="number">400</span>;</div><div class="line">    <span class="keyword">const</span> cp_pos1 = createCurvePath([</div><div class="line">        [<span class="number">5</span>,<span class="number">0</span>,<span class="number">5</span>, <span class="number">0</span>,<span class="number">1</span>,<span class="number">-5</span>, <span class="number">5</span>,<span class="number">0.5</span>,<span class="number">-5</span>],</div><div class="line">        [<span class="number">0</span>,<span class="number">1</span>,<span class="number">-5</span>, <span class="number">-5</span>,<span class="number">3</span>,<span class="number">-5</span>, <span class="number">-3</span>,<span class="number">0.75</span>,<span class="number">-5</span>]</div><div class="line">    ]);</div><div class="line">    <span class="keyword">const</span> cp_pos2 = createCurvePath([</div><div class="line">        [<span class="number">5</span>,<span class="number">1</span>,<span class="number">5</span>, <span class="number">0</span>,<span class="number">2</span>,<span class="number">-5</span>, <span class="number">5</span>,<span class="number">1.5</span>,<span class="number">-5</span>],</div><div class="line">        [<span class="number">0</span>,<span class="number">2</span>,<span class="number">-5</span>, <span class="number">-5</span>,<span class="number">4</span>,<span class="number">-5</span>, <span class="number">-3</span>,<span class="number">1.75</span>,<span class="number">-5</span>]</div><div class="line">    ]);</div><div class="line">    <span class="keyword">const</span> cp_pos3 = createCurvePath([</div><div class="line">        [<span class="number">5</span>,<span class="number">2</span>,<span class="number">5</span>, <span class="number">0</span>,<span class="number">3</span>,<span class="number">-5</span>, <span class="number">5</span>,<span class="number">2.5</span>,<span class="number">-5</span>],</div><div class="line">        [<span class="number">0</span>,<span class="number">3</span>,<span class="number">-5</span>, <span class="number">-5</span>,<span class="number">5</span>,<span class="number">-5</span>, <span class="number">-3</span>,<span class="number">2.75</span>,<span class="number">-5</span>]</div><div class="line">    ]);</div><div class="line">    <span class="keyword">const</span> cp_pos4 = createCurvePath([</div><div class="line">        [<span class="number">5</span>,<span class="number">3</span>,<span class="number">5</span>, <span class="number">0</span>,<span class="number">4</span>,<span class="number">-5</span>, <span class="number">5</span>,<span class="number">3.5</span>,<span class="number">-5</span>],</div><div class="line">        [<span class="number">0</span>,<span class="number">4</span>,<span class="number">-5</span>, <span class="number">-5</span>,<span class="number">6</span>,<span class="number">-5</span>, <span class="number">-3</span>,<span class="number">3.75</span>,<span class="number">-5</span>]</div><div class="line">    ]);</div><div class="line">    <span class="comment">// damp alpha</span></div><div class="line">    <span class="keyword">const</span> dampAlpha = <span class="function">(<span class="params">rawAlpha</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">1</span> - THREE.MathUtils.damp(<span class="number">0</span>, <span class="number">1</span>, <span class="number">8</span>, <span class="number">1</span> - rawAlpha);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// smooth alpha</span></div><div class="line">    <span class="keyword">const</span> smoothAlpha = <span class="function">(<span class="params">rawAlpha</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">return</span> THREE.MathUtils.smoothstep(rawAlpha, <span class="number">0</span>, <span class="number">1</span>);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// curve Alpha</span></div><div class="line">    <span class="keyword">const</span> curveAlpha = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">const</span> curve = <span class="keyword">new</span> THREE.QuadraticBezierCurve(</div><div class="line">            <span class="keyword">new</span> THREE.Vector2( <span class="number">0</span>, <span class="number">0</span> ),</div><div class="line">            <span class="keyword">new</span> THREE.Vector2( <span class="number">2</span>, <span class="number">0</span> ),</div><div class="line">            <span class="keyword">new</span> THREE.Vector2( <span class="number">10</span>, <span class="number">10</span> )</div><div class="line">        );</div><div class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">rawAlpha</span>)</span>&#123;</div><div class="line">            <span class="keyword">const</span> pt = curve.getPoint(rawAlpha);</div><div class="line">            <span class="keyword">return</span> pt.y / <span class="number">10</span>;</div><div class="line">        &#125;;</div><div class="line">    &#125;());</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// POINTS</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    scene.add( createPoints( cp_pos1, <span class="number">0xff0000</span>, POINT_COUNT) );</div><div class="line">    scene.add( createPoints( cp_pos2, <span class="number">0x00ff00</span>, POINT_COUNT, dampAlpha ) );</div><div class="line">    scene.add( createPoints( cp_pos3, <span class="number">0x0000ff</span>, POINT_COUNT, smoothAlpha ) );</div><div class="line">    scene.add( createPoints( cp_pos4, <span class="number">0x00ffff</span>, POINT_COUNT, curveAlpha ) );</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// GRID, MESH</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    scene.add( <span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>) );</div><div class="line">    <span class="keyword">const</span> mesh1 = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">        <span class="keyword">new</span> THREE.BoxGeometry(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>),</div><div class="line">        <span class="keyword">new</span> THREE.MeshNormalMaterial());</div><div class="line">    scene.add(mesh1);</div><div class="line">    <span class="keyword">const</span> mesh2 = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">        <span class="keyword">new</span> THREE.BoxGeometry(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>),</div><div class="line">        <span class="keyword">new</span> THREE.MeshNormalMaterial());</div><div class="line">    scene.add(mesh2);</div><div class="line">    <span class="keyword">const</span> mesh3 = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">        <span class="keyword">new</span> THREE.BoxGeometry(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>),</div><div class="line">        <span class="keyword">new</span> THREE.MeshNormalMaterial());</div><div class="line">    scene.add(mesh3);</div><div class="line">    <span class="keyword">const</span> mesh4 = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">        <span class="keyword">new</span> THREE.BoxGeometry(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>),</div><div class="line">        <span class="keyword">new</span> THREE.MeshNormalMaterial());</div><div class="line">    scene.add(mesh4);</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// ANIMATION LOOP</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">const</span> FPS_UPDATE = <span class="number">20</span>,    <span class="comment">// fps rate to update ( low fps for low CPU use, but choppy video )</span></div><div class="line">    FPS_MOVEMENT = <span class="number">30</span>;        <span class="comment">// fps rate to move object by that is independent of frame update rate</span></div><div class="line">    FRAME_MAX = POINT_COUNT;  <span class="comment">// MADE THE FRAME MAX THE SAME AS THE POINT COUNT</span></div><div class="line">    <span class="keyword">let</span> secs = <span class="number">0</span>,</div><div class="line">    frame = <span class="number">0</span>,</div><div class="line">    lt = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">    <span class="comment">// update</span></div><div class="line">    <span class="keyword">const</span> v_start = <span class="keyword">new</span> THREE.Vector3(<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>);</div><div class="line">    <span class="keyword">const</span> v_delta = <span class="keyword">new</span> THREE.Vector3(<span class="number">0</span>, <span class="number">0</span>, <span class="number">3</span>);</div><div class="line">    <span class="keyword">const</span> update = <span class="function"><span class="keyword">function</span>(<span class="params">frame, frameMax</span>)</span>&#123;</div><div class="line">        <span class="keyword">const</span> alpha = frame / frameMax;</div><div class="line">        <span class="keyword">const</span> b = <span class="number">1</span> - <span class="built_in">Math</span>.abs(<span class="number">0.5</span> - alpha) / <span class="number">0.5</span>;</div><div class="line">        <span class="comment">// uisng the get Point method here</span></div><div class="line">        <span class="keyword">const</span> v1 = getPoint(cp_pos1, b);</div><div class="line">        mesh1.position.copy(v1);</div><div class="line">        mesh1.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">        <span class="keyword">const</span> v2 = getPoint(cp_pos2, b, dampAlpha);</div><div class="line">        mesh2.position.copy(v2);</div><div class="line">        mesh2.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">        <span class="keyword">const</span> v3 = getPoint(cp_pos3, b, smoothAlpha);</div><div class="line">        mesh3.position.copy(v3);</div><div class="line">        mesh3.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">        <span class="keyword">const</span> v4 = getPoint(cp_pos4, b, curveAlpha);</div><div class="line">        mesh4.position.copy(v4);</div><div class="line">        mesh4.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// loop</span></div><div class="line">    <span class="keyword">const</span> loop = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">        secs = (now - lt) / <span class="number">1000</span>;</div><div class="line">        requestAnimationFrame(loop);</div><div class="line">        <span class="keyword">if</span>(secs &gt; <span class="number">1</span> / FPS_UPDATE)&#123;</div><div class="line">            <span class="comment">// update, render</span></div><div class="line">            update( <span class="built_in">Math</span>.floor(frame), FRAME_MAX);</div><div class="line">            renderer.render(scene, camera);</div><div class="line">            <span class="comment">// step frame</span></div><div class="line">            frame += FPS_MOVEMENT * secs;</div><div class="line">            frame %= FRAME_MAX;</div><div class="line">            lt = now;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    loop();</div><div class="line">&#125;());</div></pre></td></tr></table></figure>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>This Quadratic Bezier Curve class is then a great way to go about creating curves that can then be used to create lines and points for a scene. There is the idea of using this in conjunction with additional code to create a geometry that would be used with a mesh object, however my real interest with this thus far has to do with having a system for defining the position, and rotation of objects over time. While I was writing this I was also working on an updated revision of my <a href="/2022/05/12/threejs-examples-sequence-hooks/">sequence hooks module</a> that I use in just about all of my video projects. While working on it I was adding a new feature that had to do with creating paths that I then use to move objects, so curves are of interest when it comes to the use of this module.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dustinpfister.github.io/2022/10/21/threejs-curve-quadratic-bezier-curve3/" data-id="clcamt4f502at84v13tyawgs5" class="article-share-link">Share</a>
      
        <a href="https://dustinpfister.github.io/2022/10/21/threejs-curve-quadratic-bezier-curve3/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/three-js/">three.js</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2022/10/28/threejs-examples-create-path-tool/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Create Path tool threejs example
        
      </div>
    </a>
  
  
    <a href="/2022/10/14/threejs-examples-text-plane/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Text Plane Module threejs example</div>
    </a>
  
</nav>

  
</article>



<section id="comments">

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://dustinpfister.github.io/2022/10/21/threejs-curve-quadratic-bezier-curve3/index.html';
    this.page.identifier = '1010';
    this.page.title = 'Quadratic Bezier Curves in threejs';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://dustinpfister-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular/">angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/api/">api</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/backbone/">backbone</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/discovery/">discovery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/electronjs/">electronjs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/games/">games</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/grunt/">grunt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hapi/">hapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/heroku/">heroku</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jquery/">jquery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lodash/">lodash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node-js/">node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/phaser/">phaser</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/statistics/">statistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/three-js/">three.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backbone/">backbone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/corejs/">corejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deterministic/">deterministic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discovery/">discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejs/">ejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/electronjs/">electronjs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hapi/">hapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jimp/">jimp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js13k/">js13k</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/structured-data/">structured-data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/themes/">themes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three-js/">three.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JSON/" style="font-size: 12.38px;">JSON</a> <a href="/tags/SEO/" style="font-size: 10.48px;">SEO</a> <a href="/tags/angular/" style="font-size: 13.33px;">angular</a> <a href="/tags/animation/" style="font-size: 11.9px;">animation</a> <a href="/tags/automation/" style="font-size: 11.9px;">automation</a> <a href="/tags/backbone/" style="font-size: 12.38px;">backbone</a> <a href="/tags/blog/" style="font-size: 15.24px;">blog</a> <a href="/tags/canvas/" style="font-size: 18.57px;">canvas</a> <a href="/tags/corejs/" style="font-size: 12.86px;">corejs</a> <a href="/tags/deterministic/" style="font-size: 10px;">deterministic</a> <a href="/tags/discovery/" style="font-size: 10.95px;">discovery</a> <a href="/tags/ejs/" style="font-size: 11.43px;">ejs</a> <a href="/tags/electronjs/" style="font-size: 13.81px;">electronjs</a> <a href="/tags/express/" style="font-size: 16.67px;">express</a> <a href="/tags/games/" style="font-size: 17.14px;">games</a> <a href="/tags/git/" style="font-size: 12.86px;">git</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hapi/" style="font-size: 15.24px;">hapi</a> <a href="/tags/heroku/" style="font-size: 11.9px;">heroku</a> <a href="/tags/hexo/" style="font-size: 14.76px;">hexo</a> <a href="/tags/jimp/" style="font-size: 10.48px;">jimp</a> <a href="/tags/jquery/" style="font-size: 11.43px;">jquery</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/js13k/" style="font-size: 10px;">js13k</a> <a href="/tags/linux/" style="font-size: 17.62px;">linux</a> <a href="/tags/lodash/" style="font-size: 18.57px;">lodash</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mongodb/" style="font-size: 14.76px;">mongodb</a> <a href="/tags/node-js/" style="font-size: 19.52px;">node.js</a> <a href="/tags/phaser/" style="font-size: 18.1px;">phaser</a> <a href="/tags/python/" style="font-size: 15.71px;">python</a> <a href="/tags/statistics/" style="font-size: 14.29px;">statistics</a> <a href="/tags/structured-data/" style="font-size: 10px;">structured-data</a> <a href="/tags/themes/" style="font-size: 10px;">themes</a> <a href="/tags/three-js/" style="font-size: 19.05px;">three.js</a> <a href="/tags/vuejs/" style="font-size: 16.19px;">vuejs</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/12/29/threejs-phong-material/">The Phong material in three.js</a>
          </li>
        
          <li>
            <a href="/2022/12/23/threejs-examples-count-down/">A Timer video javaScript module threejs example</a>
          </li>
        
          <li>
            <a href="/2022/12/16/threejs-curve-geometry-from/">Using the curve class to create geometry in threejs</a>
          </li>
        
          <li>
            <a href="/2022/12/09/threejs-buffer-geometry-index/">Indexed Buffer Geometry in threejs</a>
          </li>
        
          <li>
            <a href="/2022/12/02/threejs-tetrahedron/">Pyramid AKA Tetrahedron Geometry in threejs.</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 Dustin Pfister<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      <br>
      <a href="/privacy.html" target="_blank">Privacy Policy</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/2021/02/19/threejs-examples/" class="mobile-nav-link">ThreeJS</a>
  
    <a href="/2020/03/23/canvas-example/" class="mobile-nav-link">Canvas</a>
  
    <a href="https://www.youtube.com/user/javaweaver" class="mobile-nav-link">Youtube</a>
  
    <a href="https://github.com/dustinpfister" class="mobile-nav-link">Github</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'dustinpfister-github-io';
  
  var disqus_url = 'https://dustinpfister.github.io/2022/10/21/threejs-curve-quadratic-bezier-curve3/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


  </div>
</body>
</html>