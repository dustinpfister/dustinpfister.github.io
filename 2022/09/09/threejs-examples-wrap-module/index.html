<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <!-- disqus image-->
  <meta property="og:image" content="https://dustinpfister.github.io/css/images/banner.jpg">
  
  <title>threejs wrap module example for wrapping rather than clamping values | Dustin John Pfister at github pages</title>
  
  <!-- no index tag or blank here -->
  
  
  <link rel="canonical" href="https://dustinpfister.github.io/2022/09/09/threejs-examples-wrap-module/" />

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="The vector3 class in threejs has a clamp method that will clamp a vector3 instance to a given min and max vector range that forms a box area of sorts. On top of this clamp method there is also a clamp">
<meta property="og:type" content="article">
<meta property="og:title" content="threejs wrap module example for wrapping rather than clamping values">
<meta property="og:url" content="https://dustinpfister.github.io/2022/09/09/threejs-examples-wrap-module/index.html">
<meta property="og:site_name" content="Dustin John Pfister at github pages">
<meta property="og:description" content="The vector3 class in threejs has a clamp method that will clamp a vector3 instance to a given min and max vector range that forms a box area of sorts. On top of this clamp method there is also a clamp">
<meta property="og:updated_time" content="2022-09-09T19:44:35.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="threejs wrap module example for wrapping rather than clamping values">
<meta name="twitter:description" content="The vector3 class in threejs has a clamp method that will clamp a vector3 instance to a given min and max vector range that forms a box area of sorts. On top of this clamp method there is also a clamp">
  
    <link rel="alternate" href="/atom.xml" title="Dustin John Pfister at github pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <!-- Google Analytics -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y8XLNG6JRW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Y8XLNG6JRW');
</script>
<!-- End Google Analytics -->


  <!-- structured data set in structured-data.ejs -->
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "email": "distin.pfister@gmail.com",
    "givenName": "Dustin",
    "familyName" : "Pfister",
    "additionalName": "John",
    "name": "Dustin John Pfister",
    "gender": "Male"
}
</script>
<!-- end structured data -->
  
  <!-- adsense if indexed -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1658284027672315",
    enable_page_level_ads: true
  });
  </script>
  
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <!-- added the image, as well as the link to my youtube -->
        <a href="https://www.youtube.com/user/javaweaver"><div class="selfimage"></div></a>
        <!--<a href="/" id="logo">Dustin John Pfister at github pages</a>-->
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/2021/02/19/threejs-examples/">ThreeJS</a>
        
          <a class="main-nav-link" href="/2020/03/23/canvas-example/">Canvas</a>
        
          <a class="main-nav-link" href="https://www.youtube.com/user/javaweaver">Youtube</a>
        
          <a class="main-nav-link" href="https://github.com/dustinpfister">Github</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <!-- removed rss link-->
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dustinpfister.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article itemscope itemtype="http://schema.org/Blog" id="post-threejs-examples-wrap-module" class="article article-type-post" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/09/09/threejs-examples-wrap-module/" class="article-date"> Published:
  <time datetime="2022-09-09T13:21:00.000Z" itemprop="datePublished">2022-09-09</time>
</a>

    <!-- other info (dustin) -->
    <a href="/2022/09/09/threejs-examples-wrap-module/" class="article-date"> Modified:
  <time datetime="2022-09-09T19:44:35.000Z" itemprop="dateModified">2022-09-09</time>
</a>

    <span class="article-date">V1.13</span>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/three-js/">three.js</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      threejs wrap module example for wrapping rather than clamping values
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="text">
      
        <p>The <a href="/2018/04/15/threejs-vector3/">vector3 class</a> in <a href="https://threejs.org/docs/index.html#manual/en/introduction/Creating-a-scene" target="_blank" rel="external">threejs</a> has a <a href="/2021/06/16/threejs-vector3-clamp/">clamp method</a> that will clamp a vector3 instance to a given min and max vector range that forms a box area of sorts. On top of this clamp method there is also a clamp length method that will do the same as the clamp method only with respect to the vectors unit length so it will clamp the vector to a sphere like area. In addition to that of the clamp methods in the vector3 class there is also a clamp method in the Math Utils object as well, but I am not seeing any wrap methods in the Vector3 class.</p>
<p>There are two general ways of going about treating boundaries one of which is to clamp them so that it is just not possible to continue out of a desired bounds, the other way though is to wrap them so that the value wraps around to an opposite side. I have <a href="/2022/09/02/threejs-vector3-wrap/">wrote a post on the wrapping of the Vector3 class recently</a>, but I thought that I should continue with this and make a more refined wrap module as a <a href="/2021/02/19/threejs-examples/">threejs example project</a> which is what this post is about.</p>
<p>There are a lot of features that come to mind when it comes to wrapping values in threejs beyond just having a simple wrap value method that works well. There is having a method that will wrap a Vector to a box like area, but I would also like to have a method that is the wrap equivalent of that clamp length method as well. There are a whole lot of other classes beyond that of the vector3 class so I would like to have wrap methods that also work well with the <a href="/2021/04/28/threejs-euler/">Euler class</a> that is the go to class for angles rather than vectors. Also there are many projects in which this wrap method, or similar methods for wrapping would be useful such as with my <a href="/2022/05/20/threejs-examples-object-grid-wrap/">object grid wrap project</a>.</p>
<a id="more"></a>
<iframe class="youtube_video" src="https://www.youtube.com/embed/7SMoZTwDAPY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>


<h2 id="Wrapping-values-in-threejs-and-what-to-be-aware-of-first"><a href="#Wrapping-values-in-threejs-and-what-to-be-aware-of-first" class="headerlink" title="Wrapping values in threejs and what to be aware of first"></a>Wrapping values in threejs and what to be aware of first</h2><p>This is a post in which I am writing about a module that has to do with wrapping number values as well as the values of various classes in the javaScript library known as threejs. In core javascript there is the modulo operator, but this operator will not work as expected in all cases which gives rise for a interest in other additional methods of doing so such as <a href="https://en.wikipedia.org/wiki/Modulo_operation#Variants_of_the_definition" target="_blank" rel="external">mathematical or euclidean modulo</a>. having the right modulo method is one thing about this wrapping of values in javaScript, but there is also a lot that one should know about threejs in general as well before hand. Simply put this is not a <a href="/2018/11/27/js-getting-started/">getting started with javaScript</a> type post, and with that also any additional javaScript libraries written in javaScript such as therejs. I will not be getting into detail about every little feature that you should know before hand then, but I do use this first section to being up a few things at least.</p>
<h3 id="The-deal-with-modulo-in-javaScript"><a href="#The-deal-with-modulo-in-javaScript" class="headerlink" title="The deal with modulo in javaScript"></a>The deal with modulo in javaScript</h3><p>The <a href="/2017/09/02/js-whats-wrong-with-modulo/">modulo operator in core javaScript</a> will work fine in most cases except for some cases in which it will not. The deal is that the built in javaScript modulo operator is not really broken it is just that there is more than one kind of modulo operator when it comes to how negative number should be handled. This is what in some cases a special kind of modulo operator must be used that works differently compared to that of the built in operator in javaScript. There are a lot of libraries that will have this kind of method built in and threejs is once such library.</p>
<h3 id="The-math-utils-object-in-threejs"><a href="#The-math-utils-object-in-threejs" class="headerlink" title="The math utils object in threejs"></a>The math utils object in threejs</h3><p>Speaking of the modulo operator and alternative ways of doing so, the <a href="/2022/04/11/threejs-math-utils/">math utils object is where one will find the  euclidean modulo method</a> that works great with negative numbers. This will work fine but it is still a method that will take just two arguments as it works like that of an operator that will also only work with two values. So then one will still need to adjust for this some how if that is what is to be used to wrap. In this module I worked out yet another way to wrap values but the expression used to do so is similar to that of many of these modulo methods I am seeing on the open web.</p>
<h3 id="Source-is-up-on-Github"><a href="#Source-is-up-on-Github" class="headerlink" title="Source is up on Github"></a>Source is up on Github</h3><p>The source code that I am writing about here can be found in my <a href="https://github.com/dustinpfister/test_threejs/tree/master/views/forpost/threejs-examples-wrap-module" target="_blank" rel="external">test threejs repository on Github</a>. This is where I also park the source code for my <a href="/categories/three-js/">many other posts on threejs</a> project examples, as well as the various features of threejs alone.</p>
<h3 id="Version-numbers-matter"><a href="#Version-numbers-matter" class="headerlink" title="Version numbers matter"></a>Version numbers matter</h3><p>When I first wrote this post I was using r140 of threejs.</p>
<h2 id="1-The-first-version-of-threejs-wrap-js-r0-and-some-demos-of-the-features-thus-far"><a href="#1-The-first-version-of-threejs-wrap-js-r0-and-some-demos-of-the-features-thus-far" class="headerlink" title="1 - The first version of threejs-wrap.js ( r0 ), and some demos of the features thus far"></a>1 - The first version of threejs-wrap.js ( r0 ), and some demos of the features thus far</h2><p>In this section I will be going over the state of the source code of the first version of this threejs wrap module, and of course I need to have at least a few demos of it as well. The module follows the  usual IIFE pattern for making a javaScript module that I can then use elsewhere with mu various front end javaScript. The public API is a plain old javaScript object with a bunch of public methods attached to it that will do things like wrap number values as well as various classes such as a Vector3 class.</p>
<p>The first and foremost method in the module that I am making public is the wrap method which is more of less the same compared to a method that I worked out in my blog post on this subject. In that post the focus was more about figuring out how to go about making a simple warp value method that will work well in all cases including negative numbers. In this post I am just going with one method that I worked out that seems to function well that was based off of a <a href="/2018/07/22/phaser-math-wrap-and-clamp/">wrap method I found in a popular javaScript game framework called Phaser</a>. So then for this module I am focusing more on what I can do with a wrap method when applying this to the use of the threejs library.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* threejs-wrap.js - r0 - A THREEJS Wrap Module</span></div><div class="line"> *     for the post: https://dustinpfister.github.io/2022/09/09/threejs-examples-wrap-module/</div><div class="line"> */</div><div class="line"><span class="keyword">const</span> wrapMod = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">// public API</span></div><div class="line">    <span class="keyword">const</span> api = &#123;&#125;;</div><div class="line">    <span class="comment">// Wrap method based off of the method from Phaser3 </span></div><div class="line">    <span class="comment">// ( https://github.com/photonstorm/phaser/blob/v3.55.2/src/math/Wrap.js )</span></div><div class="line">    <span class="comment">// * Added some code for case: Wrap(0, 0, 0)</span></div><div class="line">    <span class="comment">// * Using Math.min and Math.max so that Wrap(value, 2, 10) is same as Wrap(value, 10, 2)</span></div><div class="line">    <span class="comment">//</span></div><div class="line">    <span class="keyword">const</span> wrap = api.wrap = <span class="function"><span class="keyword">function</span> (<span class="params">value, a, b</span>)</span>&#123;</div><div class="line">        <span class="comment">// get min and max this way</span></div><div class="line">        <span class="keyword">let</span> max = <span class="built_in">Math</span>.max(a, b);</div><div class="line">        <span class="keyword">let</span> min = <span class="built_in">Math</span>.min(a, b);</div><div class="line">        <span class="comment">// return 0 for Wrap(value, 0, 0);</span></div><div class="line">        <span class="keyword">if</span>(max === <span class="number">0</span> &amp;&amp; min === <span class="number">0</span>)&#123;</div><div class="line">             <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">let</span> range = max - min;</div><div class="line">        <span class="keyword">return</span> (min + ((((value - min) % range) + range) % range));</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// wrap an axis</span></div><div class="line">    <span class="keyword">const</span> wrapAxis = <span class="function"><span class="keyword">function</span>(<span class="params">vec, vecMin, vecMax, axis</span>)</span>&#123;</div><div class="line">        axis = axis || <span class="string">'x'</span>;</div><div class="line">        vec[axis] = wrap( vec[axis], vecMin[axis], vecMax[axis] );</div><div class="line">        <span class="keyword">return</span> vec;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// Wrap a vector method of public api</span></div><div class="line">    api.wrapVector = <span class="function"><span class="keyword">function</span> (<span class="params">vec, vecMin, vecMax</span>) </span>&#123;</div><div class="line">        vecMin = vecMin || <span class="keyword">new</span> THREE.Vector3(<span class="number">-1</span>, <span class="number">-1</span>, <span class="number">-1</span>);</div><div class="line">        vecMax = vecMax || <span class="keyword">new</span> THREE.Vector3(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>);</div><div class="line">        <span class="built_in">Object</span>.keys(vec).forEach(<span class="function"><span class="keyword">function</span>(<span class="params">axis</span>)</span>&#123;</div><div class="line">            wrapAxis(vec, vecMin, vecMax, axis);</div><div class="line">        &#125;);</div><div class="line">        <span class="keyword">return</span> vec;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// wrap a vector by unit length</span></div><div class="line">    api.wrapVectorLength = <span class="function"><span class="keyword">function</span> (<span class="params">vec, minLength, maxLength</span>) </span>&#123;</div><div class="line">        minLength = minLength === <span class="literal">undefined</span> ? <span class="number">0</span> : minLength;</div><div class="line">        maxLength = maxLength === <span class="literal">undefined</span> ? <span class="number">0</span> : maxLength;</div><div class="line">        <span class="keyword">let</span> len = wrap(vec.length(), minLength, maxLength);</div><div class="line">        vec.normalize().multiplyScalar(len);</div><div class="line">        <span class="keyword">return</span> vec;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// wrap a Euler</span></div><div class="line">    <span class="comment">// Wrap a vector method of public api</span></div><div class="line">    <span class="keyword">const</span> PI2 = <span class="built_in">Math</span>.PI * <span class="number">2</span>;</div><div class="line">    api.wrapEuler = <span class="function"><span class="keyword">function</span> (<span class="params">eu, euMin, euMax</span>) </span>&#123;</div><div class="line">        euMin = euMin || <span class="keyword">new</span> THREE.Euler(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">        euMax = euMax || <span class="keyword">new</span> THREE.Euler(PI2, PI2, PI2);</div><div class="line">        eu.x = wrap(eu.x, euMin.x, euMax.x);</div><div class="line">        eu.y = wrap(eu.y, euMin.y, euMax.y);</div><div class="line">        eu.z = wrap(eu.z, euMin.z, euMax.z);</div><div class="line">        <span class="keyword">return</span> eu;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// return api</span></div><div class="line">    <span class="keyword">return</span> api;</div><div class="line">&#125;());</div></pre></td></tr></table></figure>
<p>On top of the wrap method that will work well when I just want to wrap a number primitive there are also wrap vector, wrap vector length, and wrap Euler methods. I have a lot of ideas for additional methods that I might want to add on top of this, but many of these ideas should be added in any and all future revisions of the module if it comes to that. For now I think that these methods alone are what I want to have at the ready.</p>
<h3 id="1-1-Wrap-Method-demo"><a href="#1-1-Wrap-Method-demo" class="headerlink" title="1.1 - Wrap Method demo"></a>1.1 - Wrap Method demo</h3><p>The first public method that I might want to test out is the plain wrap number method. I am sure that there will end up being all kinds of little cases here and there where I will want to use a wrap method for some number value somewhere. Now just with threejs features, but also when working out some more additional code of my own of course. So then in this demo I am just using the wrap method of the module to wrap the x value of the position of a mesh object that I am updating over time.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">var</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">    scene.add(<span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>));</div><div class="line">    <span class="keyword">var</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">4</span> / <span class="number">3</span>, <span class="number">.5</span>, <span class="number">1000</span>);</div><div class="line">    camera.position.set(<span class="number">8</span>, <span class="number">8</span>, <span class="number">8</span>);</div><div class="line">    camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">    <span class="keyword">var</span> renderer = <span class="keyword">new</span> THREE.WebGLRenderer();</div><div class="line">    renderer.setSize(<span class="number">640</span>, <span class="number">480</span>);</div><div class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>).appendChild(renderer.domElement);</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// MESH</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">var</span> mesh1 = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">            <span class="keyword">new</span> THREE.BoxGeometry(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>),</div><div class="line">            <span class="keyword">new</span> THREE.MeshNormalMaterial());</div><div class="line">    scene.add(mesh1);</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// LOOP</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">var</span> x =<span class="number">0</span>,</div><div class="line">    unitsPerSec = <span class="number">2</span>,</div><div class="line">    fps = <span class="number">20</span>,</div><div class="line">    lt = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">    <span class="keyword">var</span> loop = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">        secs = (now - lt) / <span class="number">1000</span>;</div><div class="line">        requestAnimationFrame(loop);</div><div class="line">        <span class="keyword">if</span> (secs &gt; <span class="number">1</span> / fps) &#123;</div><div class="line">            x += unitsPerSec * secs;</div><div class="line">            <span class="comment">// USING THRE wrapMod.wrap METHOD WITH A VALUE</span></div><div class="line">            x = wrapMod.wrap(x, <span class="number">-4.5</span>, <span class="number">4.5</span>);</div><div class="line">            mesh1.position.x = x;</div><div class="line">            </div><div class="line">            renderer.render(scene, camera);</div><div class="line">            lt = now;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    loop();</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// CONTROLS</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">let</span> controls = <span class="keyword">new</span> THREE.OrbitControls(camera, renderer.domElement)</div><div class="line">&#125;</div><div class="line">    ());</div></pre></td></tr></table></figure>
<h3 id="1-2-Wrap-Euler-method-demo"><a href="#1-2-Wrap-Euler-method-demo" class="headerlink" title="1.2 - Wrap Euler method demo"></a>1.2 - Wrap Euler method demo</h3><p>So is I just want to have a wrap method the one that I am using in this module seems to work well. However chances are that I am going to want to also have a number of methods that I can use to wrap not just a number but a class instance in threejs such as a Euler class instance. By default I will just want for it to make sure that the values for each axis stay in the range of zero to PI times 2, however I will of course also want it to work well with ranges that might include negative numbers. </p>
<p>In this demo I have a mesh that uses the cone geometry and I am rotating the mesh over time. When doing so I am using my wrap Euler method to keep the rotation of the mesh wrapped to a given range for the y axis.</p>
<p>Also while working on this example I wanted to make a get alpha method that will work like the wrap method but give me an alpha value in the range of 0 to 1 that I can then use to set things like opacity. The helper method that I worked out for this seems to work well thus far for this kind of task and as such I might include it in future revisions of this module.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">    scene.add(<span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>));</div><div class="line">    <span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">4</span> / <span class="number">3</span>, <span class="number">.5</span>, <span class="number">1000</span>);</div><div class="line">    camera.position.set(<span class="number">8</span>, <span class="number">8</span>, <span class="number">8</span>);</div><div class="line">    camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">    <span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGLRenderer();</div><div class="line">    renderer.setSize(<span class="number">640</span>, <span class="number">480</span>);</div><div class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>).appendChild(renderer.domElement);</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// HELPERS</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// make a cone with the geometry adjusted so that it points to x+ by default</span></div><div class="line">    <span class="keyword">const</span> makeCone = <span class="function">(<span class="params">len, radius</span>) =&gt;</span> &#123;</div><div class="line">        len = len === <span class="literal">undefined</span> ? <span class="number">3</span> : len;</div><div class="line">        radius = radius === <span class="literal">undefined</span> ? <span class="number">0.5</span> : radius;</div><div class="line">        <span class="keyword">const</span> mesh = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">            <span class="keyword">new</span> THREE.ConeGeometry(radius, len, <span class="number">20</span>, <span class="number">20</span>),</div><div class="line">            <span class="keyword">new</span> THREE.MeshNormalMaterial(&#123;</div><div class="line">                <span class="attr">transparent</span>: <span class="literal">true</span>,</div><div class="line">                <span class="attr">opacity</span>: <span class="number">0.5</span></div><div class="line">            &#125;));</div><div class="line">        mesh.geometry.rotateX( <span class="built_in">Math</span>.PI * <span class="number">0.5</span> );</div><div class="line">        mesh.geometry.rotateY( <span class="built_in">Math</span>.PI * <span class="number">0.5</span> );</div><div class="line">        <span class="keyword">return</span> mesh;</div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">const</span> getAlpha = <span class="function">(<span class="params">value, vMin, vMax</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> range = <span class="built_in">Math</span>.abs(vMax - vMin);</div><div class="line">        <span class="comment">// is min &gt;= 0 ?</span></div><div class="line">        <span class="keyword">if</span>(vMin &gt;= <span class="number">0</span>)&#123;</div><div class="line">            <span class="comment">//return wrapMod.wrap(value, vMin, vMax) / range;</span></div><div class="line">        &#125;</div><div class="line">        <span class="comment">// vMax is also less than 0</span></div><div class="line">        <span class="keyword">if</span>(vMax &lt; <span class="number">0</span>)&#123;</div><div class="line">            <span class="comment">//return ( wrapMod.wrap( value, vMin, vMax ) + Math.abs( vMin ) ) / range;</span></div><div class="line">        &#125;</div><div class="line">        <span class="comment">// vMax is 0 or higher ( also looks like I might have a one liner here )</span></div><div class="line">        <span class="keyword">return</span> <span class="built_in">Math</span>.abs( vMin - wrapMod.wrap(value, vMin, vMax) ) / range;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// TESTING OUT getAlpha HELPER ( seems to work okay for these and demo )</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="built_in">console</span>.log( getAlpha( <span class="number">6</span>, <span class="number">0</span>, <span class="number">10</span> ) );       <span class="comment">// 0.6</span></div><div class="line">    <span class="built_in">console</span>.log( getAlpha( <span class="number">-14</span>, <span class="number">-20</span>, <span class="number">-10</span> ) );  <span class="comment">// 0.6</span></div><div class="line">    <span class="built_in">console</span>.log( getAlpha( <span class="number">2</span>, <span class="number">-10</span>, <span class="number">10</span> ) );     <span class="comment">// 0.6</span></div><div class="line">    <span class="built_in">console</span>.log( getAlpha( <span class="number">-1.4</span>, <span class="number">-5</span>, <span class="number">1</span> ) );    <span class="comment">// 0.6</span></div><div class="line">    <span class="built_in">console</span>.log( getAlpha( <span class="number">2</span>, <span class="number">-1</span>, <span class="number">5</span>) ); <span class="comment">// 0.5</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// MESH</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">const</span> mesh1 = makeCone(<span class="number">7</span>, <span class="number">2</span>);</div><div class="line">    scene.add(mesh1);</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// LOOP</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">let</span> pi2 = <span class="built_in">Math</span>.PI * <span class="number">2</span>,</div><div class="line">    eMin = <span class="keyword">new</span> THREE.Euler(<span class="number">0</span>, pi2 * <span class="number">0.5</span> * <span class="number">-1</span>, <span class="number">0</span>),</div><div class="line">    eMax = <span class="keyword">new</span> THREE.Euler(pi2, pi2 * <span class="number">0.25</span>, pi2),</div><div class="line">    degPerSec = <span class="number">20</span>,</div><div class="line">    fps = <span class="number">20</span>,</div><div class="line">    lt = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">    <span class="keyword">const</span> loop = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">let</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">        secs = (now - lt) / <span class="number">1000</span>;</div><div class="line">        requestAnimationFrame(loop);</div><div class="line">        <span class="keyword">if</span> (secs &gt; <span class="number">1</span> / fps) &#123;</div><div class="line">            <span class="comment">// updating and wraping the Euler in as mesh rotation property</span></div><div class="line">            mesh1.rotation.y += <span class="built_in">Math</span>.PI / <span class="number">180</span> * degPerSec * secs;</div><div class="line">            wrapMod.wrapEuler(mesh1.rotation, eMin, eMax);</div><div class="line">            mesh1.material.opacity = <span class="number">1</span> - <span class="built_in">Math</span>.abs( <span class="number">0.5</span> - getAlpha(mesh1.rotation.y, eMin.y, eMax.y) ) / <span class="number">0.5</span>;</div><div class="line">            renderer.render(scene, camera);</div><div class="line">            lt = now;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    loop();</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// CONTROLS</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">let</span> controls = <span class="keyword">new</span> THREE.OrbitControls(camera, renderer.domElement)</div><div class="line">&#125;</div><div class="line">    ());</div></pre></td></tr></table></figure>
<h3 id="1-3-Wrap-Vector-method-demo"><a href="#1-3-Wrap-Vector-method-demo" class="headerlink" title="1.3 - Wrap Vector method demo"></a>1.3 - Wrap Vector method demo</h3><p>Most of the time I will like to wrap a vector to a box like area that I can define by using two additional instances of Vector3 that are use to set the min and max values for vectors. In other words a wrap style method of the vector3 clamp method which I am demoing in this example here.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">var</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">    scene.add(<span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>));</div><div class="line">    <span class="keyword">var</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">4</span> / <span class="number">3</span>, <span class="number">.5</span>, <span class="number">1000</span>);</div><div class="line">    camera.position.set(<span class="number">8</span>, <span class="number">8</span>, <span class="number">8</span>);</div><div class="line">    camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">    <span class="keyword">var</span> renderer = <span class="keyword">new</span> THREE.WebGLRenderer();</div><div class="line">    renderer.setSize(<span class="number">640</span>, <span class="number">480</span>);</div><div class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>).appendChild(renderer.domElement);</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// MESH</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">var</span> mesh1 = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">            <span class="keyword">new</span> THREE.BoxGeometry(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>),</div><div class="line">            <span class="keyword">new</span> THREE.MeshNormalMaterial());</div><div class="line">    scene.add(mesh1);</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// LOOP</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">var</span> dir = <span class="keyword">new</span> THREE.Euler(<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>),</div><div class="line">    unitsPerSec = <span class="number">2</span>,</div><div class="line">    vecMin = <span class="keyword">new</span> THREE.Vector3(<span class="number">-4.5</span>,<span class="number">-4.5</span>,<span class="number">-4.5</span>),</div><div class="line">    vecMax = <span class="keyword">new</span> THREE.Vector3(<span class="number">4.5</span>,<span class="number">4.5</span>,<span class="number">4.5</span>),</div><div class="line">    fps = <span class="number">20</span>,</div><div class="line">    lt = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">    <span class="keyword">var</span> loop = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">        secs = (now - lt) / <span class="number">1000</span>;</div><div class="line">        requestAnimationFrame(loop);</div><div class="line">        <span class="keyword">if</span> (secs &gt; <span class="number">1</span> / fps) &#123;</div><div class="line">            <span class="comment">// update dir</span></div><div class="line">            dir.x += <span class="built_in">Math</span>.PI / <span class="number">180</span> * <span class="number">5</span> * secs;</div><div class="line">            dir.y += <span class="built_in">Math</span>.PI / <span class="number">180</span> * <span class="number">45</span> * secs;</div><div class="line">            wrapMod.wrapEuler(dir);</div><div class="line">            <span class="comment">// figure delta</span></div><div class="line">            <span class="keyword">let</span> delta = <span class="keyword">new</span> THREE.Vector3(<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>);</div><div class="line">            delta = delta.applyEuler(dir).normalize().multiplyScalar(unitsPerSec * secs);</div><div class="line">            <span class="comment">// USING wrapMod main method to wrap mesh1.position</span></div><div class="line">            mesh1.position.add(delta);</div><div class="line">            wrapMod.wrapVector(mesh1.position, vecMin, vecMax);</div><div class="line">            mesh1.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">            <span class="comment">// render</span></div><div class="line">            renderer.render(scene, camera);</div><div class="line">            lt = now;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    loop();</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// CONTROLS</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">let</span> controls = <span class="keyword">new</span> THREE.OrbitControls(camera, renderer.domElement)</div><div class="line">&#125;</div><div class="line">    ());</div></pre></td></tr></table></figure>
<h3 id="1-4-Wrap-Vector-Length-demo"><a href="#1-4-Wrap-Vector-Length-demo" class="headerlink" title="1.4 - Wrap Vector Length demo"></a>1.4 - Wrap Vector Length demo</h3><p>The subject of vector unit length is a major part of that the vector3 class is all about. A Vector is after all a state of direction and magnitude, or length if you prefer. So then any Vector can have a certain direction and the length can be adjusted while not doing anything with the direction which will result in a Vector moving directly outward, or in the direction of the origin. In the vector3 class there is a clamp length method that can be used to clamp the length of the vector, and for this module I made a wrap vector length method that does the same thing only by wrapping rather than clamping.</p>
<p>So then with the wrap vector length method when the length of the vector reaches the max value the vector length will wrap back around to the beginning rather than just stopping at the end.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">var</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">    scene.add(<span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>));</div><div class="line">    <span class="keyword">var</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">4</span> / <span class="number">3</span>, <span class="number">.5</span>, <span class="number">1000</span>);</div><div class="line">    camera.position.set(<span class="number">8</span>, <span class="number">8</span>, <span class="number">8</span>);</div><div class="line">    camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">    <span class="keyword">var</span> renderer = <span class="keyword">new</span> THREE.WebGLRenderer();</div><div class="line">    renderer.setSize(<span class="number">640</span>, <span class="number">480</span>);</div><div class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>).appendChild(renderer.domElement);</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// MESH</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">var</span> mesh1 = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">            <span class="keyword">new</span> THREE.BoxGeometry(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>),</div><div class="line">            <span class="keyword">new</span> THREE.MeshNormalMaterial());</div><div class="line">    scene.add(mesh1);</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// LOOP</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">var</span> dir = <span class="keyword">new</span> THREE.Euler(<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>),</div><div class="line">    unitsPerSec = <span class="number">4</span>,</div><div class="line">    vecMin = <span class="keyword">new</span> THREE.Vector3(<span class="number">-4.5</span>,<span class="number">-4.5</span>,<span class="number">-4.5</span>),</div><div class="line">    vecMax = <span class="keyword">new</span> THREE.Vector3(<span class="number">4.5</span>,<span class="number">4.5</span>,<span class="number">4.5</span>),</div><div class="line">    fps = <span class="number">20</span>,</div><div class="line">    lt = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">    <span class="keyword">var</span> loop = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">        secs = (now - lt) / <span class="number">1000</span>;</div><div class="line">        requestAnimationFrame(loop);</div><div class="line">        <span class="keyword">if</span> (secs &gt; <span class="number">1</span> / fps) &#123;</div><div class="line">            <span class="comment">// update dir</span></div><div class="line">            dir.y += <span class="built_in">Math</span>.PI / <span class="number">180</span> * <span class="number">40</span> * secs;</div><div class="line">            wrapMod.wrapEuler(dir);</div><div class="line">            <span class="comment">// figure delta</span></div><div class="line">            <span class="keyword">let</span> delta = <span class="keyword">new</span> THREE.Vector3(<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>);</div><div class="line">            delta = delta.applyEuler(dir).normalize().multiplyScalar(unitsPerSec * secs);</div><div class="line">            <span class="comment">// USING wrapMod main method to wrap mesh1.position</span></div><div class="line">            mesh1.position.add(delta);</div><div class="line">            wrapMod.wrapVectorLength(mesh1.position, <span class="number">2.5</span>, <span class="number">4.5</span>);</div><div class="line">            mesh1.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">            <span class="comment">// render</span></div><div class="line">            renderer.render(scene, camera);</div><div class="line">            lt = now;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    loop();</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// CONTROLS</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">let</span> controls = <span class="keyword">new</span> THREE.OrbitControls(camera, renderer.domElement)</div><div class="line">&#125;</div><div class="line">    ());</div></pre></td></tr></table></figure>
<h3 id="1-5-Art-example-for-the-video"><a href="#1-5-Art-example-for-the-video" class="headerlink" title="1.5 - Art example for the video"></a>1.5 - Art example for the video</h3><p>As of late I have got into the habit of making at least one if not more art examples that will be the demo that I will be using in the video that I make for a post. Often I will make a whole other project outside of what I write about in the post for this sort of thing but from now on I think I should make it another demo and write about it in the blog post.</p>
<p>For this demo I am show casing for the most part all of the features of the wrap module thus far. I have two groups of mesh objects one of which is being wrapped using the wrap vector method, and the other with the wrap vector length method, I then also have a cone that is making use of the wrap Euler method.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">var</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">    scene.add(<span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>));</div><div class="line">    <span class="keyword">var</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">4</span> / <span class="number">3</span>, <span class="number">.5</span>, <span class="number">1000</span>);</div><div class="line">    camera.position.set(<span class="number">10</span>, <span class="number">10</span>, <span class="number">-10</span>);</div><div class="line">    camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">    <span class="keyword">var</span> renderer = <span class="keyword">new</span> THREE.WebGLRenderer();</div><div class="line">    renderer.setSize(<span class="number">640</span>, <span class="number">480</span>);</div><div class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>).appendChild(renderer.domElement);</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// LIGHT</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">const</span> dl = <span class="keyword">new</span> THREE.DirectionalLight(<span class="number">0xffffff</span>, <span class="number">1</span>);</div><div class="line">    dl.position.set(<span class="number">1</span>,<span class="number">10</span>,<span class="number">3</span>);</div><div class="line">    scene.add(dl);</div><div class="line">    <span class="keyword">const</span> al = <span class="keyword">new</span> THREE.AmbientLight(<span class="number">0xffffff</span>, <span class="number">0.2</span>);</div><div class="line">    scene.add(al);</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// HELPERS</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// make a cone with the geometry adjusted so that it points to x+ by default</span></div><div class="line">    <span class="keyword">const</span> makeCone = <span class="function">(<span class="params">len, radius, color</span>) =&gt;</span> &#123;</div><div class="line">        len = len === <span class="literal">undefined</span> ? <span class="number">3</span> : len;</div><div class="line">        radius = radius === <span class="literal">undefined</span> ? <span class="number">0.5</span> : radius;</div><div class="line">        color = color || <span class="keyword">new</span> THREE.Color(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>);</div><div class="line">        <span class="keyword">const</span> mesh = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">            <span class="keyword">new</span> THREE.ConeGeometry(radius, len, <span class="number">20</span>, <span class="number">20</span>),</div><div class="line">            <span class="keyword">new</span> THREE.MeshPhongMaterial(&#123;</div><div class="line">                <span class="attr">color</span>: color,</div><div class="line">                <span class="attr">transparent</span>: <span class="literal">true</span>,</div><div class="line">                <span class="attr">opacity</span>: <span class="number">0.8</span></div><div class="line">            &#125;));</div><div class="line">        mesh.geometry.rotateX( <span class="built_in">Math</span>.PI * <span class="number">0.5</span> );</div><div class="line">        mesh.geometry.rotateY( <span class="built_in">Math</span>.PI * <span class="number">0.5</span> );</div><div class="line">        <span class="keyword">return</span> mesh;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// make a cube</span></div><div class="line">    <span class="keyword">const</span> makeCube = <span class="function">(<span class="params">size, color</span>) =&gt;</span> &#123;</div><div class="line">        size = size === <span class="literal">undefined</span> ? <span class="number">1</span> : size;</div><div class="line">        color = color || <span class="keyword">new</span> THREE.Color(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>);</div><div class="line">        <span class="keyword">const</span> mesh = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">            <span class="keyword">new</span> THREE.BoxGeometry(size, size, size),</div><div class="line">            <span class="keyword">new</span> THREE.MeshPhongMaterial(&#123;</div><div class="line">                <span class="attr">color</span>: color,</div><div class="line">                <span class="attr">transparent</span>: <span class="literal">true</span>,</div><div class="line">                <span class="attr">opacity</span>: <span class="number">0.8</span></div><div class="line">            &#125;));</div><div class="line">        <span class="keyword">return</span> mesh;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// get an alpha value for a wrap</span></div><div class="line">    <span class="keyword">const</span> getWrapAlpha = <span class="function">(<span class="params">value, vMin, vMax</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> range = <span class="built_in">Math</span>.abs(vMax - vMin);</div><div class="line">        <span class="comment">// looks like I might have a one liner here...</span></div><div class="line">        <span class="keyword">return</span> <span class="built_in">Math</span>.abs( vMin - wrapMod.wrap(value, vMin, vMax) ) / range;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// update a group</span></div><div class="line">    <span class="keyword">var</span> updateGroup = <span class="function"><span class="keyword">function</span> (<span class="params">group, secs</span>) </span>&#123;</div><div class="line">       <span class="keyword">var</span> gud = group.userData;</div><div class="line">       <span class="keyword">var</span> bs = gud.boundSize / <span class="number">2</span>;</div><div class="line">       <span class="keyword">var</span> ms = gud.meshSize / <span class="number">2</span>;</div><div class="line">       <span class="keyword">var</span> a = bs * <span class="number">-1</span> + ms;</div><div class="line">       <span class="keyword">var</span> b = bs - ms;</div><div class="line">       <span class="keyword">var</span> vMin = <span class="keyword">new</span> THREE.Vector3(a, a, a);</div><div class="line">       <span class="keyword">var</span> vMax = <span class="keyword">new</span> THREE.Vector3(b, b, b);</div><div class="line">       group.children.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">mesh</span>)</span>&#123;</div><div class="line">            <span class="keyword">var</span> ud = mesh.userData;</div><div class="line">            <span class="comment">// update</span></div><div class="line">            mesh.position.x += ud.dir.x * ud.pps * secs;</div><div class="line">            mesh.position.y += ud.dir.y * ud.pps * secs;</div><div class="line">            mesh.position.z += ud.dir.z * ud.pps * secs;</div><div class="line">            <span class="comment">// if wrap vector</span></div><div class="line">            <span class="keyword">if</span>(gud.type === <span class="string">'wrapVector'</span>)&#123;</div><div class="line">                wrapMod.wrapVector(</div><div class="line">                    mesh.position,</div><div class="line">                    vMin,</div><div class="line">                    vMax);</div><div class="line">            &#125;</div><div class="line">            <span class="comment">// if wrap vector length type</span></div><div class="line">            <span class="keyword">if</span>(gud.type === <span class="string">'wrapVectorLength'</span>)&#123;</div><div class="line">                wrapMod.wrapVectorLength(</div><div class="line">                    mesh.position,</div><div class="line">                    a,</div><div class="line">                    b);</div><div class="line">                mesh.lookAt(group.position);</div><div class="line">            &#125;</div><div class="line"></div><div class="line">        &#125;);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// create group</span></div><div class="line">    <span class="keyword">var</span> createGroup = <span class="function"><span class="keyword">function</span> (<span class="params">count, spread, ppsMin, ppsMax, meshSize, boundSize, color, getDir</span>) </span>&#123;</div><div class="line">        spread = spread === <span class="literal">undefined</span> ? <span class="number">5</span> : spread;</div><div class="line">        count = count === <span class="literal">undefined</span> ? <span class="number">50</span> : count;</div><div class="line">        ppsMin = ppsMin === <span class="literal">undefined</span> ? <span class="number">0.5</span> : ppsMin;</div><div class="line">        ppsMax = ppsMax === <span class="literal">undefined</span> ? <span class="number">2</span> : ppsMax;</div><div class="line">        meshSize = meshSize === <span class="literal">undefined</span> ? <span class="number">1</span> : meshSize;</div><div class="line">        boundSize = boundSize === <span class="literal">undefined</span> ? <span class="number">4</span> : boundSize;</div><div class="line">        color = color || <span class="keyword">new</span> THREE.Color(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>);</div><div class="line">        getDir = getDir || <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            <span class="keyword">let</span> v = <span class="keyword">new</span> THREE.Vector3(<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">            <span class="keyword">let</span> e = <span class="keyword">new</span> THREE.Euler(</div><div class="line">                <span class="number">0</span>,</div><div class="line">                <span class="built_in">Math</span>.PI * <span class="number">2</span> * <span class="built_in">Math</span>.random(),</div><div class="line">                <span class="built_in">Math</span>.PI * <span class="number">2</span> * <span class="built_in">Math</span>.random());</div><div class="line">            <span class="keyword">return</span> v.applyEuler(e);</div><div class="line">        &#125;;</div><div class="line">        <span class="keyword">var</span> group = <span class="keyword">new</span> THREE.Group();</div><div class="line">        <span class="keyword">var</span> gud = group.userData;</div><div class="line">        gud.meshSize = meshSize;</div><div class="line">        gud.boundSize = boundSize;</div><div class="line">        gud.type = <span class="string">'wrapVector'</span>;</div><div class="line">        <span class="keyword">var</span> i = <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span> (i &lt; count) &#123;</div><div class="line">            <span class="keyword">var</span> mesh = makeCube(gud.meshSize, color);</div><div class="line">            <span class="comment">// start position</span></div><div class="line">            mesh.position.x = spread * <span class="number">-1</span> + spread * <span class="number">2</span> * THREE.MathUtils.seededRandom();</div><div class="line">            mesh.position.y = spread * <span class="number">-1</span> + spread * <span class="number">2</span> * THREE.MathUtils.seededRandom();</div><div class="line">            mesh.position.z = spread * <span class="number">-1</span> + spread * <span class="number">2</span> * THREE.MathUtils.seededRandom();</div><div class="line">            <span class="comment">// user data values, pps and direction</span></div><div class="line">            <span class="keyword">var</span> ud = mesh.userData;</div><div class="line">            ud.pps = ppsMin + (ppsMax - ppsMin) * THREE.MathUtils.seededRandom();</div><div class="line">            ud.dir = getDir(group, mesh, i);</div><div class="line">            group.add(mesh);</div><div class="line">            i += <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        updateGroup(group, <span class="number">0</span>);</div><div class="line">        <span class="keyword">return</span> group;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// OBJECTS</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">var</span> group1 = createGroup(<span class="number">80</span>, <span class="number">5</span>, <span class="number">0.25</span>, <span class="number">1</span>, <span class="number">0.75</span>, <span class="number">5</span>, <span class="keyword">new</span> THREE.Color(<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>));</div><div class="line">    group1.userData.type = <span class="string">'wrapVector'</span>;</div><div class="line">    group1.position.set(<span class="number">-5</span>,<span class="number">0</span>,<span class="number">-5</span>);</div><div class="line">    scene.add(group1);</div><div class="line">    <span class="keyword">var</span> group2 = createGroup(<span class="number">80</span>, <span class="number">5</span>, <span class="number">0.25</span>, <span class="number">1</span>, <span class="number">0.75</span>, <span class="number">5</span>, <span class="keyword">new</span> THREE.Color(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>));</div><div class="line">    group2.userData.type = <span class="string">'wrapVectorLength'</span>;</div><div class="line">    group2.position.set(<span class="number">5</span>,<span class="number">0</span>,<span class="number">5</span>);</div><div class="line">    scene.add(group2);</div><div class="line">    <span class="keyword">const</span> mesh1 = makeCone(<span class="number">7</span>, <span class="number">2</span>);</div><div class="line">    scene.add(mesh1);</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// LOOP</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">let</span> pi2 = <span class="built_in">Math</span>.PI * <span class="number">2</span>,</div><div class="line">    eMin = <span class="keyword">new</span> THREE.Euler(<span class="number">0</span>, pi2 * <span class="number">0.5</span> * <span class="number">-1</span>, <span class="number">0</span>),</div><div class="line">    eMax = <span class="keyword">new</span> THREE.Euler(pi2, pi2 * <span class="number">0.25</span>, pi2),</div><div class="line">    degPerSec = <span class="number">45</span>,</div><div class="line">    <span class="comment">//vecMin = new THREE.Vector3(-4.5,-4.5,-4.5),</span></div><div class="line">    <span class="comment">//vecMax = new THREE.Vector3(4.5,4.5,4.5),</span></div><div class="line">    fps = <span class="number">20</span>,</div><div class="line">    lt = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">    <span class="keyword">var</span> loop = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">        secs = (now - lt) / <span class="number">1000</span>;</div><div class="line">        requestAnimationFrame(loop);</div><div class="line">        <span class="keyword">if</span> (secs &gt; <span class="number">1</span> / fps) &#123;</div><div class="line">            updateGroup(group1, secs);</div><div class="line">            updateGroup(group2, secs);</div><div class="line">            mesh1.rotation.y += <span class="built_in">Math</span>.PI / <span class="number">180</span> * degPerSec * secs;</div><div class="line">            wrapMod.wrapEuler(mesh1.rotation, eMin, eMax);</div><div class="line">            mesh1.material.opacity = <span class="number">1</span> - <span class="built_in">Math</span>.abs( <span class="number">0.5</span> - getWrapAlpha(mesh1.rotation.y, eMin.y, eMax.y) ) / <span class="number">0.5</span>;</div><div class="line">            <span class="comment">// render</span></div><div class="line">            renderer.render(scene, camera);</div><div class="line">            lt = now;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    loop();</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// CONTROLS</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">let</span> controls = <span class="keyword">new</span> THREE.OrbitControls(camera, renderer.domElement)</div><div class="line">&#125;</div><div class="line">    ());</div></pre></td></tr></table></figure>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>This is a module that I will likely be using in various projects, and with that I will most likely be adding features to it as needed. There is also looking at some of my older projects and seeing how they might be improved by making this module a dependency of the project or rethinking authoring the source code based on what I have worked out here in this module and the wrap method that I came up with when coding and researching what is out there all ready on the open web. One major project that I seem to sue often is my object grid wrap module that is using a different kind of method for wrapping compared to what I am using here.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dustinpfister.github.io/2022/09/09/threejs-examples-wrap-module/" data-id="cliqa07r7028sbwv17j7udguy" class="article-share-link">Share</a>
      
        <a href="https://dustinpfister.github.io/2022/09/09/threejs-examples-wrap-module/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/three-js/">three.js</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2022/09/16/threejs-svg-loader/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          The SVG Loader in threejs
        
      </div>
    </a>
  
  
    <a href="/2022/09/02/threejs-vector3-wrap/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Wrapping a vector3 instance in threejs</div>
    </a>
  
</nav>

  
</article>



<section id="comments">

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://dustinpfister.github.io/2022/09/09/threejs-examples-wrap-module/index.html';
    this.page.identifier = '1004';
    this.page.title = 'threejs wrap module example for wrapping rather than clamping values';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://dustinpfister-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular/">angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/api/">api</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/backbone/">backbone</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/discovery/">discovery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/electronjs/">electronjs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/games/">games</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/grunt/">grunt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hapi/">hapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/heroku/">heroku</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jquery/">jquery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lodash/">lodash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node-js/">node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/phaser/">phaser</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/statistics/">statistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/three-js/">three.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backbone/">backbone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/corejs/">corejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deterministic/">deterministic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discovery/">discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejs/">ejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/electronjs/">electronjs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hapi/">hapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jimp/">jimp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js13k/">js13k</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/structured-data/">structured-data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/themes/">themes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three-js/">three.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JSON/" style="font-size: 12.27px;">JSON</a> <a href="/tags/SEO/" style="font-size: 10.45px;">SEO</a> <a href="/tags/angular/" style="font-size: 13.18px;">angular</a> <a href="/tags/animation/" style="font-size: 11.82px;">animation</a> <a href="/tags/automation/" style="font-size: 11.82px;">automation</a> <a href="/tags/backbone/" style="font-size: 12.27px;">backbone</a> <a href="/tags/blog/" style="font-size: 15.45px;">blog</a> <a href="/tags/canvas/" style="font-size: 18.64px;">canvas</a> <a href="/tags/corejs/" style="font-size: 12.73px;">corejs</a> <a href="/tags/deterministic/" style="font-size: 10px;">deterministic</a> <a href="/tags/discovery/" style="font-size: 10.91px;">discovery</a> <a href="/tags/ejs/" style="font-size: 11.36px;">ejs</a> <a href="/tags/electronjs/" style="font-size: 13.64px;">electronjs</a> <a href="/tags/express/" style="font-size: 16.82px;">express</a> <a href="/tags/games/" style="font-size: 17.27px;">games</a> <a href="/tags/git/" style="font-size: 13.64px;">git</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hapi/" style="font-size: 15px;">hapi</a> <a href="/tags/heroku/" style="font-size: 11.82px;">heroku</a> <a href="/tags/hexo/" style="font-size: 14.55px;">hexo</a> <a href="/tags/jimp/" style="font-size: 10.45px;">jimp</a> <a href="/tags/jquery/" style="font-size: 11.36px;">jquery</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/js13k/" style="font-size: 10px;">js13k</a> <a href="/tags/linux/" style="font-size: 17.73px;">linux</a> <a href="/tags/lodash/" style="font-size: 18.64px;">lodash</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mongodb/" style="font-size: 14.55px;">mongodb</a> <a href="/tags/node-js/" style="font-size: 19.55px;">node.js</a> <a href="/tags/phaser/" style="font-size: 18.18px;">phaser</a> <a href="/tags/python/" style="font-size: 15.91px;">python</a> <a href="/tags/statistics/" style="font-size: 14.09px;">statistics</a> <a href="/tags/structured-data/" style="font-size: 10px;">structured-data</a> <a href="/tags/themes/" style="font-size: 10px;">themes</a> <a href="/tags/three-js/" style="font-size: 19.09px;">three.js</a> <a href="/tags/vuejs/" style="font-size: 16.36px;">vuejs</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">July 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/06/">June 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">May 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">April 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/07/23/threejs-lathe-geometry/">Lathe Geometry in threejs</a>
          </li>
        
          <li>
            <a href="/2023/06/09/threejs-vector2/">The Vector2 class for 2D curves, mouse pointers, ect</a>
          </li>
        
          <li>
            <a href="/2023/06/08/linux-dd/">Linux dd command and files</a>
          </li>
        
          <li>
            <a href="/2023/06/06/linux-sysbench/">Linux sysbench command for benchmarking a file system</a>
          </li>
        
          <li>
            <a href="/2023/06/02/threejs-tube-geometry/">Tube Geometry in threejs</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2023 Dustin Pfister<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      <br>
      <a href="/privacy.html" target="_blank">Privacy Policy</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/2021/02/19/threejs-examples/" class="mobile-nav-link">ThreeJS</a>
  
    <a href="/2020/03/23/canvas-example/" class="mobile-nav-link">Canvas</a>
  
    <a href="https://www.youtube.com/user/javaweaver" class="mobile-nav-link">Youtube</a>
  
    <a href="https://github.com/dustinpfister" class="mobile-nav-link">Github</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'dustinpfister-github-io';
  
  var disqus_url = 'https://dustinpfister.github.io/2022/09/09/threejs-examples-wrap-module/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


  </div>
</body>
</html>