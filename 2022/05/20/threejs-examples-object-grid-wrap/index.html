<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <!-- disqus image-->
  <meta property="og:image" content="https://dustinpfister.github.io/css/images/banner_2023.png">
  
  <title>Object grid wrap threejs javaScript module example | Dustin John Pfister at github pages</title>
  
  <!-- no index tag or blank here -->
  
  
  <link rel="canonical" href="https://dustinpfister.github.io/2022/05/20/threejs-examples-object-grid-wrap/" />

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="I have some ideas for videos that involve a gird of objects the position of which will move, but will also wrap around when also. In other words I would like to have some kind of simple javaScript mod">
<meta property="og:type" content="article">
<meta property="og:title" content="Object grid wrap threejs javaScript module example">
<meta property="og:url" content="https://dustinpfister.github.io/2022/05/20/threejs-examples-object-grid-wrap/index.html">
<meta property="og:site_name" content="Dustin John Pfister at github pages">
<meta property="og:description" content="I have some ideas for videos that involve a gird of objects the position of which will move, but will also wrap around when also. In other words I would like to have some kind of simple javaScript mod">
<meta property="og:updated_time" content="2023-02-01T17:14:20.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Object grid wrap threejs javaScript module example">
<meta name="twitter:description" content="I have some ideas for videos that involve a gird of objects the position of which will move, but will also wrap around when also. In other words I would like to have some kind of simple javaScript mod">
  
    <link rel="alternate" href="/atom.xml" title="Dustin John Pfister at github pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <!-- Google Analytics -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y8XLNG6JRW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Y8XLNG6JRW');
</script>
<!-- End Google Analytics -->


  <!-- structured data set in structured-data.ejs -->
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "email": "distin.pfister@gmail.com",
    "givenName": "Dustin",
    "familyName" : "Pfister",
    "additionalName": "John",
    "name": "Dustin John Pfister",
    "gender": "Male"
}
</script>
<!-- end structured data -->
  
  <!-- adsense if indexed -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1658284027672315",
    enable_page_level_ads: true
  });
  </script>
  
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <!-- added the image, as well as the link to my youtube -->
        <a href="https://www.youtube.com/user/javaweaver"><div class="selfimage"></div></a>
        <!--<a href="/" id="logo">Dustin John Pfister at github pages</a>-->
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/2021/02/19/threejs-examples/">ThreeJS</a>
        
          <a class="main-nav-link" href="/2020/03/23/canvas-example/">Canvas</a>
        
          <a class="main-nav-link" href="https://www.youtube.com/user/javaweaver">Youtube</a>
        
          <a class="main-nav-link" href="https://github.com/dustinpfister">Github</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <!-- removed rss link-->
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dustinpfister.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article itemscope itemtype="http://schema.org/Blog" id="post-threejs-examples-object-grid-wrap" class="article article-type-post" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/05/20/threejs-examples-object-grid-wrap/" class="article-date"> Published:
  <time datetime="2022-05-20T17:49:00.000Z" itemprop="datePublished">2022-05-20</time>
</a>

    <!-- other info (dustin) -->
    <a href="/2022/05/20/threejs-examples-object-grid-wrap/" class="article-date"> Modified:
  <time datetime="2023-02-01T17:14:20.000Z" itemprop="dateModified">2023-02-01</time>
</a>

    <span class="article-date">V1.22</span>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/three-js/">three.js</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Object grid wrap threejs javaScript module example
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="text">
      
        <p>I have some ideas for videos that involve a gird of objects the position of which will move, but will also wrap around when also. In other words I would like to have some kind of simple javaScript module in which I can define an array of source objects, and then have an array of index values for tile location in the grid where each index value refers to an object to clone from the source objects array. So then this kind of module could be used in all kinds of ways when it comes to making some kind of looping world that I can then move around in. The module can be used with a number of other components that involve additional objects that might be elements of the main focus of the over all video, but this module would be a nice way to have some kind of repeating background.</p>
<p>So this post will be on what I have together at this time for what I am calling an object grid wrap module which will be yet another one of my <a href="/2021/02/19/threejs-examples/">threejs project examples</a>.</p>
<a id="more"></a>
<iframe class="youtube_video" src="https://www.youtube.com/embed/JqVIlrvMwHs
" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>


<h2 id="The-threejs-object-grid-wrap-module-and-what-you-should-know-first"><a href="#The-threejs-object-grid-wrap-module-and-what-you-should-know-first" class="headerlink" title="The threejs object grid wrap module and what you should know first"></a>The threejs object grid wrap module and what you should know first</h2><p>This is a blog post on a javaScript module that I made that can be used to create a grid of objects, and move those objects in such a way that they will loop around again when they go out of bounds. I am making use of a lot of various features of the threejs library as well as core javaScript in the module itself as well as the additional demo code. This is then not at all a post on threejs example code that is for developers that are still new to threejs and javaScript in general. I will not be getting into every little thing that you should know before hand, but I will take a moment in this opening section to outline some general things you might want to read up more on before counting with the rest of this content.</p>
<h3 id="Read-up-on-the-subject-of-shallow-and-deep-cloning-of-objects"><a href="#Read-up-on-the-subject-of-shallow-and-deep-cloning-of-objects" class="headerlink" title="Read up on the subject of shallow and deep cloning of objects"></a>Read up on the subject of shallow and deep cloning of objects</h3><p>In this object grid module I am taking an array of source objects and then creating new objects based off of those source objects. When doing so there is calling the clone method of the object that I want to make a copy of, but this will just create a copy of a mesh object or group objects itself and not with any nested object such as with a material or geometry that is used. This is one of the reasons why I have added an option that allows for me to pass a custom method for cloning objects, I have what I have made for this when it comes to a built in method for cloning, but I am sure there will be situations in which I might want to use a custom method for this sort of thing.</p>
<p>I have wrote a number of posts in the past about this subject when it comes to my posts on the <a href="/2017/10/02/lodash_clone/">lodash clone</a>, and <a href="/2017/11/13/lodash_clonedeep/">lodash clone deep methods</a>.</p>
<h3 id="Wrapping-clamping-and-Euclidean-Modulo"><a href="#Wrapping-clamping-and-Euclidean-Modulo" class="headerlink" title="Wrapping, clamping, and Euclidean Modulo"></a>Wrapping, clamping, and Euclidean Modulo</h3><p>In the past I have wrote a number of posts on the subject of wrapping and clamping which is a subject that seems to come up a whole lot when making all kinds of various projects. I have an old collection of content on the <a href="/2018/07/22/phaser-math-wrap-and-clamp/">game framework phaser in which I wrote a post on the built in wrap</a> method that works well in the project. I have also wrote a post on the subject of <a href="/2017/09/02/js-whats-wrong-with-modulo/">core javaScript and the built in modulo operator</a> and what the deal is with that when it comes to negative numbers. However this is a post on the threejs library and when it comes to this project there is a <a href="/2022/04/11/threejs-math-utils/">Euclidean Modulo method in the Math utils library</a>.</p>
<h3 id="Version-numbers-matter"><a href="#Version-numbers-matter" class="headerlink" title="Version numbers matter"></a>Version numbers matter</h3><p>When I first made the source code examples that I am writing about in this post I was working on top of r135 of threejs.</p>
<h3 id="Source-code-is-also-up-on-Github"><a href="#Source-code-is-also-up-on-Github" class="headerlink" title="Source code is also up on Github"></a>Source code is also up on Github</h3><p>On Github I have my <a href="https://github.com/dustinpfister/test_threejs/tree/master/views/forpost/threejs-examples-object-grid-wrap" target="_blank" rel="external">test threejs repository</a> where I have the source code that I am writing about here as well as the source code for many other such simple project examples.</p>
<h2 id="1-First-version-r0-of-this-object-grid-warp-module-and-a-demo-of-it-thus-far"><a href="#1-First-version-r0-of-this-object-grid-warp-module-and-a-demo-of-it-thus-far" class="headerlink" title="1 - First version ( r0 ) of this object grid warp module and a demo of it thus far"></a>1 - First version ( r0 ) of this object grid warp module and a demo of it thus far</h2><p>In this section I will be going over the first revision of the object grid wrap module itself as well as demo code that helps to show that this will work they way I want it to. For this first revision I all ready have all of the core ideas that I wanted up and running and there may or may not be a need for an additional revision. I can create an instance of a THREE.Group using the create method of the object grid module that has children added and positioned from the array of source objects and index values that I give. The other core idea that I wanted also seems to be working well when it comes to moving these objects around and having them loop back.</p>
<h3 id="1-1-The-object-grid-wrap-module"><a href="#1-1-The-object-grid-wrap-module" class="headerlink" title="1.1 - The object grid wrap module"></a>1.1 - The object grid wrap module</h3><p>Here I have the source code for the module that I had in mind that creates and returns a public API with a few useful methods. There is the create method that I can call to create and return a new grid object, as well as additional methods to change and update this grid object. On top of the public methods I have a number of private helper functions for this like getting the true tile home position of an object, as well as other kinds of positions such as positions that are created with alpha values from these given home locations. Also I have a number of hard coded defaults for the various options for the create method so I have something of interest at least when I just call the create method by itself.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="comment">// ObjectGridWrap module - from threejs-examples-object-grid-wrap - r0</span></div><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="keyword">var</span> ObjectGridWrap = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">// public API</span></div><div class="line">    <span class="keyword">var</span> api = &#123;&#125;;</div><div class="line">    <span class="comment">// some defaults</span></div><div class="line">    <span class="keyword">var</span>  DEFAULT_SOURCE_OBJECTS = [</div><div class="line">        <span class="keyword">new</span> THREE.Mesh( <span class="keyword">new</span> THREE.BoxGeometry( <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>), <span class="keyword">new</span> THREE.MeshNormalMaterial()),</div><div class="line">        <span class="keyword">new</span> THREE.Mesh( <span class="keyword">new</span> THREE.SphereGeometry( <span class="number">0.5</span>, <span class="number">30</span>, <span class="number">30</span>), <span class="keyword">new</span> THREE.MeshNormalMaterial())</div><div class="line">    ];</div><div class="line">    <span class="keyword">var</span> DEFAULT_OBJECT_INDICES = [<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>];</div><div class="line">    <span class="comment">// default cloner method</span></div><div class="line">    <span class="keyword">var</span> DEFAULT_CLONER = <span class="function"><span class="keyword">function</span>(<span class="params">opt, objectIndex</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> obj_root = opt.sourceObjects[objectIndex].clone();</div><div class="line">        obj_root.traverse(<span class="function"><span class="keyword">function</span>(<span class="params">obj</span>)</span>&#123;</div><div class="line">            <span class="keyword">if</span>(obj.material)&#123;</div><div class="line">                obj.material = obj.material.clone();</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">        <span class="keyword">return</span> obj_root;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// get a 'true' position in the form of a Vector2 for the given object index</span></div><div class="line">    <span class="comment">// by true position I mean how things are with the state of the objectIndices array</span></div><div class="line">    <span class="comment">// it can also be thought of as a kind of 'home position' as well</span></div><div class="line">    <span class="keyword">var</span> getTruePos = <span class="function"><span class="keyword">function</span>(<span class="params">grid, objectIndex</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> ud = grid.userData,</div><div class="line">        trueX = objectIndex % ud.tw,</div><div class="line">        trueZ = <span class="built_in">Math</span>.floor(objectIndex / ud.tw);</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> THREE.Vector2(trueX, trueZ);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// get the adjusted position in which alphaX, and alphaZ values are applyed</span></div><div class="line">    <span class="keyword">var</span> getAdjustedPos = <span class="function"><span class="keyword">function</span>(<span class="params">grid, objectIndex</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> ud = grid.userData,</div><div class="line">        v_true = getTruePos(grid, objectIndex);</div><div class="line">        <span class="comment">// adjusted by alphas</span></div><div class="line">        <span class="keyword">var</span> ax = (v_true.x + ud.tw * ud.alphaX) % ud.tw;</div><div class="line">        <span class="keyword">var</span> az = (v_true.y + ud.th * ud.alphaZ) % ud.th;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> THREE.Vector2(ax, az);        </div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// The create method will create and return a new THREE.Group with desired source objects</span></div><div class="line">    <span class="comment">// and induces for where clones of these objects shall be placed</span></div><div class="line">    api.create = <span class="function"><span class="keyword">function</span>(<span class="params">opt</span>)</span>&#123;</div><div class="line">        opt = opt || &#123;&#125;;</div><div class="line">        opt.sourceObjects = opt.sourceObjects || DEFAULT_SOURCE_OBJECTS;</div><div class="line">        opt.objectIndices = opt.objectIndices || DEFAULT_OBJECT_INDICES;</div><div class="line">        opt.tw = opt.tw === <span class="literal">undefined</span> ? <span class="number">5</span>: opt.tw; <span class="comment">// tile width and height</span></div><div class="line">        opt.th = opt.th === <span class="literal">undefined</span> ? <span class="number">5</span>: opt.th;</div><div class="line">        opt.alphaX = <span class="number">0</span>; <span class="comment">// alpha x and z values</span></div><div class="line">        opt.alphaZ = <span class="number">0</span>;</div><div class="line">        opt.cloner = opt.cloner || DEFAULT_CLONER;</div><div class="line">        <span class="keyword">var</span> grid = <span class="keyword">new</span> THREE.Group();</div><div class="line">        <span class="keyword">var</span> ud = grid.userData;</div><div class="line">        ud.space = opt.space === <span class="literal">undefined</span> ? <span class="number">1</span> : opt.space;</div><div class="line">        ud.alphaX = opt.alphaX;</div><div class="line">        ud.alphaZ = opt.alphaZ;</div><div class="line">        ud.tw = opt.tw;</div><div class="line">        ud.th = opt.th;</div><div class="line">        ud.aOpacity = opt.aOpacity === <span class="literal">undefined</span> ? <span class="number">1.0</span> : opt.aOpacity;</div><div class="line">        <span class="keyword">var</span> i = <span class="number">0</span>, len = opt.tw * opt.th;</div><div class="line">        <span class="keyword">while</span>(i &lt; len)&#123;</div><div class="line">            <span class="keyword">var</span> objIndex = opt.objectIndices[i];</div><div class="line">            <span class="keyword">var</span> obj = opt.cloner(opt, objIndex);</div><div class="line">            grid.add(obj);</div><div class="line">            i += <span class="number">1</span>;</div><div class="line">        &#125;;</div><div class="line">        api.update(grid);</div><div class="line">        <span class="keyword">return</span> grid;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// set grid to alphas helper</span></div><div class="line">    <span class="keyword">var</span> setGridToAlphas = <span class="function"><span class="keyword">function</span>(<span class="params">grid, objectIndex</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> ud = grid.userData;</div><div class="line">        <span class="keyword">var</span> obj = grid.children[objectIndex];</div><div class="line">        <span class="keyword">var</span> v_adjust = getAdjustedPos(grid, objectIndex);</div><div class="line">        <span class="comment">// use spacing</span></div><div class="line">        <span class="keyword">var</span> x = v_adjust.x * ud.space;</div><div class="line">        <span class="keyword">var</span> z = v_adjust.y * ud.space;</div><div class="line">        <span class="comment">// subtract so that objects are centered</span></div><div class="line">        x -= (ud.tw - <span class="number">1</span>) * ud.space / <span class="number">2</span>;</div><div class="line">        z -= (ud.th - <span class="number">1</span>) * ud.space / <span class="number">2</span>;</div><div class="line">        <span class="comment">// set position</span></div><div class="line">        obj.position.set(x, <span class="number">0</span>, z);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// set opacity for object and any and all nested objects</span></div><div class="line">    <span class="keyword">var</span> setOpacity = <span class="function"><span class="keyword">function</span>(<span class="params">obj_root, alpha</span>)</span>&#123;</div><div class="line">        obj_root.traverse(<span class="function"><span class="keyword">function</span>(<span class="params">obj</span>)</span>&#123;</div><div class="line">            <span class="comment">// any object with a material</span></div><div class="line">            <span class="keyword">if</span>(obj.material)&#123;</div><div class="line">                obj.material.transparent = <span class="literal">true</span>;</div><div class="line">                obj.material.opacity = alpha;</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// Object opacity check</span></div><div class="line">    <span class="keyword">var</span> objectOpacityCheck = <span class="function"><span class="keyword">function</span>(<span class="params">grid, objectIndex</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> ud = grid.userData,</div><div class="line">        obj = grid.children[objectIndex],</div><div class="line">        v_center = <span class="keyword">new</span> THREE.Vector2(ud.tw / <span class="number">2</span>, ud.th / <span class="number">2</span>),</div><div class="line">        distMax = v_center.distanceTo( <span class="keyword">new</span> THREE.Vector2(<span class="number">0.5</span>, <span class="number">0.5</span>) );</div><div class="line">        <span class="keyword">var</span> v_adjust = getAdjustedPos(grid, objectIndex);</div><div class="line">        <span class="keyword">var</span> v2 = <span class="keyword">new</span> THREE.Vector2(v_adjust.x + <span class="number">0.5</span>, v_adjust.y + <span class="number">0.5</span>),</div><div class="line">        d = v2.distanceTo( v_center );</div><div class="line">        d *= ud.aOpacity;        </div><div class="line">        d = d &lt; <span class="number">0</span> ? <span class="number">0</span> : d;</div><div class="line">        d = d &gt; distMax ? distMax : d;</div><div class="line">        <span class="keyword">var</span> b = d / distMax;</div><div class="line">        b = <span class="number">1</span> - b;</div><div class="line">        b = <span class="built_in">parseFloat</span>(b.toFixed(<span class="number">2</span>));</div><div class="line">        <span class="comment">// call set opacity helper</span></div><div class="line">        setOpacity(obj, b);</div><div class="line">        <span class="comment">//console.log(i, '(' + trueX + ',' + trueZ + ')', 'd=' + d.toFixed(2), distMax.toFixed(2), b);</span></div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// set position</span></div><div class="line">    api.setPos = <span class="function"><span class="keyword">function</span>(<span class="params">grid, x, z</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> ud = grid.userData;</div><div class="line">        ud.alphaX = THREE.MathUtils.euclideanModulo(x, <span class="number">1</span>);</div><div class="line">        ud.alphaZ = THREE.MathUtils.euclideanModulo(z, <span class="number">1</span>);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// main update method</span></div><div class="line">    api.update = <span class="function"><span class="keyword">function</span>(<span class="params">grid</span>)</span>&#123;</div><div class="line">        grid.children.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">obj, i</span>)</span>&#123;</div><div class="line">            setGridToAlphas(grid, i);</div><div class="line">            objectOpacityCheck(grid, i);</div><div class="line">        &#125;);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// return public API</span></div><div class="line">    <span class="keyword">return</span> api;</div><div class="line">&#125;());</div></pre></td></tr></table></figure>
<h3 id="1-2-Demo-of-the-module"><a href="#1-2-Demo-of-the-module" class="headerlink" title="1.2 - Demo of the module"></a>1.2 - Demo of the module</h3><p>Now I am just going to want to have a little demo code then just to take this module for a text drive of sorts. For this demo I made custom arrays for the source objects as well as using the Math utils seeded random method as a way to generate index values when it comes to cloning what source objects for which tile location in the grid.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="keyword">var</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">scene.background = <span class="keyword">new</span> THREE.Color(<span class="string">'#000000'</span>);</div><div class="line"><span class="comment">//scene.add( new THREE.GridHelper(10, 10, 0x00ff00, 0xffffff) )</span></div><div class="line"><span class="keyword">var</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">60</span>, <span class="number">320</span> / <span class="number">240</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line">camera.position.set(<span class="number">-10</span>, <span class="number">5</span>, <span class="number">0</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line"><span class="keyword">var</span> renderer = <span class="keyword">new</span> THREE.WebGLRenderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>);</div><div class="line"><span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>).appendChild(renderer.domElement);</div><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="comment">// LIGHT</span></div><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="keyword">var</span> dl = <span class="keyword">new</span> THREE.DirectionalLight(<span class="number">0xffffff</span>, <span class="number">1</span>);</div><div class="line">dl.position.set(<span class="number">-2</span>, <span class="number">1</span>, <span class="number">3</span>);</div><div class="line">scene.add(dl);</div><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="comment">// GRID OPTIONS</span></div><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="keyword">var</span> tw = <span class="number">20</span>,</div><div class="line">th = <span class="number">20</span>,</div><div class="line">space = <span class="number">1.25</span>;</div><div class="line"><span class="comment">// source objects</span></div><div class="line"><span class="keyword">var</span> mkBox = <span class="function"><span class="keyword">function</span>(<span class="params">color, h</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> box = <span class="keyword">new</span> THREE.Group();</div><div class="line">    <span class="keyword">var</span> mesh = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">        <span class="keyword">new</span> THREE.BoxGeometry( <span class="number">1</span>, h, <span class="number">0.25</span> + <span class="number">0.25</span>),</div><div class="line">        <span class="keyword">new</span> THREE.MeshStandardMaterial(&#123; <span class="attr">color</span>: color&#125;) );</div><div class="line">    mesh.position.y = h / <span class="number">2</span>;</div><div class="line">    mesh.rotation.y = <span class="built_in">Math</span>.PI / <span class="number">180</span> * <span class="number">20</span> * <span class="number">-1</span>;</div><div class="line">    <span class="keyword">var</span> ground = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">        <span class="keyword">new</span> THREE.BoxGeometry( space, <span class="number">0.1</span>, space),</div><div class="line">        <span class="keyword">new</span> THREE.MeshStandardMaterial(&#123; <span class="attr">color</span>: <span class="number">0xffffff</span>&#125;) );</div><div class="line">    ground.position.y = <span class="number">0.05</span> * <span class="number">-1</span>;</div><div class="line">    box.add(mesh)  </div><div class="line">    box.add(ground);</div><div class="line">    <span class="keyword">return</span> box;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> array_source_objects = [</div><div class="line">    mkBox(<span class="number">0xff0000</span>, <span class="number">0.5</span>),</div><div class="line">    mkBox(<span class="number">0x00ff00</span>, <span class="number">1</span>),</div><div class="line">    mkBox(<span class="number">0x0000ff</span>, <span class="number">1.5</span>),</div><div class="line">    mkBox(<span class="number">0x00ffff</span>, <span class="number">2</span>),</div><div class="line">    mkBox(<span class="number">0xff00ff</span>, <span class="number">2.5</span>)</div><div class="line">];</div><div class="line"><span class="keyword">var</span> array_oi = [],</div><div class="line">len = tw * th, i = <span class="number">0</span>;</div><div class="line"><span class="keyword">while</span>(i &lt; len)&#123;</div><div class="line">    array_oi.push( <span class="built_in">Math</span>.floor( array_source_objects.length * THREE.MathUtils.seededRandom() ) );</div><div class="line">    i += <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="comment">// CREATE GRID</span></div><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="keyword">var</span> grid = ObjectGridWrap.create(&#123;</div><div class="line">    <span class="attr">space</span>: space,</div><div class="line">    <span class="attr">tw</span>: tw,</div><div class="line">    <span class="attr">th</span>: th,</div><div class="line">    <span class="attr">aOpacity</span>: <span class="number">1.25</span>,</div><div class="line">    <span class="attr">sourceObjects</span>: array_source_objects,</div><div class="line">    <span class="attr">objectIndices</span>: array_oi</div><div class="line">&#125;);</div><div class="line">scene.add(grid);</div><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="comment">// LOOP</span></div><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="keyword">var</span> controls = <span class="keyword">new</span> THREE.OrbitControls(camera, renderer.domElement);</div><div class="line"><span class="keyword">var</span> fps = <span class="number">30</span>,</div><div class="line">lt = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">frame = <span class="number">0</span>,</div><div class="line">maxFrame = <span class="number">300</span>;</div><div class="line"><span class="keyword">var</span> loop = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">    per = frame / maxFrame,</div><div class="line">    bias = <span class="number">1</span> - <span class="built_in">Math</span>.abs(<span class="number">0.5</span> - per) / <span class="number">0.5</span>,</div><div class="line">    secs = (now - lt) / <span class="number">1000</span>,</div><div class="line">    ud = grid.userData;</div><div class="line">    requestAnimationFrame(loop);</div><div class="line">    <span class="keyword">if</span>(secs &gt; <span class="number">1</span> / fps)&#123;</div><div class="line">        ObjectGridWrap.setPos(grid, (<span class="number">1</span> - per) * <span class="number">2</span>, <span class="built_in">Math</span>.cos(<span class="built_in">Math</span>.PI * bias) * <span class="number">0.25</span> );</div><div class="line">        ObjectGridWrap.update(grid);</div><div class="line">        renderer.render(scene, camera);</div><div class="line">        frame += fps * secs;</div><div class="line">        frame %= maxFrame;</div><div class="line">        lt = now;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">loop();</div></pre></td></tr></table></figure>
<h2 id="2-Plug-in-system-arrays-of-materials-and-many-little-things-fixed-in-r2-thus-far"><a href="#2-Plug-in-system-arrays-of-materials-and-many-little-things-fixed-in-r2-thus-far" class="headerlink" title="2 - Plug in system, arrays of materials, and many little things fixed in r2 thus far"></a>2 - Plug in system, arrays of materials, and many little things fixed in r2 thus far</h2><p>Sense I first wrote this post I have made two revisions of the state of the source code of this object grid wrap module and I am sure that there will be at least a few more as I seem to be using this module now and then in my many various threejs blog posts videos to have a looping grid of objects that composes some kind of interesting scene.</p>
<p>Anyway the main feature of interest thus far here sense the first version is that I have added a plug in system for a way to go about adding various effects that I want to use with an object grid such as an opacity effect. When it comes to the core set of files that I have for r2, thus far I just have one plug in that is a core set of effects. When it comes to built in effects thus far there are none actually as I am thinking that making effects are something that I might want to do as a project to project type thing when using this. That is not to say there there will end up being a few usual methods that I will want to take with me to each new project it is just that I have found that thus far I might want to even park those in an optional external file for now at least.</p>
<h3 id="2-1-r2-of-the-object-grid-wrap-module"><a href="#2-1-r2-of-the-object-grid-wrap-module" class="headerlink" title="2.1 - r2 of the object grid wrap module"></a>2.1 - r2 of the object grid wrap module</h3><p>Now for the state of the source code of the main object grid wrap module in which I have made a number of changes. The major changes are that I have removed the built in effects thus far and parked them in an external file. I can then load this external file with the load method of the module. Other additional changes are some more options for the create method that allow for changing the size of each tile, but for the most part it is the plug in system that is the big deal here.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="comment">// ObjectGridWrap module - r2 - for threejs-examples-object-grid-wrap post</span></div><div class="line"><span class="comment">// * spaceW and spaceH options in place of space</span></div><div class="line"><span class="comment">// * objData.b prop to work with when making an effect</span></div><div class="line"><span class="comment">// * ud argument for effect functions</span></div><div class="line"><span class="comment">// * load method started to load external plug ins that contain just effects for now</span></div><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="keyword">var</span> ObjectGridWrap = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">// public API</span></div><div class="line">    <span class="keyword">var</span> api = &#123;&#125;;</div><div class="line">    <span class="comment">//******** **********</span></div><div class="line">    <span class="comment">//  DEFAULTS</span></div><div class="line">    <span class="comment">//******** **********</span></div><div class="line">    <span class="keyword">var</span>  DEFAULT_SOURCE_OBJECTS = [</div><div class="line">        <span class="keyword">new</span> THREE.Mesh( <span class="keyword">new</span> THREE.BoxGeometry( <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>), <span class="keyword">new</span> THREE.MeshNormalMaterial()),</div><div class="line">        <span class="keyword">new</span> THREE.Mesh( <span class="keyword">new</span> THREE.SphereGeometry( <span class="number">0.5</span>, <span class="number">30</span>, <span class="number">30</span>), <span class="keyword">new</span> THREE.MeshNormalMaterial())</div><div class="line">    ];</div><div class="line">    <span class="keyword">var</span> DEFAULT_OBJECT_INDICES = [<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>];</div><div class="line">    <span class="comment">// DEFAULT CLONER METHOD</span></div><div class="line">    <span class="keyword">var</span> DEFAULT_CLONER = <span class="function"><span class="keyword">function</span>(<span class="params">opt, objectIndex</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> obj_root = opt.sourceObjects[objectIndex].clone();</div><div class="line">        obj_root.traverse(<span class="function"><span class="keyword">function</span>(<span class="params">obj</span>)</span>&#123;</div><div class="line">            <span class="keyword">if</span>(obj.material)&#123;</div><div class="line">                <span class="keyword">if</span>(obj.material <span class="keyword">instanceof</span> <span class="built_in">Array</span>)&#123;</div><div class="line">                    obj.material = obj.material.map(<span class="function"><span class="keyword">function</span>(<span class="params">m</span>)</span>&#123;</div><div class="line">                        <span class="keyword">return</span> m.clone();</div><div class="line">                    &#125;);</div><div class="line">                &#125;<span class="keyword">else</span>&#123;</div><div class="line">                    obj.material = obj.material.clone();</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">        <span class="keyword">return</span> obj_root;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">//******** **********</span></div><div class="line">    <span class="comment">//  EFFECTS OBJECT - BUILT IN EFFECTS + HELPERS</span></div><div class="line">    <span class="comment">//******** **********</span></div><div class="line">    <span class="keyword">var</span> EFFECTS = &#123;&#125;;</div><div class="line">    <span class="comment">//******** **********</span></div><div class="line">    <span class="comment">//  POSITION HELPERS</span></div><div class="line">    <span class="comment">//******** **********</span></div><div class="line">    <span class="comment">// get a 'true' position in the form of a Vector2 for the given object index</span></div><div class="line">    <span class="comment">// by true position I mean how things are with the state of the objectIndices array</span></div><div class="line">    <span class="comment">// it can also be thought of as a kind of 'home position' as well</span></div><div class="line">    <span class="keyword">var</span> getTruePos = <span class="function"><span class="keyword">function</span>(<span class="params">grid, objectIndex</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> ud = grid.userData,</div><div class="line">        trueX = objectIndex % ud.tw,</div><div class="line">        trueZ = <span class="built_in">Math</span>.floor(objectIndex / ud.tw);</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> THREE.Vector2(trueX, trueZ);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// get the adjusted position in which alphaX, and alphaZ values are applyed</span></div><div class="line">    <span class="keyword">var</span> getAdjustedPos = <span class="function"><span class="keyword">function</span>(<span class="params">grid, objectIndex</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> ud = grid.userData,</div><div class="line">        v_true = getTruePos(grid, objectIndex);</div><div class="line">        <span class="comment">// adjusted by alphas</span></div><div class="line">        <span class="keyword">var</span> ax = (v_true.x + ud.tw * ud.alphaX) % ud.tw;</div><div class="line">        <span class="keyword">var</span> az = (v_true.y + ud.th * ud.alphaZ) % ud.th;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> THREE.Vector2(ax, az);        </div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// final getPos in which space is applyed</span></div><div class="line">    <span class="keyword">var</span> getPos = <span class="function"><span class="keyword">function</span>(<span class="params">grid, objectIndex</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> ud = grid.userData,</div><div class="line">        v_adjust = getAdjustedPos(grid, objectIndex);</div><div class="line">        <span class="comment">// use spacing</span></div><div class="line">        <span class="keyword">var</span> x = v_adjust.x * ud.spaceW;</div><div class="line">        <span class="keyword">var</span> z = v_adjust.y * ud.spaceH;</div><div class="line">        <span class="comment">// subtract so that objects are centered</span></div><div class="line">        x -= (ud.tw - <span class="number">1</span>) * ud.spaceW / <span class="number">2</span>;</div><div class="line">        z -= (ud.th - <span class="number">1</span>) * ud.spaceH / <span class="number">2</span>;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> THREE.Vector2(x, z);        </div><div class="line">    &#125;;</div><div class="line">    <span class="comment">//******** **********</span></div><div class="line">    <span class="comment">//  CREATE METHOD</span></div><div class="line">    <span class="comment">//******** **********</span></div><div class="line">    <span class="comment">// The create method will create and return a new THREE.Group with desired source objects</span></div><div class="line">    <span class="comment">// and induces for where clones of these objects shall be placed</span></div><div class="line">    api.create = <span class="function"><span class="keyword">function</span>(<span class="params">opt</span>)</span>&#123;</div><div class="line">        opt = opt || &#123;&#125;;</div><div class="line">        opt.sourceObjects = opt.sourceObjects || DEFAULT_SOURCE_OBJECTS;</div><div class="line">        opt.objectIndices = opt.objectIndices || DEFAULT_OBJECT_INDICES;</div><div class="line">        opt.tw = opt.tw === <span class="literal">undefined</span> ? <span class="number">5</span>: opt.tw; <span class="comment">// tile width and height</span></div><div class="line">        opt.th = opt.th === <span class="literal">undefined</span> ? <span class="number">5</span>: opt.th;</div><div class="line">        opt.alphaX = <span class="number">0</span>; <span class="comment">// alpha x and z values</span></div><div class="line">        opt.alphaZ = <span class="number">0</span>;</div><div class="line">        opt.cloner = opt.cloner || DEFAULT_CLONER;</div><div class="line">        <span class="keyword">var</span> grid = <span class="keyword">new</span> THREE.Group();</div><div class="line">        <span class="keyword">var</span> ud = grid.userData;</div><div class="line">        ud.effects = opt.effects || [];</div><div class="line">        <span class="comment">// use opt.space to set ud.spaceW + H or set them by opt.spaceW + H </span></div><div class="line">        <span class="keyword">if</span>(opt.space)&#123;</div><div class="line">            ud.spaceW = opt.space;</div><div class="line">            ud.spaceH = opt.space;</div><div class="line">        &#125;<span class="keyword">else</span>&#123;</div><div class="line">            ud.spaceW = opt.spaceW === <span class="literal">undefined</span> ? <span class="number">1</span> : opt.spaceW;</div><div class="line">            ud.spaceH = opt.spaceH === <span class="literal">undefined</span> ? <span class="number">1</span> : opt.spaceH;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// alphaX and Z values for setting offsets of grid</span></div><div class="line">        ud.alphaX = opt.alphaX;</div><div class="line">        ud.alphaZ = opt.alphaZ;</div><div class="line">        ud.tw = opt.tw;</div><div class="line">        ud.th = opt.th;</div><div class="line">        <span class="comment">// ud.dAdjust aka ud.aOpacity </span></div><div class="line">        ud.aOpacity = ud.dAdjust = opt.dAdjust === <span class="literal">undefined</span> ? <span class="number">1.0</span> : opt.dAdjust;</div><div class="line">        <span class="comment">// ud center, and ud.distMax</span></div><div class="line">        ud.center = <span class="keyword">new</span> THREE.Vector2(ud.tw / <span class="number">2</span>, ud.th / <span class="number">2</span>);</div><div class="line">        ud.distMax = ud.center.distanceTo( <span class="keyword">new</span> THREE.Vector2(<span class="number">0.5</span>, <span class="number">0.5</span>) );</div><div class="line">        <span class="keyword">var</span> i = <span class="number">0</span>, len = opt.tw * opt.th;</div><div class="line">        <span class="keyword">while</span>(i &lt; len)&#123;</div><div class="line">            <span class="keyword">var</span> objIndex = opt.objectIndices[i];</div><div class="line">            <span class="comment">// if we have a vailid index clone the source object of that index</span></div><div class="line">            <span class="keyword">if</span>(<span class="keyword">typeof</span> objIndex === <span class="string">'number'</span> &amp;&amp; objIndex &gt;= <span class="number">0</span> &amp;&amp; objIndex &lt;= opt.sourceObjects.length - <span class="number">1</span>)&#123;</div><div class="line">                <span class="keyword">var</span> obj = opt.cloner(opt, objIndex);</div><div class="line">                grid.add(obj);</div><div class="line">            &#125;<span class="keyword">else</span>&#123;</div><div class="line">                <span class="comment">// else push a blank object</span></div><div class="line">                grid.add(<span class="keyword">new</span> THREE.Object3D());</div><div class="line">            &#125;</div><div class="line">            i += <span class="number">1</span>;</div><div class="line">        &#125;;</div><div class="line">        api.update(grid);</div><div class="line">        <span class="keyword">return</span> grid;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">//******** **********</span></div><div class="line">    <span class="comment">//  SET / UPDATE GRID + HELPERS</span></div><div class="line">    <span class="comment">//******** **********</span></div><div class="line">    <span class="comment">// set grid to alphas helper</span></div><div class="line">    <span class="keyword">var</span> setGridToAlphas = <span class="function"><span class="keyword">function</span>(<span class="params">grid, objectIndex</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> ud = grid.userData;</div><div class="line">        <span class="keyword">var</span> obj = grid.children[objectIndex];</div><div class="line">        <span class="keyword">var</span> v_adjust = getAdjustedPos(grid, objectIndex);</div><div class="line">        <span class="comment">// use spacing</span></div><div class="line">        <span class="keyword">var</span> x = v_adjust.x * ud.spaceW;</div><div class="line">        <span class="keyword">var</span> z = v_adjust.y * ud.spaceH;</div><div class="line">        <span class="comment">// subtract so that objects are centered</span></div><div class="line">        x -= (ud.tw - <span class="number">1</span>) * ud.spaceW / <span class="number">2</span>;</div><div class="line">        z -= (ud.th - <span class="number">1</span>) * ud.spaceH / <span class="number">2</span>;</div><div class="line">        <span class="comment">// set position</span></div><div class="line">        obj.position.set(x, <span class="number">0</span>, z);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// set position</span></div><div class="line">    api.setPos = <span class="function"><span class="keyword">function</span>(<span class="params">grid, x, z</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> ud = grid.userData;</div><div class="line">        ud.alphaX = THREE.MathUtils.euclideanModulo(x, <span class="number">1</span>);</div><div class="line">        ud.alphaZ = THREE.MathUtils.euclideanModulo(z, <span class="number">1</span>);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// main update method</span></div><div class="line">    api.update = <span class="function"><span class="keyword">function</span>(<span class="params">grid</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> ud = grid.userData;</div><div class="line">        <span class="comment">// for all children</span></div><div class="line">        grid.children.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">obj, i</span>)</span>&#123;</div><div class="line">            <span class="comment">// set the position of all objects based on </span></div><div class="line">            <span class="comment">// the current state of alphaX and alphaY</span></div><div class="line">            setGridToAlphas(grid, i);</div><div class="line">            <span class="comment">// create objData object that will be used for all effects</span></div><div class="line">            <span class="keyword">var</span> objData = &#123; <span class="attr">i</span> : i &#125;;</div><div class="line">            objData.truePos = getTruePos(grid, objData.i );</div><div class="line">            objData.adjustPos = getAdjustedPos(grid, objData.i );</div><div class="line">            objData.pos = getPos(grid, objData.i);</div><div class="line">            <span class="comment">// d and da</span></div><div class="line">            <span class="keyword">var</span> v2 = <span class="keyword">new</span> THREE.Vector2(objData.adjustPos.x + <span class="number">0.5</span>, objData.adjustPos.y + <span class="number">0.5</span>),</div><div class="line">            d = objData.d = v2.distanceTo( ud.center );</div><div class="line">            <span class="keyword">var</span> da = d * ud.dAdjust;       </div><div class="line">            da = da &lt; <span class="number">0</span> ? <span class="number">0</span> : da;</div><div class="line">            da = da &gt; ud.distMax ? ud.distMax : da;</div><div class="line">            objData.da = da;</div><div class="line">            <span class="comment">// 'b' value</span></div><div class="line">            <span class="keyword">var</span> b = objData.da / ud.distMax;</div><div class="line">            b = <span class="number">1</span> - b;</div><div class="line">            objData.b = <span class="built_in">parseFloat</span>( b.toFixed(<span class="number">2</span>) );</div><div class="line">            <span class="comment">// apply all effects</span></div><div class="line">            ud.effects.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">effectKey</span>)</span>&#123;</div><div class="line">                <span class="keyword">var</span> effect = EFFECTS[effectKey];</div><div class="line">                <span class="keyword">if</span>(effect)&#123; </div><div class="line">                    effect(grid, obj, objData, obj.userData);</div><div class="line">                &#125;</div><div class="line">            &#125;);</div><div class="line">        &#125;);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">//******** **********</span></div><div class="line">    <span class="comment">//  LOAD PLUG-IN</span></div><div class="line">    <span class="comment">//******** **********</span></div><div class="line">    api.load = <span class="function"><span class="keyword">function</span>(<span class="params">plugObj</span>)</span>&#123;</div><div class="line">        <span class="comment">// load any effects given</span></div><div class="line">        <span class="keyword">if</span>(plugObj.EFFECTS)&#123;</div><div class="line">            <span class="built_in">Object</span>.keys( plugObj.EFFECTS ).forEach(<span class="function"><span class="keyword">function</span>(<span class="params">effectKey</span>)</span>&#123;</div><div class="line">                EFFECTS[effectKey] = plugObj.EFFECTS[effectKey];</div><div class="line">            &#125;);</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// return public API</span></div><div class="line">    <span class="keyword">return</span> api;</div><div class="line">&#125;());</div></pre></td></tr></table></figure>
<h3 id="2-2-Core-effects-plug-in"><a href="#2-2-Core-effects-plug-in" class="headerlink" title="2.2 - Core effects plug in"></a>2.2 - Core effects plug in</h3><p>Now that I have a plug in system for effects here I have the source code of the first effects plug in that I can use to load what was the built in effects of the first version. For now the state of the plug in object contains just one public key that is EFFECTS which in turn is an object of effect functions that I want to add to the object grid wrap module. I did things this way as I am thinking forward for the sake of additional future revisions in which I might want to load additional things beyond just that of effects for the object grid wrap module such as clone functions, and any other stuff that might end up being added along the way.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> setOpacity = <span class="function"><span class="keyword">function</span>(<span class="params">obj_root, alpha</span>)</span>&#123;</div><div class="line">        obj_root.traverse(<span class="function"><span class="keyword">function</span>(<span class="params">obj</span>)</span>&#123;</div><div class="line">            <span class="comment">// any object with a material</span></div><div class="line">            <span class="keyword">if</span>(obj.material)&#123;</div><div class="line">                <span class="comment">//obj.material.transparent = true;</span></div><div class="line">                <span class="comment">//obj.material.opacity = alpha;</span></div><div class="line">                <span class="keyword">if</span>(obj.material <span class="keyword">instanceof</span> <span class="built_in">Array</span>)&#123;</div><div class="line">                    obj.material.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">m</span>)</span>&#123;</div><div class="line">                        m.transparent = <span class="literal">true</span>;</div><div class="line">                        m.opacity = alpha;</div><div class="line">                    &#125;);</div><div class="line">                &#125;<span class="keyword">else</span>&#123;</div><div class="line">                    obj.material.transparent = <span class="literal">true</span>;</div><div class="line">                    obj.material.opacity = alpha;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">    &#125;;</div><div class="line">    ObjectGridWrap.load( &#123;</div><div class="line">        <span class="attr">EFFECTS</span> : &#123;</div><div class="line">            <span class="comment">// effect method that will set opacity of object based on distance from center</span></div><div class="line">            opacity : <span class="function"><span class="keyword">function</span>(<span class="params">grid, obj, objData</span>)</span>&#123;</div><div class="line">                setOpacity(obj, objData.b);</div><div class="line">            &#125;,</div><div class="line">            <span class="comment">// set scale based on distance from center</span></div><div class="line">            scale : <span class="function"><span class="keyword">function</span>(<span class="params">grid, obj, objData</span>)</span>&#123;</div><div class="line">                obj.scale.set(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>).multiplyScalar( objData.b );</div><div class="line">            &#125;,</div><div class="line">            <span class="comment">// rotationA demo effect</span></div><div class="line">            rotationA : <span class="function"><span class="keyword">function</span>(<span class="params">grid, obj, objData</span>)</span>&#123;</div><div class="line">                <span class="keyword">var</span> y = objData.b * <span class="built_in">Math</span>.PI * <span class="number">4</span>;</div><div class="line">                obj.rotation.set(<span class="number">0</span>, y, <span class="number">0</span>);</div><div class="line">            &#125;,</div><div class="line">            <span class="comment">// rotationB demo effect</span></div><div class="line">            rotationB : <span class="function"><span class="keyword">function</span>(<span class="params">grid, obj, objData</span>)</span>&#123;</div><div class="line">                obj.rotation.set(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">            &#125;,</div><div class="line">            <span class="comment">// positionA demo effect</span></div><div class="line">            positionA : <span class="function"><span class="keyword">function</span>(<span class="params">grid, obj, objData</span>)</span>&#123;</div><div class="line">                <span class="keyword">var</span> ud = grid.userData;</div><div class="line">                obj.position.y = ud.tw / <span class="number">2</span> * objData.b;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125; );</div><div class="line">&#125;());</div></pre></td></tr></table></figure>
<p>I can not say that I am happy with the opacity effect here, which is one of the major reasons what I want to start doing this as I am sure that I will want to make at least one if not more additional opacity effects to say the least.</p>
<h3 id="2-3-Demo-of-r2-of-object-grid-wrap"><a href="#2-3-Demo-of-r2-of-object-grid-wrap" class="headerlink" title="2.3 - Demo of r2 of object grid wrap"></a>2.3 - Demo of r2 of object grid wrap</h3><p>For the sake of this post I made a demo of r2 of object grid wrap that makes use of some of the effects functions of the core effects plug in. All seems to work well with this revision of the module thus far, in order to gain a better sense of what needs to change with any and all future revisions I will of course need to just keep making more projects with this.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="keyword">var</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">scene.background = <span class="keyword">new</span> THREE.Color(<span class="string">'#000000'</span>);</div><div class="line"><span class="comment">//scene.add( new THREE.GridHelper(10, 10, 0x00ff00, 0xffffff) )</span></div><div class="line"><span class="keyword">var</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">60</span>, <span class="number">320</span> / <span class="number">240</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line">camera.position.set(<span class="number">-10</span>, <span class="number">5</span>, <span class="number">0</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line"><span class="keyword">var</span> renderer = <span class="keyword">new</span> THREE.WebGLRenderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>);</div><div class="line"><span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>).appendChild(renderer.domElement);</div><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="comment">// LIGHT</span></div><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="keyword">var</span> dl = <span class="keyword">new</span> THREE.DirectionalLight(<span class="number">0xffffff</span>, <span class="number">1</span>);</div><div class="line">dl.position.set(<span class="number">-2</span>, <span class="number">1</span>, <span class="number">3</span>);</div><div class="line">scene.add(dl);</div><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="comment">// GRID OPTIONS</span></div><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="keyword">var</span> tw = <span class="number">9</span>,</div><div class="line">th = <span class="number">9</span>,</div><div class="line">space = <span class="number">1.5</span>;</div><div class="line"><span class="comment">// source objects</span></div><div class="line"><span class="keyword">var</span> mkBox = <span class="function"><span class="keyword">function</span>(<span class="params">color, h</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> box = <span class="keyword">new</span> THREE.Group();</div><div class="line">    <span class="keyword">var</span> a = space * <span class="number">0.95</span>;</div><div class="line">    <span class="keyword">var</span> mesh = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">        <span class="keyword">new</span> THREE.BoxGeometry( a, h, a),</div><div class="line">        <span class="keyword">new</span> THREE.MeshStandardMaterial(&#123; <span class="attr">color</span>: color&#125;) );</div><div class="line">    mesh.position.y = h / <span class="number">2</span>;</div><div class="line">    <span class="comment">//mesh.rotation.y = Math.PI / 180 * 20 * -1;</span></div><div class="line">    <span class="keyword">var</span> ground = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">        <span class="keyword">new</span> THREE.BoxGeometry( space, <span class="number">0.1</span>, space),</div><div class="line">        <span class="keyword">new</span> THREE.MeshStandardMaterial(&#123; <span class="attr">color</span>: <span class="number">0xffffff</span>&#125;) );</div><div class="line">    ground.position.y = <span class="number">0.05</span> * <span class="number">-1</span>;</div><div class="line">    box.add(mesh)  </div><div class="line">    box.add(ground);</div><div class="line">    <span class="keyword">return</span> box;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> array_source_objects = [</div><div class="line">    mkBox(<span class="number">0x00ffff</span>, <span class="number">0.25</span>), <span class="comment">//new THREE.Object3D(),</span></div><div class="line">    mkBox(<span class="number">0xff0000</span>, <span class="number">10.00</span>),</div><div class="line">    mkBox(<span class="number">0xffff00</span>, <span class="number">4.50</span>),</div><div class="line">    mkBox(<span class="number">0x00ff00</span>, <span class="number">1.50</span>)</div><div class="line">];</div><div class="line"> </div><div class="line"><span class="keyword">var</span> array_oi = [</div><div class="line"><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">0</span>,<span class="number">0</span>,</div><div class="line"><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">0</span>,<span class="number">0</span>,</div><div class="line"><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">0</span>,<span class="number">0</span>,</div><div class="line"><span class="number">0</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">0</span>,<span class="number">0</span>,</div><div class="line"><span class="number">0</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">0</span>,<span class="number">0</span>,</div><div class="line"><span class="number">3</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">0</span>,</div><div class="line"><span class="number">0</span>,<span class="number">3</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">0</span>,</div><div class="line"><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">0</span>,</div><div class="line"><span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span></div><div class="line">]</div><div class="line"> </div><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="comment">// CREATE GRID</span></div><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="keyword">var</span> grid = ObjectGridWrap.create(&#123;</div><div class="line">    <span class="attr">spaceW</span>: <span class="number">4</span>,</div><div class="line">    <span class="attr">spaceH</span>: space,</div><div class="line">    <span class="attr">tw</span>: tw,</div><div class="line">    <span class="attr">th</span>: th,</div><div class="line">    <span class="attr">dAdjust</span>: <span class="number">1.25</span>,</div><div class="line">    <span class="attr">effects</span>: [<span class="string">'opacity'</span>, <span class="string">'scale'</span>, <span class="string">'positionA'</span>, <span class="string">'rotationA'</span>],</div><div class="line">    <span class="attr">sourceObjects</span>: array_source_objects,</div><div class="line">    <span class="attr">objectIndices</span>: array_oi</div><div class="line">&#125;);</div><div class="line">scene.add(grid);</div><div class="line"> </div><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="comment">// LOOP</span></div><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="keyword">var</span> controls = <span class="keyword">new</span> THREE.OrbitControls(camera, renderer.domElement);</div><div class="line"><span class="keyword">var</span> fps = <span class="number">30</span>,</div><div class="line">lt = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">frame = <span class="number">0</span>,</div><div class="line">maxFrame = <span class="number">300</span>;</div><div class="line"><span class="keyword">var</span> loop = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">    per = frame / maxFrame,</div><div class="line">    bias = <span class="number">1</span> - <span class="built_in">Math</span>.abs(<span class="number">0.5</span> - per) / <span class="number">0.5</span>,</div><div class="line">    secs = (now - lt) / <span class="number">1000</span>,</div><div class="line">    ud = grid.userData;</div><div class="line">    requestAnimationFrame(loop);</div><div class="line">    <span class="keyword">if</span>(secs &gt; <span class="number">1</span> / fps)&#123;</div><div class="line">        <span class="comment">// set position of the grid</span></div><div class="line">        ObjectGridWrap.setPos(grid, ( <span class="number">1</span> - per ) * <span class="number">2</span>, <span class="built_in">Math</span>.cos( <span class="built_in">Math</span>.PI * bias ) * <span class="number">0.25</span> );</div><div class="line">        <span class="comment">// update grid by current alphas and effects</span></div><div class="line">        ObjectGridWrap.update(grid);</div><div class="line">        renderer.render(scene, camera);</div><div class="line">        frame += fps * secs;</div><div class="line">        frame %= maxFrame;</div><div class="line">        lt = now;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">loop();</div></pre></td></tr></table></figure>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>So far so good with this object grid wrap module, I have a basic idea of what I wanted in mind and that basic idea is now up and running. At this point I might want to make yet another revision at some point, but in order to really be sure of what is needed in terms of new features and what needs to be fixed I will want to make at least a few if not more projects that make use of this module.<br> I have a bad habit of making some projects far more complex than they need to be, and the general idea with this is working so I want to maybe slow down a little and focus more so on making additional examples with this module.</p>
<p>With that said as of this latest edit of this post I have made one new additional example in which I am working on top of this object grid wrap module. If you would like to check this out it is my <a href="/2022/07/15/threejs-examples-object-grid-wrap-land">object grid wrap land module example post</a>.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dustinpfister.github.io/2022/05/20/threejs-examples-object-grid-wrap/" data-id="clkyg76ab027o0gv1mbakg9c5" class="article-share-link">Share</a>
      
        <a href="https://dustinpfister.github.io/2022/05/20/threejs-examples-object-grid-wrap/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/three-js/">three.js</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2022/05/24/threejs-examples-weird-walk-three/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Weird Walk Three threejs example
        
      </div>
    </a>
  
  
    <a href="/2022/05/17/threejs-vector3-lerp/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Linear lerping with the Vector3 lerp method</div>
    </a>
  
</nav>

  
</article>



<section id="comments">

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://dustinpfister.github.io/2022/05/20/threejs-examples-object-grid-wrap/index.html';
    this.page.identifier = '988';
    this.page.title = 'Object grid wrap threejs javaScript module example';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://dustinpfister-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular/">angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/api/">api</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/backbone/">backbone</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/discovery/">discovery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/electronjs/">electronjs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/games/">games</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/grunt/">grunt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hapi/">hapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/heroku/">heroku</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jquery/">jquery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lodash/">lodash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node-js/">node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/phaser/">phaser</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/statistics/">statistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/three-js/">three.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backbone/">backbone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/corejs/">corejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deterministic/">deterministic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discovery/">discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejs/">ejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/electronjs/">electronjs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hapi/">hapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jimp/">jimp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js13k/">js13k</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/structured-data/">structured-data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/themes/">themes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three-js/">three.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JSON/" style="font-size: 12.38px;">JSON</a> <a href="/tags/SEO/" style="font-size: 10.48px;">SEO</a> <a href="/tags/angular/" style="font-size: 13.33px;">angular</a> <a href="/tags/animation/" style="font-size: 11.9px;">animation</a> <a href="/tags/automation/" style="font-size: 11.9px;">automation</a> <a href="/tags/backbone/" style="font-size: 12.38px;">backbone</a> <a href="/tags/blog/" style="font-size: 15.71px;">blog</a> <a href="/tags/canvas/" style="font-size: 18.57px;">canvas</a> <a href="/tags/corejs/" style="font-size: 12.86px;">corejs</a> <a href="/tags/deterministic/" style="font-size: 10px;">deterministic</a> <a href="/tags/discovery/" style="font-size: 10.95px;">discovery</a> <a href="/tags/ejs/" style="font-size: 11.43px;">ejs</a> <a href="/tags/electronjs/" style="font-size: 13.81px;">electronjs</a> <a href="/tags/express/" style="font-size: 17.14px;">express</a> <a href="/tags/games/" style="font-size: 17.62px;">games</a> <a href="/tags/git/" style="font-size: 13.81px;">git</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hapi/" style="font-size: 15.24px;">hapi</a> <a href="/tags/heroku/" style="font-size: 11.9px;">heroku</a> <a href="/tags/hexo/" style="font-size: 14.76px;">hexo</a> <a href="/tags/jimp/" style="font-size: 10.48px;">jimp</a> <a href="/tags/jquery/" style="font-size: 11.43px;">jquery</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/js13k/" style="font-size: 10px;">js13k</a> <a href="/tags/linux/" style="font-size: 18.1px;">linux</a> <a href="/tags/lodash/" style="font-size: 18.57px;">lodash</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mongodb/" style="font-size: 14.76px;">mongodb</a> <a href="/tags/node-js/" style="font-size: 19.52px;">node.js</a> <a href="/tags/phaser/" style="font-size: 18.1px;">phaser</a> <a href="/tags/python/" style="font-size: 16.19px;">python</a> <a href="/tags/statistics/" style="font-size: 14.29px;">statistics</a> <a href="/tags/structured-data/" style="font-size: 10px;">structured-data</a> <a href="/tags/themes/" style="font-size: 10px;">themes</a> <a href="/tags/three-js/" style="font-size: 19.05px;">three.js</a> <a href="/tags/vuejs/" style="font-size: 16.67px;">vuejs</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/08/">August 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">July 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/06/">June 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">May 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">April 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/08/02/threejs-matrix4/">Matrix4 Objects in threejs</a>
          </li>
        
          <li>
            <a href="/2023/08/01/linux-folders/">Linux Root Folders</a>
          </li>
        
          <li>
            <a href="/2023/07/27/threejs-materials-loader/">The Matheral Loader in threejs</a>
          </li>
        
          <li>
            <a href="/2023/07/25/linux-lsb-release/">Linux System Base Release command lsb_release for Distribution info</a>
          </li>
        
          <li>
            <a href="/2023/07/19/threejs-object-loader/">The Object Loader in threejs</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2023 Dustin Pfister<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      <br>
      <a href="/privacy.html" target="_blank">Privacy Policy</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/2021/02/19/threejs-examples/" class="mobile-nav-link">ThreeJS</a>
  
    <a href="/2020/03/23/canvas-example/" class="mobile-nav-link">Canvas</a>
  
    <a href="https://www.youtube.com/user/javaweaver" class="mobile-nav-link">Youtube</a>
  
    <a href="https://github.com/dustinpfister" class="mobile-nav-link">Github</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'dustinpfister-github-io';
  
  var disqus_url = 'https://dustinpfister.github.io/2022/05/20/threejs-examples-object-grid-wrap/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


  </div>
</body>
</html>