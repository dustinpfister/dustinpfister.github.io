<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <!-- disqus image-->
  <meta property="og:image" content="https://dustinpfister.github.io/css/images/banner.jpg">
  
  <title>User Data File Electronjs application example | Dustin John Pfister at github pages</title>
  
  <!-- no index tag or blank here -->
  
  
  <link rel="canonical" href="https://dustinpfister.github.io/2022/08/19/electronjs-example-user-data-file/" />

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="While working on my electronjs application that I use to make videos for my you tube channel, and thus also video embeds for my blog posts on threejs I ran into a situation in which I needed to share">
<meta property="og:type" content="article">
<meta property="og:title" content="User Data File Electronjs application example">
<meta property="og:url" content="https://dustinpfister.github.io/2022/08/19/electronjs-example-user-data-file/index.html">
<meta property="og:site_name" content="Dustin John Pfister at github pages">
<meta property="og:description" content="While working on my electronjs application that I use to make videos for my you tube channel, and thus also video embeds for my blog posts on threejs I ran into a situation in which I needed to share">
<meta property="og:updated_time" content="2022-08-19T15:41:59.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="User Data File Electronjs application example">
<meta name="twitter:description" content="While working on my electronjs application that I use to make videos for my you tube channel, and thus also video embeds for my blog posts on threejs I ran into a situation in which I needed to share">
  
    <link rel="alternate" href="/atom.xml" title="Dustin John Pfister at github pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <!-- Google Analytics -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y8XLNG6JRW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Y8XLNG6JRW');
</script>
<!-- End Google Analytics -->


  <!-- structured data set in structured-data.ejs -->
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "email": "distin.pfister@gmail.com",
    "givenName": "Dustin",
    "familyName" : "Pfister",
    "additionalName": "John",
    "name": "Dustin John Pfister",
    "gender": "Male"
}
</script>
<!-- end structured data -->
  
  <!-- adsense if indexed -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1658284027672315",
    enable_page_level_ads: true
  });
  </script>
  
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <!-- added the image-->
        <div class="selfimage"></div>
        <!--<a href="/" id="logo">Dustin John Pfister at github pages</a>-->
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/2021/02/19/threejs-examples/">ThreeJS</a>
        
          <a class="main-nav-link" href="/2020/03/23/canvas-example/">Canvas</a>
        
          <a class="main-nav-link" href="https://www.youtube.com/user/javaweaver">Youtube</a>
        
          <a class="main-nav-link" href="https://github.com/dustinpfister">Github</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <!-- removed rss link-->
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dustinpfister.github.io"></form>
      </div>
    </div>
  </div>
</header>

<!-- adding my canvas thing ( Dustin ) -->
<script src="/js/the_matrix.js"></script>
      <div class="outer">
        <section id="main"><article itemscope itemtype="http://schema.org/Blog" id="post-electronjs-example-user-data-file" class="article article-type-post" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/08/19/electronjs-example-user-data-file/" class="article-date"> Published:
  <time datetime="2022-08-19T11:59:00.000Z" itemprop="datePublished">2022-08-19</time>
</a>

    <!-- other info (dustin) -->
    <a href="/2022/08/19/electronjs-example-user-data-file/" class="article-date"> Modified:
  <time datetime="2022-08-19T15:41:59.000Z" itemprop="dateModified">2022-08-19</time>
</a>

    <span class="article-date">V1.14</span>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/electronjs/">electronjs</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      User Data File Electronjs application example
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="text">
      
        <p>While working on my <a href="https://www.electronjs.org/" target="_blank" rel="external">electronjs</a> application that I use to make videos for my you tube channel, and thus also video embeds for my blog posts on threejs I ran into a situation in which I needed to share state data between the renderer and main process. The way of typically doing this is a little convoluted as it requires <a href="https://en.wikipedia.org/wiki/Inter-process_communication" target="_blank" rel="external">IPC</a> messaging between the render and main process my way of using the send methods and defining event handers with the on methods of the <a href="https://www.electronjs.org/docs/latest/api/ipc-main" target="_blank" rel="external">IPC Main</a> and <a href="https://www.electronjs.org/docs/latest/api/ipc-renderer" target="_blank" rel="external">IPC Renderer</a> classes.</p>
<p>So then for the most part the way that this needs to happen is just my way of IPC and for many situations that might be the best way to go about doing this. However for some things I might want to create a user data folder in the proper standard location and use that as a means to store user data that I can access from the main or render process.</p>
<a id="more"></a>
<h2 id="The-user-data-file-elecronjs-example-and-what-to-know-first"><a href="#The-user-data-file-elecronjs-example-and-what-to-know-first" class="headerlink" title="The user data file elecronjs example and what to know first"></a>The user data file elecronjs example and what to know first</h2><p>This is a post on an electronjs application in which I am just creating and viewing a simple user data file that is to be found in the current user folder of the operating system in which the application is running. In Windows and macOS systems this would be the Users folder and on Linux systems there is the home folder. Although I will be keeping this example fairly simple this is still not really any kind of <a href="/2022/02/07/electronjs-hello-world/">hello world or getting started type example with electronjs</a>. There is also a lot to know about <a href="/2017/04/05/nodejs-helloworld/">nodejs</a>, and client side <a href="/2018/11/27/js-getting-started/">javaScipt</a> as well in order to get into making applications with electron that I will not be getting into detail here. However I do often open these posts with a few things that you might want to read up on that are related to the over all content of this post.</p>
<h3 id="The-homedir-method-of-the-os-module-in-nodejs-and-native-nodejs-features"><a href="#The-homedir-method-of-the-os-module-in-nodejs-and-native-nodejs-features" class="headerlink" title="The homedir method of the os module in nodejs, and native nodejs features"></a>The homedir method of the os module in nodejs, and native nodejs features</h3><p>In this example I am using the <a href="/2020/05/20/nodejs-os-homedir/">home dir method of the os module</a> in nodejs as a way to know where the starting point should be to park user data and any and all application data on a user by user basis. I am also using a lot of other native nodejs modules and features with the <a href="/2017/12/27/nodejs-paths/">path module</a>, as well as the <a href="/2018/02/08/nodejs-filesystem/">file system module</a> and so forth.</p>
<h3 id="Full-Source-code-on-Github"><a href="#Full-Source-code-on-Github" class="headerlink" title="Full Source code on Github"></a>Full Source code on Github</h3><p>The full source code for this election example, as well as many others can be found in my <a href="https://github.com/dustinpfister/examples-electronjs/tree/master/for_post/electronjs-example-user-data-file" target="_blank" rel="external">electronjs example Github repository</a>.</p>
<h2 id="1-The-user-data-module"><a href="#1-The-user-data-module" class="headerlink" title="1 - The user data module"></a>1 - The user data module</h2><p>I will want to get and set values from the main process as well as from the renderer process as well. So then I thought it would be a good idea to make a stand alone javaScript module that I can then use from both the main and preload files to get and set data in the user file.</p>
<p>In this user data module then I have a number of helper functions that I am using to check if a user data folder is there to begin with, and of so create it. In other worlds I want to do something that is like the <a href="/2021/06/30/linux-mkdir">mkdir -p command in Linux</a> to make sure that a folder in which I want to park data for the current user is there to begin with. </p>
<p>In older versions of nodejs this was a little involved and required the use of an <a href="/2017/11/14/nodejs-mkdirp/">npm package like that of mkdirp</a>. However in newer versions of node it would seem that native support for recursive creation of folders works well with just the native fs.mkdir method of the file system module in nodejs.</p>
<p>On top of having a helper function to create the user data folder I have another function that will check if a user data file is in the folder or not. In the event that the file is not there it will create a new one using hard coded settings in the main javaScript file.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// user-data.js - common user data methods to use in main.js and preload.js</span></div><div class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</div><div class="line"><span class="keyword">const</span> os = <span class="built_in">require</span>(<span class="string">'os'</span>);</div><div class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</div><div class="line"><span class="keyword">const</span> promisify = <span class="built_in">require</span>(<span class="string">'util'</span>).promisify;</div><div class="line"><span class="keyword">const</span> readFile = promisify(fs.readFile);</div><div class="line"><span class="keyword">const</span> writeFile = promisify(fs.writeFile);</div><div class="line"> </div><div class="line"><span class="comment">// dirs</span></div><div class="line"><span class="keyword">const</span> dir_home = os.homedir();</div><div class="line"><span class="keyword">const</span> dir_userdata = path.join(dir_home, <span class="string">'.userDataApp'</span>);</div><div class="line"><span class="keyword">const</span> uri_data = path.join(dir_userdata, <span class="string">'data.json'</span>);</div><div class="line"> </div><div class="line"><span class="comment">// hard coded default data file state</span></div><div class="line"><span class="keyword">const</span> data_default = &#123;</div><div class="line">    <span class="attr">dir_open_start</span>: dir_home, <span class="comment">// dir to look for files when doing an open for the first time</span></div><div class="line">    file_name: <span class="literal">null</span>            <span class="comment">// no file by default</span></div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// create user data folder</span></div><div class="line"><span class="keyword">const</span> createUserDataFolder = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</div><div class="line">        fs.mkdir(dir_userdata, &#123; <span class="attr">recursive</span>: <span class="literal">true</span> &#125;, (err) =&gt; &#123;</div><div class="line">            <span class="keyword">if</span> (err)&#123;</div><div class="line">                reject(err);</div><div class="line">            &#125;<span class="keyword">else</span>&#123;</div><div class="line">                <span class="built_in">console</span>.log(<span class="string">'user data folder check went well'</span>);</div><div class="line">                resolve();</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">    &#125;);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// create the data file if it is not there</span></div><div class="line"><span class="keyword">const</span> createUserDataFile = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(uri_data);</div><div class="line">    <span class="keyword">return</span> readFile(uri_data, <span class="string">'utf8'</span>)</div><div class="line">    .then(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'looks like we have a user data file, so no need to create a new one'</span>);</div><div class="line">        <span class="keyword">return</span> <span class="built_in">Promise</span>.resolve();</div><div class="line">    &#125;)</div><div class="line">    <span class="comment">// error reading file</span></div><div class="line">    .catch(<span class="function">(<span class="params">e</span>)=&gt;</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'error reading user data file, maybe it is not there...'</span>);</div><div class="line">        <span class="keyword">if</span>(e.code === <span class="string">'ENOENT'</span>)&#123;</div><div class="line">            <span class="built_in">console</span>.log(<span class="string">'error code is ENOENT, so wrting a new one from hard coded data.'</span>);</div><div class="line">            <span class="keyword">return</span> writeFile(uri_data, <span class="built_in">JSON</span>.stringify(data_default), <span class="string">'utf8'</span> )</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// some other error happened that has not been handled here</span></div><div class="line">        <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(e);</div><div class="line">    &#125;);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// public api</span></div><div class="line"><span class="keyword">var</span> api = <span class="built_in">module</span>.exports = &#123;&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// create any missinbg user data files and folders, shuld be called each time main.js starts</span></div><div class="line">api.create = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> createUserDataFolder()</div><div class="line">    .then(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</div><div class="line">    <span class="comment">// create the user data file if it is not there</span></div><div class="line">        <span class="keyword">return</span> createUserDataFile();</div><div class="line">    &#125;);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// get the user data</span></div><div class="line">api.get = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">return</span> readFile(uri_data, <span class="string">'utf8'</span>)</div><div class="line">    .then(<span class="function">(<span class="params">jText</span>)=&gt;</span>&#123;</div><div class="line">        <span class="keyword">try</span>&#123;</div><div class="line">            <span class="keyword">return</span> <span class="built_in">JSON</span>.parse(jText);</div><div class="line">        &#125;<span class="keyword">catch</span>(e)&#123;</div><div class="line">            <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(e);</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// set a user data key</span></div><div class="line">api.set = <span class="function">(<span class="params">key, value</span>) =&gt;</span> &#123;</div><div class="line">    <span class="comment">// first get curent set of data</span></div><div class="line">    <span class="keyword">return</span> api.get()</div><div class="line">    .then(<span class="function">(<span class="params">obj</span>)=&gt;</span>&#123;</div><div class="line">        <span class="comment">// update key and write new data</span></div><div class="line">        obj[key] = value;</div><div class="line">        <span class="keyword">return</span> writeFile(uri_data, <span class="built_in">JSON</span>.stringify(obj));</div><div class="line">    &#125;);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// read file current file based on user data</span></div><div class="line">api.readFile = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">return</span> api.get()</div><div class="line">    .then(<span class="function">(<span class="params">obj</span>)=&gt;</span>&#123;</div><div class="line">       <span class="keyword">if</span>(obj.file_name)&#123;</div><div class="line">          <span class="keyword">return</span> readFile( path.join(obj.dir_open_start, obj.file_name), <span class="string">'utf8'</span> );</div><div class="line">       &#125;<span class="keyword">else</span>&#123;</div><div class="line">          <span class="keyword">return</span> <span class="built_in">Promise</span>.reject( <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'file name is null'</span>) )</div><div class="line">       &#125;</div><div class="line">    &#125;);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// save given text to file with current settings</span></div><div class="line">api.saveFile = <span class="function">(<span class="params">text</span>) =&gt;</span> &#123;</div><div class="line">    text = text || <span class="string">''</span>;</div><div class="line">    <span class="keyword">return</span> api.get()</div><div class="line">    .then(<span class="function">(<span class="params">obj</span>)=&gt;</span>&#123;</div><div class="line">       <span class="keyword">if</span>(obj.file_name)&#123;</div><div class="line">          <span class="keyword">return</span> writeFile( path.join(obj.dir_open_start, obj.file_name), text, <span class="string">'utf8'</span> );</div><div class="line">       &#125;<span class="keyword">else</span>&#123;</div><div class="line">          <span class="keyword">return</span> <span class="built_in">Promise</span>.reject( <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'file name is null'</span>) )</div><div class="line">       &#125;</div><div class="line">    &#125;);</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="2-The-main-javaScript-file"><a href="#2-The-main-javaScript-file" class="headerlink" title="2 - The main javaScript file"></a>2 - The main javaScript file</h2><p>In my main javaScript file then I use the create method of the user data module to make sure that the user data folder is there. If all goes well with that I start the application as usual by crating the main browser window.</p>
<p>When it comes to the menu that I am using for this I am using the get method of the user data module to get what the start folder value should be from the user data. Once I have that I can then use that for the default path property of the show open dialog and show save dialog of the <a href="https://www.electronjs.org/docs/latest/api/dialog" target="_blank" rel="external">dialog module</a>.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// load app and BrowserWindow</span></div><div class="line"><span class="keyword">const</span> &#123; app, dialog, Menu, BrowserWindow&#125; = <span class="built_in">require</span>(<span class="string">'electron'</span>);</div><div class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</div><div class="line"><span class="comment">// using user-data.js module for main.js and preload.js</span></div><div class="line"><span class="keyword">const</span> userData = <span class="built_in">require</span>(path.join(__dirname, <span class="string">'user-data.js'</span>));</div><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="comment">// CREATE MAIN WINDOW FUNCTION</span></div><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="keyword">const</span> createMainWindow = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> mainWindow = <span class="keyword">new</span> BrowserWindow(&#123;</div><div class="line">            <span class="attr">width</span>: <span class="number">800</span>,</div><div class="line">            <span class="attr">height</span>: <span class="number">600</span>,</div><div class="line">            <span class="attr">backgroundColor</span>: <span class="string">'#008888'</span>,</div><div class="line">            <span class="attr">webPreferences</span>: &#123;</div><div class="line">                <span class="attr">contextIsolation</span>: <span class="literal">true</span>,</div><div class="line">                <span class="attr">preload</span>: path.resolve( __dirname, <span class="string">'preload.js'</span>)</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">    <span class="comment">// load the html file for the main window</span></div><div class="line">    mainWindow.loadFile(<span class="string">'html/window_main.html'</span>);</div><div class="line">    <span class="comment">// Open the DevTools for debugging</span></div><div class="line">    mainWindow.webContents.openDevTools()</div><div class="line">    <span class="comment">// menu</span></div><div class="line">    <span class="keyword">const</span> menu = Menu.buildFromTemplate(MainMenuTemplate);</div><div class="line">    mainWindow.setMenu(menu)</div><div class="line">    <span class="keyword">return</span> mainWindow;</div><div class="line">&#125;;</div><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="comment">// MENU</span></div><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="keyword">const</span> isMac = process.platform === <span class="string">'darwin'</span>;</div><div class="line"><span class="comment">// The main menu for the main window</span></div><div class="line"><span class="keyword">const</span> MainMenuTemplate = [</div><div class="line">    &#123;</div><div class="line">        <span class="attr">label</span>: <span class="string">'File'</span>,</div><div class="line">        <span class="attr">submenu</span>: [</div><div class="line">            isMac ? &#123; <span class="attr">role</span>: <span class="string">'close'</span> &#125;: &#123; <span class="attr">role</span>: <span class="string">'quit'</span> &#125;,</div><div class="line">            <span class="comment">// OPEN A FILE</span></div><div class="line">            &#123;</div><div class="line">                <span class="attr">label</span>: <span class="string">'Open'</span>,</div><div class="line">                <span class="attr">click</span>: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">                    <span class="keyword">const</span> mainWindow = BrowserWindow.fromId(<span class="number">1</span>);</div><div class="line">                    <span class="comment">// get user data, and use current value for</span></div><div class="line">                    <span class="comment">// dir_open_start as defaultPath for showOpenDialog</span></div><div class="line">                    userData.get()</div><div class="line">                    .then(<span class="function">(<span class="params">uDat</span>)=&gt;</span>&#123;</div><div class="line">                        <span class="keyword">return</span> dialog.showOpenDialog(BrowserWindow.fromId(<span class="number">1</span>), &#123;</div><div class="line">                            <span class="attr">defaultPath</span>: uDat.dir_open_start,</div><div class="line">                            <span class="attr">properties</span>: [<span class="string">'openFile'</span>]</div><div class="line">                        &#125;)</div><div class="line">                    &#125;)</div><div class="line">                   .then(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</div><div class="line">                        <span class="comment">// only fire fileOpen event for renderer if not canceled</span></div><div class="line">                        <span class="keyword">if</span>(!result.canceled)&#123;</div><div class="line">                            mainWindow.webContents.send(<span class="string">'fileOpen'</span>, result);</div><div class="line">                        &#125;</div><div class="line">                    &#125;).catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</div><div class="line">                        <span class="comment">// error</span></div><div class="line">                        <span class="built_in">console</span>.warn(err.message);</div><div class="line">                    &#125;);</div><div class="line">                &#125;</div><div class="line">            &#125;,</div><div class="line">            <span class="comment">// SAVE A FILE</span></div><div class="line">            &#123;</div><div class="line">                <span class="attr">label</span>: <span class="string">'Save As'</span>,</div><div class="line">                <span class="attr">click</span>: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">                    <span class="keyword">const</span> mainWindow = BrowserWindow.fromId(<span class="number">1</span>);</div><div class="line">                    userData.get()</div><div class="line">                    .then(<span class="function">(<span class="params">uDat</span>)=&gt;</span>&#123;</div><div class="line">                        <span class="keyword">return</span> dialog.showSaveDialog(BrowserWindow.fromId(<span class="number">1</span>), &#123;</div><div class="line">                            <span class="attr">defaultPath</span>: uDat.dir_open_start,</div><div class="line">                            <span class="attr">properties</span>: [<span class="string">'showHiddenFiles'</span>]</div><div class="line">                        &#125;)</div><div class="line">                    &#125;)</div><div class="line">                   .then(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</div><div class="line">                        <span class="comment">// only fire fileSave event for renderer if not canceled</span></div><div class="line">                        <span class="keyword">if</span>(!result.canceled)&#123;</div><div class="line">                            mainWindow.webContents.send(<span class="string">'fileSave'</span>, result);</div><div class="line">                        &#125;</div><div class="line">                    &#125;).catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</div><div class="line">                        <span class="comment">// error</span></div><div class="line">                        <span class="built_in">console</span>.warn(err.message);</div><div class="line">                    &#125;);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        ]</div><div class="line">    &#125;</div><div class="line">];</div><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="comment">// APP EVENTS</span></div><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="comment">// the 'ready' event</span></div><div class="line">app.whenReady().then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="comment">// do a create check of the user data folder</span></div><div class="line">    userData.create()</div><div class="line">    .then(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'ready to create the main window now, and start the rest of the app.'</span>);</div><div class="line">        createMainWindow();</div><div class="line">        app.on(<span class="string">'activate'</span>, () =&gt; &#123;</div><div class="line">            <span class="keyword">if</span> (BrowserWindow.getAllWindows().length === <span class="number">0</span>)&#123;</div><div class="line">                createMainWindow()</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">    &#125;)</div><div class="line">    <span class="comment">// something weird happened creating user data folder in home folder</span></div><div class="line">    .catch(<span class="function">(<span class="params">e</span>)=&gt;</span>&#123;</div><div class="line">        <span class="comment">// not sure what to handle, can do the usual log to standard error at least though</span></div><div class="line">        <span class="built_in">console</span>.warn(e.message);</div><div class="line">    &#125;);</div><div class="line">&#125;);</div><div class="line"><span class="comment">// the 'window-all-closed' is also a kind of on quit event</span></div><div class="line">app.on(<span class="string">'window-all-closed'</span>,  () =&gt; &#123;</div><div class="line">    <span class="keyword">if</span> (process.platform !== <span class="string">'darwin'</span>)</div><div class="line">        app.quit()</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="3-The-preload-file"><a href="#3-The-preload-file" class="headerlink" title="3 - The preload file"></a>3 - The preload file</h2><p>I will want to have a way to get at the state of the user data file from my front end code, so in my preload javaScript file I have a get user data method that will read the current state of this file.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// preload with contextIsolation enabled</span></div><div class="line"><span class="keyword">const</span> &#123; contextBridge, ipcRenderer &#125; = <span class="built_in">require</span>(<span class="string">'electron'</span>);</div><div class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</div><div class="line"><span class="comment">// using user-data.js module for main.js and preload.js</span></div><div class="line"><span class="keyword">const</span> userData = <span class="built_in">require</span>(path.join(__dirname, <span class="string">'user-data.js'</span>));</div><div class="line"> </div><div class="line"><span class="keyword">var</span> UserDataApp = &#123;&#125;;</div><div class="line"><span class="comment">// get and set user data helpers</span></div><div class="line">UserDataApp.getUserData = userData.get;</div><div class="line">UserDataApp.setUserData = userData.set;</div><div class="line">UserDataApp.readFile = userData.readFile;</div><div class="line">UserDataApp.saveFile = userData.saveFile;</div><div class="line"> </div><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="comment">// EVENTS</span></div><div class="line"><span class="comment">//******** **********</span></div><div class="line"> </div><div class="line"><span class="keyword">var</span> EVENTS = &#123;&#125;;</div><div class="line"> </div><div class="line">EVENTS.fileOpen = <span class="function"><span class="keyword">function</span>(<span class="params">callback</span>)</span>&#123;</div><div class="line">    ipcRenderer.on(<span class="string">'fileOpen'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">evnt, result</span>) </span>&#123;</div><div class="line">        <span class="keyword">const</span> filePath = result.filePaths[<span class="number">0</span>];</div><div class="line">        <span class="comment">// UPDATE STATE ON EACH FILE OPEN</span></div><div class="line">        UserDataApp.setUserData(<span class="string">'dir_open_start'</span>, path.dirname(filePath) )</div><div class="line">        .then(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</div><div class="line">            <span class="keyword">return</span> UserDataApp.setUserData(<span class="string">'file_name'</span>, path.basename(filePath) )</div><div class="line">         &#125;)</div><div class="line">        .then(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</div><div class="line">            <span class="comment">// call front end callback with result</span></div><div class="line">            callback(evnt, result)</div><div class="line">        &#125;);</div><div class="line">    &#125;);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line">EVENTS.fileSave = <span class="function"><span class="keyword">function</span>(<span class="params">callback</span>)</span>&#123;</div><div class="line">    ipcRenderer.on(<span class="string">'fileSave'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">evnt, result</span>) </span>&#123;</div><div class="line">        <span class="keyword">const</span> filePath = result.filePath;</div><div class="line">        <span class="comment">// UPDATE STATE ON EACH FILE OPEN</span></div><div class="line">        UserDataApp.setUserData(<span class="string">'dir_open_start'</span>, path.dirname(filePath) )</div><div class="line">        .then(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</div><div class="line">            <span class="keyword">return</span> UserDataApp.setUserData(<span class="string">'file_name'</span>, path.basename(filePath) )</div><div class="line">         &#125;)</div><div class="line">        .then(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</div><div class="line">            <span class="comment">// call front end callback with result</span></div><div class="line">            callback(evnt, result)</div><div class="line">        &#125;);</div><div class="line">    &#125;);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line">UserDataApp.on = <span class="function"><span class="keyword">function</span>(<span class="params">eventName, callback</span>)</span>&#123;</div><div class="line">   EVENTS[eventName](callback);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="comment">// EXPOSE API</span></div><div class="line"><span class="comment">//******** **********</span></div><div class="line"><span class="comment">// create an api for window objects in web pages</span></div><div class="line">contextBridge.exposeInMainWorld(<span class="string">'UserDataApp'</span>, UserDataApp);</div></pre></td></tr></table></figure>
<h2 id="4-The-client-system"><a href="#4-The-client-system" class="headerlink" title="4 - The client system"></a>4 - The client system</h2><p>Now that I have my main and prealod files out of the way I will want to have a little front end code for this to make sure that my preload functions are working the way that they should be.</p>
<h3 id="4-1-The-client-js-javaScript-file"><a href="#4-1-The-client-js-javaScript-file" class="headerlink" title="4.1 - The client.js javaScript file"></a>4.1 - The client.js javaScript file</h3><p>When the Browser window is up and running it will call the get user data method to get the current state of the user data file.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> con = <span class="built_in">document</span>.querySelector(<span class="string">'#text_console'</span>);</div><div class="line"><span class="keyword">var</span> con2 = <span class="built_in">document</span>.querySelector(<span class="string">'#text_content'</span>);</div><div class="line"> </div><div class="line"><span class="comment">// logger</span></div><div class="line"><span class="keyword">var</span> logger = <span class="function"><span class="keyword">function</span>(<span class="params">mess</span>)</span>&#123;</div><div class="line">    con.value += mess + <span class="string">'\n'</span>;</div><div class="line">&#125;;</div><div class="line"> </div><div class="line">logger(<span class="string">'App Start: '</span>);</div><div class="line"><span class="comment">// get user data</span></div><div class="line"><span class="keyword">var</span> getUserData = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> UserDataApp.getUserData()</div><div class="line">    <span class="comment">// log current state</span></div><div class="line">    .then(<span class="function">(<span class="params">dataObj</span>) =&gt;</span> &#123;</div><div class="line">        logger(<span class="string">'Got User Data: '</span>);</div><div class="line">        logger(<span class="string">'dir_open_start: '</span> + dataObj.dir_open_start);</div><div class="line">        logger(<span class="string">'file_name: '</span> + dataObj.file_name);</div><div class="line">    &#125;)</div><div class="line">    .then(<span class="function">(<span class="params">uDat</span>)=&gt;</span>&#123;</div><div class="line">        <span class="keyword">return</span> UserDataApp.readFile();</div><div class="line">    &#125;)</div><div class="line">    .then(<span class="function">(<span class="params">text</span>)=&gt;</span>&#123;</div><div class="line">         logger(<span class="string">'text read worked: '</span>);</div><div class="line">         con2.value = text;</div><div class="line">    &#125;)</div><div class="line">    .catch(<span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</div><div class="line">        logger(<span class="string">'Err: '</span> + e.message);</div><div class="line">    &#125;);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// get user data for the first time</span></div><div class="line">getUserData();</div><div class="line"> </div><div class="line"><span class="comment">// EVENTS</span></div><div class="line">UserDataApp.on(<span class="string">'fileOpen'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">evnt, result</span>)</span>&#123;</div><div class="line">    logger(<span class="string">'File open event:'</span>);</div><div class="line">    getUserData();</div><div class="line">&#125;);</div><div class="line"> </div><div class="line">UserDataApp.on(<span class="string">'fileSave'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">evnt, result</span>)</span>&#123;</div><div class="line">    logger(<span class="string">'File Save event:'</span>);</div><div class="line">    UserDataApp.saveFile(con2.value)</div><div class="line">    .then(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</div><div class="line">        logger(<span class="string">'looks like save worked.'</span>);</div><div class="line">    &#125;)</div><div class="line">    .catch(<span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</div><div class="line">        logger(<span class="string">'Err: '</span> + e.message);</div><div class="line">    &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="4-2-The-window-main-html-file"><a href="#4-2-The-window-main-html-file" class="headerlink" title="4.2 - The window_main.html file"></a>4.2 - The window_main.html file</h3><p>Here I have the html that I am using for this example</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Electronjs Example<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"style.css"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"wrap_main"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">h4</span>&gt;</span>Content:<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">id</span>=<span class="string">"text_content"</span> <span class="attr">rows</span>=<span class="string">"15"</span> <span class="attr">cols</span>=<span class="string">"80"</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">h4</span>&gt;</span>Console:<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">id</span>=<span class="string">"text_console"</span> <span class="attr">rows</span>=<span class="string">"8"</span> <span class="attr">cols</span>=<span class="string">"80"</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"client.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>I had a general idea of what I wanted to do with this example, I wanted to create and refine some things with this kind of user data file and folder before making major changes to my videoground application. What it is that I have worked out here might me worked into a future revision of the video ground project as there is a lot that I would like to do with a user data folder. With that application I could use the user data folder as a standard location to park frame images when I use my export to frames feature of that application. In future revisions in which I might also use <a href="/2022/03/04/linux-ffmpeg/">ffmpeg</a> as a way to create final videos this can also be used to place such files by default. There are all kinds of things that I would also like to store as user data such as a default start location when opening files that I thing would improve my workflow a little such as what I have worked out for this example on the user data folder.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dustinpfister.github.io/2022/08/19/electronjs-example-user-data-file/" data-id="clbl9g9zz00bp78v1austdj2p" class="article-share-link">Share</a>
      
        <a href="https://dustinpfister.github.io/2022/08/19/electronjs-example-user-data-file/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/electronjs/">electronjs</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2022/08/26/threejs-examples-many-object-tweening/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Tweening many objects at once threejs example
        
      </div>
    </a>
  
  
    <a href="/2022/08/12/threejs-cylinder-geometry/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Cylinder Geometry threejs example</div>
    </a>
  
</nav>

  
</article>



<section id="comments">

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://dustinpfister.github.io/2022/08/19/electronjs-example-user-data-file/index.html';
    this.page.identifier = '1001';
    this.page.title = 'User Data File Electronjs application example';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://dustinpfister-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular/">angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/api/">api</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/backbone/">backbone</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/discovery/">discovery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/electronjs/">electronjs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/games/">games</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/grunt/">grunt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hapi/">hapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/heroku/">heroku</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jquery/">jquery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lodash/">lodash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node-js/">node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/phaser/">phaser</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/statistics/">statistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/three-js/">three.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backbone/">backbone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/corejs/">corejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deterministic/">deterministic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discovery/">discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejs/">ejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/electronjs/">electronjs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hapi/">hapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jimp/">jimp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js13k/">js13k</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/structured-data/">structured-data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/themes/">themes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three-js/">three.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JSON/" style="font-size: 12.38px;">JSON</a> <a href="/tags/SEO/" style="font-size: 10.48px;">SEO</a> <a href="/tags/angular/" style="font-size: 13.33px;">angular</a> <a href="/tags/animation/" style="font-size: 11.9px;">animation</a> <a href="/tags/automation/" style="font-size: 11.9px;">automation</a> <a href="/tags/backbone/" style="font-size: 12.38px;">backbone</a> <a href="/tags/blog/" style="font-size: 15.24px;">blog</a> <a href="/tags/canvas/" style="font-size: 18.57px;">canvas</a> <a href="/tags/corejs/" style="font-size: 12.86px;">corejs</a> <a href="/tags/deterministic/" style="font-size: 10px;">deterministic</a> <a href="/tags/discovery/" style="font-size: 10.95px;">discovery</a> <a href="/tags/ejs/" style="font-size: 11.43px;">ejs</a> <a href="/tags/electronjs/" style="font-size: 13.81px;">electronjs</a> <a href="/tags/express/" style="font-size: 16.67px;">express</a> <a href="/tags/games/" style="font-size: 17.14px;">games</a> <a href="/tags/git/" style="font-size: 12.86px;">git</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hapi/" style="font-size: 15.24px;">hapi</a> <a href="/tags/heroku/" style="font-size: 11.9px;">heroku</a> <a href="/tags/hexo/" style="font-size: 14.76px;">hexo</a> <a href="/tags/jimp/" style="font-size: 10.48px;">jimp</a> <a href="/tags/jquery/" style="font-size: 11.43px;">jquery</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/js13k/" style="font-size: 10px;">js13k</a> <a href="/tags/linux/" style="font-size: 17.62px;">linux</a> <a href="/tags/lodash/" style="font-size: 18.57px;">lodash</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mongodb/" style="font-size: 14.76px;">mongodb</a> <a href="/tags/node-js/" style="font-size: 19.52px;">node.js</a> <a href="/tags/phaser/" style="font-size: 18.1px;">phaser</a> <a href="/tags/python/" style="font-size: 15.71px;">python</a> <a href="/tags/statistics/" style="font-size: 14.29px;">statistics</a> <a href="/tags/structured-data/" style="font-size: 10px;">structured-data</a> <a href="/tags/themes/" style="font-size: 10px;">themes</a> <a href="/tags/three-js/" style="font-size: 19.05px;">three.js</a> <a href="/tags/vuejs/" style="font-size: 16.19px;">vuejs</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/12/09/threejs-buffer-geometry-index/">Indexed Buffer Geometry in threejs</a>
          </li>
        
          <li>
            <a href="/2022/12/02/threejs-tetrahedron/">Pyramid AKA Tetrahedron Geometry in threejs.</a>
          </li>
        
          <li>
            <a href="/2022/11/25/electronjs-example-file-manager/">File Manager Electronjs application example</a>
          </li>
        
          <li>
            <a href="/2022/11/18/threejs-examples-curves-module/">Curves Module threejs project example</a>
          </li>
        
          <li>
            <a href="/2022/11/11/threejs-examples-audio-sample-alphas/">Audio Sample Data Alphas and threejs projects</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 Dustin Pfister<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      <br>
      <a href="/privacy.html" target="_blank">Privacy Policy</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/2021/02/19/threejs-examples/" class="mobile-nav-link">ThreeJS</a>
  
    <a href="/2020/03/23/canvas-example/" class="mobile-nav-link">Canvas</a>
  
    <a href="https://www.youtube.com/user/javaweaver" class="mobile-nav-link">Youtube</a>
  
    <a href="https://github.com/dustinpfister" class="mobile-nav-link">Github</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'dustinpfister-github-io';
  
  var disqus_url = 'https://dustinpfister.github.io/2022/08/19/electronjs-example-user-data-file/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


  </div>
</body>
</html>