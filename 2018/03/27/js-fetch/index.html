<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <!-- disqus image-->
  <meta property="og:image" content="https://dustinpfister.github.io/css/images/banner.jpg">
  
  <title>Using fetch to script http | Dustin John Pfister at github pages</title>
  
  <!-- no index tag or blank here -->
  
  
  <link rel="canonical" href="https://dustinpfister.github.io/2018/03/27/js-fetch/" />

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="In late specs of client side javaScript there is the fetch method that is a way of making http requests in browser that is introduced in the whatwg living standard . It is like the tired yet true XMLH">
<meta property="og:type" content="article">
<meta property="og:title" content="Using fetch to script http">
<meta property="og:url" content="https://dustinpfister.github.io/2018/03/27/js-fetch/index.html">
<meta property="og:site_name" content="Dustin John Pfister at github pages">
<meta property="og:description" content="In late specs of client side javaScript there is the fetch method that is a way of making http requests in browser that is introduced in the whatwg living standard . It is like the tired yet true XMLH">
<meta property="og:updated_time" content="2021-11-21T22:41:55.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Using fetch to script http">
<meta name="twitter:description" content="In late specs of client side javaScript there is the fetch method that is a way of making http requests in browser that is introduced in the whatwg living standard . It is like the tired yet true XMLH">
  
    <link rel="alternate" href="/atom.xml" title="Dustin John Pfister at github pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-83195184-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  <!-- structured data set in structured-data.ejs -->
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "email": "distin.pfister@gmail.com",
    "givenName": "Dustin",
    "familyName" : "Pfister",
    "additionalName": "John",
    "name": "Dustin John Pfister",
    "gender": "Male"
}
</script>
<!-- end structured data -->
  
  <!-- adsense if indexed -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1658284027672315",
    enable_page_level_ads: true
  });
  </script>
  
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <!-- added the image-->
        <div class="selfimage"></div>
        <!--<a href="/" id="logo">Dustin John Pfister at github pages</a>-->
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/2020/03/23/canvas-example/">Canvas-Examples</a>
        
          <a class="main-nav-link" href="https://github.com/dustinpfister">Github</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <!-- removed rss link-->
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dustinpfister.github.io"></form>
      </div>
    </div>
  </div>
</header>

<!-- adding my canvas thing ( Dustin ) -->
<script src="/js/the_matrix.js"></script>
      <div class="outer">
        <section id="main"><article itemscope itemtype="http://schema.org/Blog" id="post-js-fetch" class="article article-type-post" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/27/js-fetch/" class="article-date"> Published:
  <time datetime="2018-03-27T21:08:00.000Z" itemprop="datePublished">2018-03-27</time>
</a>

    <!-- other info (dustin) -->
    <a href="/2018/03/27/js-fetch/" class="article-date"> Modified:
  <time datetime="2021-11-21T22:41:55.000Z" itemprop="dateModified">2021-11-21</time>
</a>

    <span class="article-date">V1.31</span>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/js/">js</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Using fetch to script http
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="text">
      
        <p>In late specs of client side javaScript there is the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API" target="_blank" rel="external">fetch</a> method that is a way of making http requests in browser that is introduced in the <a href="https://fetch.spec.whatwg.org/" target="_blank" rel="external">whatwg living standard</a> . It is like the tired yet true <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest" target="_blank" rel="external">XMLHttpRequest</a> method, but may prove to be a little easier to use, and returns a promise out of the box. However one draw back might be browser support for older platforms, depending on the situation with that the fetch method might have to be polyfilled, and is thus not necessary a native replacement for user space http clients like <a href="https://github.com/axios/axios" target="_blank" rel="external">axios</a>.</p>
<p>So then the js fetch method makes use of promises, and provides an updated <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response" target="_blank" rel="external">response api</a> for better handling common tasks like parsing json to a workable object which is a nice feature. So in many respects it is a little more user friendly compared to the tired yet true XMLHttpRequest method that would need to be used with much additional javaScript code around it to end up with similar functionality. It might still be a smarter play to go with a user space option that makes use of XMLhttpRequest to provide the same functionality still tough, at least that is what I would do more often then not.</p>
<p>So the fetch native client side javaScript method is like a browser built in modern http client. However because fetch is still a new feature relative to XMLhttprequest at least, it might be to soon to regard it as a replacement for a user space http client. However the fetch method can be added to older platforms by making use of a <a href="https://github.com/github/fetch" target="_blank" rel="external">polyfill</a> for the fetch method. Still in my projects in generally prefer to use a user space http client, or the tired yet true XMLHttprequest method.</p>
<p>In any case the fetch method is still without question a feature in modern browsers that is worth a moment of my time to write at least one post on the subject. I have done so all ready with <a href="/2018/03/28/js-xmlhttprequest/">XMLHttpRequest</a>, and <a href="/2018/01/10/nodejs-axios/">axios</a> after all.</p>
<a id="more"></a>
<h2 id="1-Fetch-api-basics"><a href="#1-Fetch-api-basics" class="headerlink" title="1 - Fetch api basics"></a>1 - Fetch api basics</h2><p>In this section I will be going over just one example of the fetch api when it comes to just making a simple get request. When it comes to the various other kinds of requests such as post requests one will need some kind of back end system to post to, so that will be something that I will be getting to in later sections of this post.</p>
<p>Although I do make an effort to keep these examples fairly basic I assume that you have at least some background when it comes to the very basics of <a href="/2018/11/27/js-getting-started/">getting started with javaScript</a>. It might also be a good idea to <a href="/2021/10/22/js-promise/">read up more on promises in javaScript</a> in general.</p>
<h3 id="The-source-code-examples-in-this-post-are-on-Github"><a href="#The-source-code-examples-in-this-post-are-on-Github" class="headerlink" title="- The source code examples in this post are on Github"></a>- The source code examples in this post are on Github</h3><p>The source code examples in this post can be found in my <a href="https://github.com/dustinpfister/test_vjs/tree/master/for_post/js-fetch" target="_blank" rel="external">test vjs repository</a> in Github. This repository also contains all the source code examples for my many other <a href="/categories/js/">posts on various vanilla javaScript topics</a> beyond just that of the fetch API. If you must make a pull request for one of the source code examples you see here that would be where to do it. There is also the comments section at the bottom of this post that can be used to bring something up. I do get around to editing my content now and then but I have a lot of posts boiling so my response might be slow.</p>
<h3 id="1-1-Simple-get-request-example-of-fetch"><a href="#1-1-Simple-get-request-example-of-fetch" class="headerlink" title="1.1 - Simple get request example of fetch"></a>1.1 - Simple get request example of fetch</h3><p>For starters I think an example that is just a basic get request would be in order, as that is often the case with these kinds of posts. Say that I want to preform a get request to just get the html text of a given page at a certain location on the open web, for argument sake how about just the text of this very blog post? In that case fetch just needs to be given one argument which is the URL of the resource that I want to fetch. This is a whole world more simple compared to using XMLHttpRequest that often proves to be a bit of a pain by comparison.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>js fetch<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">id</span> = <span class="string">"out"</span> <span class="attr">cols</span>=<span class="string">"100"</span> <span class="attr">rows</span>=<span class="string">"15"</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">let</span> out = <span class="built_in">document</span>.getElementById(<span class="string">'out'</span>);</div><div class="line">fetch(<span class="string">'https://dustinpfister.github.io/2018/03/27/js-fetch/'</span>)</div><div class="line">.then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">return</span> response.text();</div><div class="line">&#125;).then(<span class="function">(<span class="params">text</span>) =&gt;</span> &#123;</div><div class="line">    out.value = text;</div><div class="line">&#125;).catch(<span class="function">(<span class="params">e</span>)=&gt;</span>&#123;</div><div class="line">    out.value = e.message;</div><div class="line">&#125;);</div><div class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>So when calling fetch and giving the URL of this page as the first argument what is returned is a promise. I will not be getting into detail about promises here, but the typical basic use of them involves attaching then and catch calls that will fire depending on the outcome of the request.</p>
<p>If all goes well in the body of the next then call I will have access to a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response" target="_blank" rel="external">response object</a>. This response object will not have the text of the page at the ready necessary, but there is a method of the response object to get just that tough. In this case I am not getting JSON, but html that can be thought of as just plain text content, so calling the text method of the response API will give me what I would want from the response object in this case. In the event that there is some kind of error the catch call will fire, and in the body of that method I can potentially handle the error.</p>
<p>So maybe this is not the most compelling example of the js fetch method, but you should get the basic idea at least. It is a more modern, and easier way to go about making http get requests compared to XMLHttpRequest, and in modern browsers it is there to work with without any additional javaScript code being made part of the projects dependences.</p>
<h2 id="2-Making-a-Post-request-with-fetch"><a href="#2-Making-a-Post-request-with-fetch" class="headerlink" title="2 - Making a Post request with fetch"></a>2 - Making a Post request with fetch</h2><p>The fetch method just like XMLHttpRequest can of course be used to preform other types of requests other than get requests. There are a few of them to mention, but in general there are GET requests, and POST requests. A Get requests for the most part is to just get a resource at a given URL, while a POST requests is to upstream a body of content to a back end system.</p>
<p>In any case to preform a POST request I can do more or less the same thing as with a GET request, only I need to provide an options object with at least a few properties. In this options object I am going to want to set the method of the requests to POST, and I am also going to want to given a body that is to be uploaded to the server. Often when it comes to these kind of requests it is called for to provide at least a few headers also, such as Content-Type in this case I will be sending json to my sever script. Speaking of a sever script yes I will of course need some kind of back end system to post to. SO in this section I will be going over a simple project example that will contain a sever script that will respond to both get and post requests as well as some html that will preform a post request to this sever script.</p>
<p>This section will then not just involve client side javaScript but also a little code that will be used with nodejs to run a simple web sever. If you are new to nodejs you might want to start out with some kind of <a href="/2017/04/05/nodejs-helloworld">getting started type post with nodejs</a>. Even if you have some experience working with nodejs it would not hurt to look into the <a href="/2018/02/06/nodejs-http/">http module</a> a bit more when it comes to working with http requests on the sever side of things. ALhough I do like to stick with vanilla javaScript for my various posts on the subject of native browser features like the feth api, it might be best to also look into how to get started with a decent sever side framework with this <a href="/2019/04/17/express-post/">sort of thing such as with express</a>.</p>
<h3 id="2-1-The-index-html-file-in-the-public-folder"><a href="#2-1-The-index-html-file-in-the-public-folder" class="headerlink" title="2.1 - The index.html file in the public folder"></a>2.1 - The index.html file in the public folder</h3><p>In my project folder for this example I have a public folder and in this public folder I just have a single html file. This html file has a text area that will sever as a place to inject some text that is a response from the sever script. Inside the body of a script tag I get a reference to this text area element, and preform a post request using the fetch api.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>js fetch<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">id</span> = <span class="string">"out"</span> <span class="attr">cols</span>=<span class="string">"100"</span> <span class="attr">rows</span>=<span class="string">"15"</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">let</span> out = <span class="built_in">document</span>.getElementById(<span class="string">'out'</span>);</div><div class="line">fetch(<span class="string">'http://localhost:8080/data'</span>, &#123;</div><div class="line">  <span class="attr">method</span>: <span class="string">'POST'</span>, <span class="comment">// or 'PUT'</span></div><div class="line">  headers: &#123;</div><div class="line">    <span class="string">'Content-Type'</span>: <span class="string">'application/json'</span>,</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">body</span>: <span class="built_in">JSON</span>.stringify(&#123;</div><div class="line">     <span class="attr">action</span>: <span class="string">'add'</span>,</div><div class="line">     <span class="attr">a</span>: <span class="number">5</span>,</div><div class="line">     <span class="attr">b</span>: <span class="number">6</span></div><div class="line">  &#125;)</div><div class="line">&#125;)</div><div class="line">.then(<span class="function"><span class="params">response</span> =&gt;</span> response.json())</div><div class="line">.then(<span class="function">(<span class="params">obj</span>) =&gt;</span> &#123;</div><div class="line">   out.value += <span class="string">'action: '</span> + obj.body.action + <span class="string">', result: '</span> + obj.result;</div><div class="line">&#125;)</div><div class="line">.catch(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'Error:'</span>, error);</div><div class="line">&#125;);</div><div class="line">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="2-2-The-sever-script"><a href="#2-2-The-sever-script" class="headerlink" title="2.2 - The sever script"></a>2.2 - The sever script</h3><p>Now for the sever side script for this example that will respond to both get requests as well as post requests. I have everything here in a single file, and there is actually a lot to cover with it when it comes to the many nodejs request that I am making use of beyond just that of the http module. For example I am using the <a href="/2019/06/22/nodejs-util-promisify/">promisify method of the nodejs built in util module</a> to create file system methods that will return a promise using methods from the <a href="/2018/02/08/nodejs-filesystem/">file system module</a>. When it comes to the code that I am using to respond to get requests, including get requests for the index html file that will sever as my client system for this example I based all of that off of the state of the source code for another project that aims to be just a very <a href="/2017/12/04/nodejs-simple-static-sever-file/">basic static web site sever example</a>.</p>
<p>I could go on and on about all the various details about this script, but the main part that is of interest for this example at least is the code that has to do with responding to post requests. The METHODS.POST method is then the method of interest with posts requests then, and it is in this function that I am parsing the incoming body from the client system, parsing the string as JSON, and using values in the body to create and respond with a request.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>),</div><div class="line">fs = <span class="built_in">require</span>(<span class="string">'fs'</span>),</div><div class="line">path = <span class="built_in">require</span>(<span class="string">'path'</span>),</div><div class="line">promisify = <span class="built_in">require</span>(<span class="string">'util'</span>).promisify,</div><div class="line">lstat = promisify(fs.lstat),</div><div class="line">readFile = promisify(fs.readFile),</div><div class="line">readdir = promisify(fs.readdir);</div><div class="line"> </div><div class="line"><span class="comment">// create server</span></div><div class="line"><span class="keyword">let</span> server = http.createServer();</div><div class="line"> </div><div class="line"><span class="comment">// set port with argument or hard coded default</span></div><div class="line"><span class="keyword">let</span> port = process.argv[<span class="number">2</span>] || <span class="number">8080</span>; <span class="comment">// port 8080 for now</span></div><div class="line"> </div><div class="line"><span class="comment">// the root folder to serve</span></div><div class="line"><span class="keyword">let</span> root = process.argv[<span class="number">3</span>] || path.join(__dirname, <span class="string">'public'</span>);</div><div class="line"> </div><div class="line"><span class="comment">// For HTTP method</span></div><div class="line"><span class="keyword">let</span> METHODS = &#123;&#125;;</div><div class="line"> </div><div class="line"><span class="comment">/********* POST *********/</span></div><div class="line"> </div><div class="line">METHODS.POST = <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</div><div class="line">    <span class="keyword">let</span> body = <span class="string">''</span>;</div><div class="line">    req.on(<span class="string">'data'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">chunk</span>) </span>&#123;</div><div class="line">        body += chunk.toString();</div><div class="line">        <span class="comment">// do some basic sanitation</span></div><div class="line">        <span class="keyword">if</span> (body.length &gt;= <span class="number">200</span>) &#123;</div><div class="line">            <span class="comment">// if body char length is greater than</span></div><div class="line">            <span class="comment">// or equal to 200 destroy the connection</span></div><div class="line">            res.connection.destroy();</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">    <span class="comment">// once the body is received</span></div><div class="line">    req.on(<span class="string">'end'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        res.writeHead(<span class="number">200</span>, &#123;</div><div class="line">            <span class="string">'Content-Type'</span>: <span class="string">'text/json'</span></div><div class="line">        &#125;);</div><div class="line">        <span class="keyword">if</span> (body) &#123;</div><div class="line">            <span class="keyword">let</span> bodyObj = <span class="built_in">JSON</span>.parse(body);</div><div class="line">            <span class="keyword">let</span> obj = &#123;</div><div class="line">                <span class="attr">body</span>: bodyObj</div><div class="line">            &#125;;</div><div class="line">            <span class="keyword">if</span> (bodyObj.action === <span class="string">'add'</span>) &#123;</div><div class="line">                obj.result = bodyObj.a + bodyObj.b;</div><div class="line">            &#125;</div><div class="line">            res.write(<span class="built_in">JSON</span>.stringify(obj), <span class="string">'utf8'</span>);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            res.write(<span class="string">'&#123;&#125;'</span>, <span class="string">'utf8'</span>);</div><div class="line">        &#125;</div><div class="line">        res.end();</div><div class="line">    &#125;);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">/********* GET *********/</span></div><div class="line"> </div><div class="line"><span class="comment">// create path info object</span></div><div class="line"><span class="keyword">let</span> createPathInfoObject = <span class="function">(<span class="params">url</span>) =&gt;</span> &#123;</div><div class="line">    <span class="comment">// remove any extra / ( /foo/bar/  to /foo/bar )</span></div><div class="line">    <span class="keyword">let</span> urlArr = url.split(<span class="string">''</span>);</div><div class="line">    <span class="keyword">if</span> (urlArr[urlArr.length - <span class="number">1</span>] === <span class="string">'/'</span>) &#123;</div><div class="line">        urlArr.pop();</div><div class="line">        url = urlArr.join(<span class="string">''</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// starting state</span></div><div class="line">    <span class="keyword">let</span> pInfo = &#123;</div><div class="line">        <span class="attr">url</span>: url,</div><div class="line">        <span class="attr">uri</span>: path.join(root, url),</div><div class="line">        <span class="attr">encoding</span>: <span class="string">'utf-8'</span>,</div><div class="line">        <span class="attr">mime</span>: <span class="string">'text/plain'</span>,</div><div class="line">        <span class="attr">ext</span>: <span class="string">''</span>,</div><div class="line">        <span class="attr">contents</span>: [],</div><div class="line">        <span class="attr">html</span>: <span class="string">''</span></div><div class="line">    &#125;;</div><div class="line">    <span class="comment">//return pInfo;</span></div><div class="line">    <span class="keyword">return</span> lstat(pInfo.uri)</div><div class="line">    .then(<span class="function">(<span class="params">stat</span>) =&gt;</span> &#123;</div><div class="line">        pInfo.stat = stat;</div><div class="line">        <span class="keyword">if</span> (pInfo.stat.isFile()) &#123;</div><div class="line">            pInfo.ext = path.extname(pInfo.uri).toLowerCase();</div><div class="line">            pInfo.ext = path.extname(pInfo.uri).toLowerCase();</div><div class="line">            pInfo.mime = pInfo.ext === <span class="string">'.html'</span> ? <span class="string">'text/html'</span> : pInfo.mime;</div><div class="line">            pInfo.mime = pInfo.ext === <span class="string">'.css'</span> ? <span class="string">'text/css'</span> : pInfo.mime;</div><div class="line">            pInfo.mime = pInfo.ext === <span class="string">'.js'</span> ? <span class="string">'text/javascript'</span> : pInfo.mime;</div><div class="line">            <span class="comment">// images</span></div><div class="line">            pInfo.mime = pInfo.ext === <span class="string">'.png'</span> ? <span class="string">'image/png'</span> : pInfo.mime;</div><div class="line">            pInfo.mime = pInfo.ext === <span class="string">'.ico'</span> ? <span class="string">'image/x-icon'</span> : pInfo.mime;</div><div class="line">            <span class="comment">// binary encoding if...</span></div><div class="line">            pInfo.encoding = pInfo.ext === <span class="string">'.png'</span> || pInfo.ext === <span class="string">'.ico'</span> ? <span class="string">'binary'</span> : pInfo.encoding;</div><div class="line">            <span class="keyword">return</span> pInfo;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (pInfo.stat.isDirectory()) &#123;</div><div class="line">            pInfo.ext = <span class="string">''</span>;</div><div class="line">            pInfo.mime = <span class="string">'text/plain'</span>;</div><div class="line">            pInfo.encoding = <span class="string">'utf-8'</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> createDirInfo(pInfo);</div><div class="line">    &#125;);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// create an html index of a folder</span></div><div class="line"><span class="keyword">let</span> createHTML = <span class="function">(<span class="params">pInfo</span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">var</span> html = <span class="string">'&lt;html&gt;&lt;head&gt;&lt;title&gt;Index of - '</span> + pInfo.url + <span class="string">'&lt;/title&gt;'</span> +</div><div class="line">        <span class="string">'&lt;style&gt;body&#123;padding:20px;background:#afafaf;font-family:arial;&#125;div&#123;display: inline-block;padding:10px;&#125;&lt;/style&gt;'</span> +</div><div class="line">        <span class="string">'&lt;/head&gt;&lt;body&gt;'</span>;</div><div class="line">    html += <span class="string">'&lt;h3&gt;Contents of : '</span> + pInfo.url + <span class="string">'&lt;/h3&gt;'</span></div><div class="line">    pInfo.contents.forEach(<span class="function">(<span class="params">itemName</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">let</span> itemURL = pInfo.url + <span class="string">'/'</span> + itemName;</div><div class="line">        html += <span class="string">'&lt;div&gt; &lt;a href=\"'</span> + itemURL + <span class="string">'\" &gt;'</span> + itemName + <span class="string">'&lt;/a&gt; &lt;/div&gt;'</span></div><div class="line">    &#125;);</div><div class="line">    html += <span class="string">'&lt;/body&gt;&lt;/html&gt;'</span>;</div><div class="line">    <span class="keyword">return</span> html;</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// create dir info for a pInfo object</span></div><div class="line"><span class="keyword">let</span> createDirInfo = <span class="function">(<span class="params">pInfo</span>) =&gt;</span> &#123;</div><div class="line">    <span class="comment">// first check for an index.html</span></div><div class="line">    <span class="keyword">let</span> uriIndex = path.join(pInfo.uri, <span class="string">'index.html'</span>);</div><div class="line">    <span class="keyword">return</span> readFile(uriIndex)</div><div class="line">    <span class="comment">// if all goes file we have an indrex file call createPathInfoObject with new uri</span></div><div class="line">    .then(<span class="function">(<span class="params">file</span>) =&gt;</span> &#123;</div><div class="line">        pInfo.uri = uriIndex;</div><div class="line">        pInfo.ext = <span class="string">'.html'</span>;</div><div class="line">        pInfo.mime = <span class="string">'text/html'</span>;</div><div class="line">        <span class="keyword">return</span> pInfo;</div><div class="line">    &#125;)</div><div class="line">    <span class="comment">// else we do not get contents</span></div><div class="line">    .catch(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">        <span class="keyword">return</span> readdir(pInfo.uri);</div><div class="line">    &#125;).then(<span class="function">(<span class="params">contents</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">if</span> (contents &amp;&amp; pInfo.ext === <span class="string">''</span>) &#123;</div><div class="line">            pInfo.contents = contents;</div><div class="line">            pInfo.mime = <span class="string">'text/html'</span>;</div><div class="line">            pInfo.html = createHTML(pInfo);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> pInfo;</div><div class="line">    &#125;);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line">METHODS.GET = <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</div><div class="line">    <span class="comment">// create path info object for req.url</span></div><div class="line">    createPathInfoObject(req.url)</div><div class="line">    <span class="comment">// if we have a pinfo object without any problems</span></div><div class="line">    .then(<span class="function">(<span class="params">pInfo</span>) =&gt;</span> &#123;</div><div class="line">        <span class="comment">// send content</span></div><div class="line">        res.writeHead(<span class="number">200</span>, &#123;</div><div class="line">            <span class="string">'Content-Type'</span>: pInfo.mime</div><div class="line">        &#125;);</div><div class="line">        <span class="comment">// if we have html send that</span></div><div class="line">        <span class="keyword">if</span> (pInfo.html != <span class="string">''</span>) &#123;</div><div class="line">            res.write(pInfo.html, pInfo.encoding);</div><div class="line">            res.end();</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="comment">// else we are sending a file</span></div><div class="line">            readFile(pInfo.uri, pInfo.encoding).then(<span class="function">(<span class="params">file</span>) =&gt;</span> &#123;</div><div class="line">                res.write(file, pInfo.encoding);</div><div class="line">                res.end();</div><div class="line">            &#125;).catch(<span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</div><div class="line">                <span class="comment">// send content</span></div><div class="line">                res.writeHead(<span class="number">200</span>, &#123;</div><div class="line">                    <span class="string">'Content-Type'</span>: <span class="string">'text/plain'</span></div><div class="line">                &#125;);</div><div class="line">                res.write(e.message, <span class="string">'utf8'</span>);</div><div class="line">                res.end();</div><div class="line">            &#125;);</div><div class="line">        &#125;</div><div class="line">    &#125;).catch(<span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</div><div class="line">        <span class="comment">// send content</span></div><div class="line">        res.writeHead(<span class="number">200</span>, &#123;</div><div class="line">            <span class="string">'Content-Type'</span>: <span class="string">'text/plain'</span></div><div class="line">        &#125;);</div><div class="line">        res.write(e.message, <span class="string">'utf8'</span>);</div><div class="line">        res.end();</div><div class="line">    &#125;);</div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">/********* ON REQUEST *********/</span></div><div class="line"> </div><div class="line"><span class="comment">// for a request</span></div><div class="line">server.on(<span class="string">'request'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</div><div class="line">    <span class="comment">// if we have a method for the request method such as GET or POST call it</span></div><div class="line">    <span class="keyword">var</span> method = METHODS[req.method];</div><div class="line">    <span class="keyword">if</span> (method) &#123;</div><div class="line">        method(req, res);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="comment">// else we can not do anything.</span></div><div class="line">        res.end(<span class="string">'not a post'</span>);</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"> </div><div class="line"><span class="comment">/********* LISTEN *********/</span></div><div class="line"> </div><div class="line">server.listen(port, () =&gt; &#123;</div><div class="line"> </div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'sever is up on port: '</span> + port);</div><div class="line"> </div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="3-Using-a-fetch-pollyFill"><a href="#3-Using-a-fetch-pollyFill" class="headerlink" title="3 - Using a fetch pollyFill"></a>3 - Using a fetch pollyFill</h2><p>If you are concerned about support for older browsers, then a polyfill for fetch will have to be used, or just do things the old fashion way with XMLHttpRequst as any polyfill will likely use just that. A popular polyfill for fetch can be found on github here at <a href="https://github.com/github/fetch" target="_blank" rel="external">github</a>.</p>
<p>Another option would be to just not use fetch at all and chose or make an http client, which is what I would often do rather than using fetch when it comes to working on an actual project where I will need to script http requests.</p>
<h2 id="4-Conclusion"><a href="#4-Conclusion" class="headerlink" title="4 - Conclusion"></a>4 - Conclusion</h2><p>So fetch is a new standard for preforming http requests that can be used in modern browsers, and maybe it is a little easier to use compared to the traditional XMLHttpRequest method. Still when it comes to worrying about browser support I still know that I will get my code to work on a wider range of clients by using the tried yet true XMlHttprequest over fetch. For this reason I often choose to go with XMLHttprequest over fetch when making my own http client, something that I find myself doing now and then when it comes to vanilla JavaScript projects. If you would like my take on <a href="/2018/03/28/js-xmlhttprequest/">XMLHttpRequest I of course wrote a post on that one for what it is worth</a>.</p>
<p>In addition I would not say that fetch is a replacement for various user space http clients that wrap XMlhttprequest rather then that of fetch. If a client is designed right there is a potential to get a best of both world situation between browser support and supporting later features like promises.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dustinpfister.github.io/2018/03/27/js-fetch/" data-id="ckzydn65500nkm4v1cqice4m6" class="article-share-link">Share</a>
      
        <a href="https://dustinpfister.github.io/2018/03/27/js-fetch/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/03/28/js-xmlhttprequest/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          client side xmlHttpRequest for scripting http requests in a tired yet true way
        
      </div>
    </a>
  
  
    <a href="/2018/03/22/nodejs-shelljs/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">shelljs a node.js way to bring posix commands to a node project.</div>
    </a>
  
</nav>

  
</article>



<section id="comments">

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://dustinpfister.github.io/2018/03/27/js-fetch/index.html';
    this.page.identifier = '165';
    this.page.title = 'Using fetch to script http';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://dustinpfister-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular/">angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/api/">api</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/backbone/">backbone</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/discovery/">discovery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/electronjs/">electronjs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/games/">games</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/grunt/">grunt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hapi/">hapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/heroku/">heroku</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jquery/">jquery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lodash/">lodash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node-js/">node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/phaser/">phaser</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/statistics/">statistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/three-js/">three.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backbone/">backbone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/corejs/">corejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deterministic/">deterministic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discovery/">discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejs/">ejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/electronjs/">electronjs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hapi/">hapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jimp/">jimp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js13k/">js13k</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/structured-data/">structured-data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/themes/">themes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three-js/">three.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JSON/" style="font-size: 12.38px;">JSON</a> <a href="/tags/SEO/" style="font-size: 10.48px;">SEO</a> <a href="/tags/angular/" style="font-size: 13.33px;">angular</a> <a href="/tags/animation/" style="font-size: 11.9px;">animation</a> <a href="/tags/automation/" style="font-size: 11.9px;">automation</a> <a href="/tags/backbone/" style="font-size: 12.38px;">backbone</a> <a href="/tags/blog/" style="font-size: 14.76px;">blog</a> <a href="/tags/canvas/" style="font-size: 18.57px;">canvas</a> <a href="/tags/corejs/" style="font-size: 12.86px;">corejs</a> <a href="/tags/deterministic/" style="font-size: 10px;">deterministic</a> <a href="/tags/discovery/" style="font-size: 10.95px;">discovery</a> <a href="/tags/ejs/" style="font-size: 11.43px;">ejs</a> <a href="/tags/electronjs/" style="font-size: 10.95px;">electronjs</a> <a href="/tags/express/" style="font-size: 16.19px;">express</a> <a href="/tags/games/" style="font-size: 16.67px;">games</a> <a href="/tags/git/" style="font-size: 12.86px;">git</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hapi/" style="font-size: 14.76px;">hapi</a> <a href="/tags/heroku/" style="font-size: 11.9px;">heroku</a> <a href="/tags/hexo/" style="font-size: 14.29px;">hexo</a> <a href="/tags/jimp/" style="font-size: 10.48px;">jimp</a> <a href="/tags/jquery/" style="font-size: 11.43px;">jquery</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/js13k/" style="font-size: 10px;">js13k</a> <a href="/tags/linux/" style="font-size: 17.14px;">linux</a> <a href="/tags/lodash/" style="font-size: 18.1px;">lodash</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mongodb/" style="font-size: 14.29px;">mongodb</a> <a href="/tags/node-js/" style="font-size: 19.52px;">node.js</a> <a href="/tags/phaser/" style="font-size: 17.62px;">phaser</a> <a href="/tags/python/" style="font-size: 15.24px;">python</a> <a href="/tags/statistics/" style="font-size: 13.81px;">statistics</a> <a href="/tags/structured-data/" style="font-size: 10px;">structured-data</a> <a href="/tags/themes/" style="font-size: 10px;">themes</a> <a href="/tags/three-js/" style="font-size: 19.05px;">three.js</a> <a href="/tags/vuejs/" style="font-size: 15.71px;">vuejs</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/02/21/electronjs-context-bridge/">The Context Bridge class in electronjs</a>
          </li>
        
          <li>
            <a href="/2022/02/18/threejs-grid-helper/">The Grid Helper in three.js</a>
          </li>
        
          <li>
            <a href="/2022/02/14/electronjs-browser-window/">The Browser Window class in Election</a>
          </li>
        
          <li>
            <a href="/2022/02/11/threejs-examples-tool-source-layer-3d/">A source layer 3d drawing application threejs example</a>
          </li>
        
          <li>
            <a href="/2022/02/07/electronjs-hello-world/">Hello World example of Election.js</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 Dustin Pfister<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      <br>
      <a href="/privacy.html" target="_blank">Privacy Policy</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/2020/03/23/canvas-example/" class="mobile-nav-link">Canvas-Examples</a>
  
    <a href="https://github.com/dustinpfister" class="mobile-nav-link">Github</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'dustinpfister-github-io';
  
  var disqus_url = 'https://dustinpfister.github.io/2018/03/27/js-fetch/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


  </div>
</body>
</html>