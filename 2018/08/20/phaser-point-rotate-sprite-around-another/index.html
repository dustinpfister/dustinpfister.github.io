<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  
  <title>Rotating one sprite around another in Phaser using Point.rotate | Dustin John Pfister at github pages</title>
  
  <!-- no index tag or blank here -->
  
  
  <link rel="canonical" href="https://dustinpfister.github.io/2018/08/20/phaser-point-rotate-sprite-around-another/" />

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="So far this week I have been expanding my content on Phaser ce with the Point Class. This is a very helpful Class that helps with common issues that developers run into when dealing with points in a 2">
<meta property="og:type" content="article">
<meta property="og:title" content="Rotating one sprite around another in Phaser using Point.rotate">
<meta property="og:url" content="https://dustinpfister.github.io/2018/08/20/phaser-point-rotate-sprite-around-another/index.html">
<meta property="og:site_name" content="Dustin John Pfister at github pages">
<meta property="og:description" content="So far this week I have been expanding my content on Phaser ce with the Point Class. This is a very helpful Class that helps with common issues that developers run into when dealing with points in a 2">
<meta property="og:updated_time" content="2018-08-20T22:33:10.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Rotating one sprite around another in Phaser using Point.rotate">
<meta name="twitter:description" content="So far this week I have been expanding my content on Phaser ce with the Point Class. This is a very helpful Class that helps with common issues that developers run into when dealing with points in a 2">
  
    <link rel="alternate" href="/atom.xml" title="Dustin John Pfister at github pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-83195184-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  <!-- structured data set in structured-data.ejs -->
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "email": "distin.pfister@gmail.com",
    "givenName": "Dustin",
    "familyName" : "Pfister",
    "additionalName": "John",
    "name": "Dustin John Pfister",
    "gender": "Male"
}
</script>
<!-- end structured data -->
  
  <!-- adsense if indexed -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1658284027672315",
    enable_page_level_ads: true
  });
  </script>
  
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <!-- added the image-->
        <div class="selfimage"></div>
        <!--<a href="/" id="logo">Dustin John Pfister at github pages</a>-->
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <!-- removed rss link-->
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dustinpfister.github.io"></form>
      </div>
    </div>
  </div>
</header>

<!-- adding my canvas thing ( Dustin ) -->
<script src="/js/the_matrix.js"></script>
      <div class="outer">
        <section id="main"><article itemscope itemtype="http://schema.org/Blog" id="post-phaser-point-rotate-sprite-around-another" class="article article-type-post" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/08/20/phaser-point-rotate-sprite-around-another/" class="article-date"> Published:
  <time datetime="2018-08-20T15:56:00.000Z" itemprop="datePublished">2018-08-20</time>
</a>

    <!-- other info (dustin) -->
    <a href="/2018/08/20/phaser-point-rotate-sprite-around-another/" class="article-date"> Modified:
  <time datetime="2018-08-20T22:33:10.000Z" itemprop="dateModified">2018-08-20</time>
</a>

    <span class="article-date">V1.15</span>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/phaser/">phaser</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Rotating one sprite around another in Phaser using Point.rotate
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="text">
      
        <p>So far this week I have been expanding my content on <a href="https://photonstorm.github.io/phaser-ce/" target="_blank" rel="external">Phaser ce</a> with the Point Class. This is a very helpful Class that helps with common issues that developers run into when dealing with points in a 2d space. In this post I will be writing about the Point.rotate methods, that can be used to rotate a sprite around another sprite, or any object that has exposed x, and y properties for that matter. This should be fun, so lets get into it.</p>
<a id="more"></a>
<h2 id="1-What-to-know-before-continuing"><a href="#1-What-to-know-before-continuing" class="headerlink" title="1 - What to know before continuing"></a>1 - What to know before continuing</h2><p>This is a post on the Point.rotate static method, and it’s Point Class prototype equivalent method in the HTML 5 game framework know as phaser ce. This is not a getting started post on Phaser in general, if you are new to phaser you might want to start with a getting started post on phaser, and brush up more on more general concepts with phaser, before getting into more specific posts like this. Also In this post I am using phaser 2.x, and not the newer phaser 3.x.</p>
<h2 id="2-Some-very-basic-examples-of-the-Phaser-Point-rotate-method"><a href="#2-Some-very-basic-examples-of-the-Phaser-Point-rotate-method" class="headerlink" title="2 - Some very basic examples of the Phaser.Point.rotate method"></a>2 - Some very basic examples of the Phaser.Point.rotate method</h2><p>So lets start off by playing around with a few very simple examples of the Point.rotate method in both it’s static, and prototype form. Once we have a good feel for how to work with this method we can get into some more interesting examples with it.</p>
<h3 id="2-1-Using-the-static-method-form-of-Point-rotate"><a href="#2-1-Using-the-static-method-form-of-Point-rotate" class="headerlink" title="2.1 - Using the static method form of Point.rotate"></a>2.1 - Using the static method form of Point.rotate</h3><p>So like many of the methods in the Point class, they can be used in both a static, and prototype form, out of the gate, without having to do something fancy with call. In most cases I will want to use the static form of the method, because there are a lot of things in Phaser that are not instances of Phaser.Point, but do have exposed x, and y properties in the object, and I will want to use those objects with these methods.</p>
<p>The Phaser.Point.rotate methods works by first giving the object that I want to rotate around another object, I then give the x, and y values of the point that I want this object to rotate around. Then I give the angle in radians or degrees depending on the state of the next argument that is a boolean to set to degrees or radians. Then at least the final sixth argument is the distance between the two points.</p>
<p>So then an example of the static from of Point.rotate might look like this.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// objects for centerPoint, and a thing that</span></div><div class="line"><span class="comment">// I want to rotate around it.</span></div><div class="line"><span class="keyword">var</span> thing = &#123;</div><div class="line">    <span class="attr">x</span>: <span class="number">100</span>,</div><div class="line">    <span class="attr">y</span>: <span class="number">100</span></div><div class="line">&#125;,</div><div class="line">center = &#123;</div><div class="line">    <span class="attr">x</span>: <span class="number">0</span>,</div><div class="line">    <span class="attr">y</span>: <span class="number">0</span></div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// Using the static method</span></div><div class="line">Phaser.Point.rotate(thing, center.x, center.y, <span class="number">45</span>, <span class="literal">true</span>, <span class="number">100</span>);</div><div class="line"> </div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.floor(thing.x), <span class="built_in">Math</span>.floor(thing.y)); <span class="comment">// 0 100</span></div></pre></td></tr></table></figure>
<p>So then the static method version is great for working with any kind of object that has exposed x, and y values. No need to use the prototype version with call or apply.</p>
<h3 id="2-2-Using-the-prototype-form-of-the-method"><a href="#2-2-Using-the-prototype-form-of-the-method" class="headerlink" title="2.2 - Using the prototype form of the method"></a>2.2 - Using the prototype form of the method</h3><p>So then there is also the prototype version of the same method, that works the same way as the static method, but I do not have to give the object that I want to rotate as the first argument, because that is the instance of Point that I am calling the method off of.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// objects for centerPoint, and a thing that</span></div><div class="line"><span class="comment">// I want to rotate around it.</span></div><div class="line"><span class="keyword">var</span> thing = <span class="keyword">new</span> Phaser.Point(<span class="number">100</span>, <span class="number">100</span>),</div><div class="line">center = <span class="keyword">new</span> Phaser.Point(<span class="number">0</span>, <span class="number">0</span>);</div><div class="line"> </div><div class="line"><span class="comment">// Using the prototype method</span></div><div class="line">thing.rotate(center.x, center.y, <span class="number">45</span>, <span class="literal">true</span>, <span class="number">100</span>);</div><div class="line"> </div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.floor(thing.x), <span class="built_in">Math</span>.floor(thing.y)); <span class="comment">// 0 100</span></div></pre></td></tr></table></figure>
<p>This method can also be used in the same manor as the static method if I use Function.call. However why bother with that when I have the static version there before hand?</p>
<h2 id="3-Some-examples-using-sprites"><a href="#3-Some-examples-using-sprites" class="headerlink" title="3 - Some examples using sprites"></a>3 - Some examples using sprites</h2><p>So when it comes to using this method in an actual project of some kind it will of course involve a relationship between two or more sprites. In this section I will be covering a few examples that involving doing just this.</p>
<h3 id="3-1-The-main-game-object-and-the-boot-state"><a href="#3-1-The-main-game-object-and-the-boot-state" class="headerlink" title="3.1 - The main game object, and the boot state"></a>3.1 - The main game object, and the boot state</h3><p>So I started off my project by doing the usual call to Phaser.Game to create an instance of a phaser game object. I often do not pass a default state object, and instead add states to the game via the game.state.add method. This allows me to set up a complex project consisting of many states, and then start a main boot state when, and where I want to.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> game = <span class="keyword">new</span> Phaser.Game(<span class="number">320</span>, <span class="number">240</span>, Phaser.AUTO, <span class="string">'gamearea'</span>);</div><div class="line"> </div><div class="line"><span class="comment">// make a sprite sheet, and start sprites state</span></div><div class="line">game.state.add(<span class="string">'boot'</span>, &#123;</div><div class="line"> </div><div class="line">    <span class="attr">create</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line"> </div><div class="line">        <span class="comment">// sprite sheet generated by canvas</span></div><div class="line">        <span class="keyword">var</span> canvas = <span class="built_in">document</span>.createElement(<span class="string">'canvas'</span>),</div><div class="line">        ctx = canvas.getContext(<span class="string">'2d'</span>);</div><div class="line">        canvas.width = <span class="number">64</span>;</div><div class="line">        canvas.height = <span class="number">32</span>;</div><div class="line"> </div><div class="line">        <span class="comment">// blue frame</span></div><div class="line">        ctx.fillStyle = <span class="string">'#0000ff'</span>;</div><div class="line">        ctx.fillRect(<span class="number">0</span>, <span class="number">0</span>, <span class="number">32</span>, <span class="number">32</span>);</div><div class="line"> </div><div class="line">        <span class="comment">// red frame</span></div><div class="line">        ctx.fillStyle = <span class="string">'#ff0000'</span>;</div><div class="line">        ctx.fillRect(<span class="number">32</span>, <span class="number">0</span>, <span class="number">32</span>, <span class="number">32</span>);</div><div class="line"> </div><div class="line">        game.cache.addSpriteSheet(<span class="string">'sheet-block'</span>, <span class="literal">null</span>, canvas, <span class="number">32</span>, <span class="number">32</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line"> </div><div class="line">        game.state.start(<span class="string">'sprites_1'</span>);</div><div class="line"> </div><div class="line">    &#125;</div><div class="line"> </div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>So in the boot state I create a simple sprite sheet using a canvas element, which is my preferred method when it comes to simple examples like these. Once my sheet is cached, I then start the first state for the first example. The additional states, helper methods and so forth will be defined later in my project, as this boot state will not be stared until everything is all set.</p>
<h3 id="3-2-A-mkSprites-method"><a href="#3-2-A-mkSprites-method" class="headerlink" title="3.2 - A mkSprites method"></a>3.2 - A mkSprites method</h3><p>For these examples I made a helper method that will create some sprites using the sprite sheet I made in the boot state.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// make sprites function</span></div><div class="line"><span class="keyword">var</span> mkSprites = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line"> </div><div class="line">    <span class="keyword">var</span> sprite,</div><div class="line">    x,</div><div class="line">    y,</div><div class="line">    cx = game.world.centerX,</div><div class="line">    cy = game.world.centerY;</div><div class="line"> </div><div class="line">    <span class="comment">// thing</span></div><div class="line">    x = cx + <span class="number">100</span> - <span class="number">16</span>;</div><div class="line">    y = cy - <span class="number">16</span>;</div><div class="line">    sprite = game.add.sprite(x, y, <span class="string">'sheet-block'</span>, <span class="number">0</span>);</div><div class="line">    sprite.name = <span class="string">'thing'</span>;</div><div class="line"> </div><div class="line">    <span class="comment">// center</span></div><div class="line">    x = cx - <span class="number">16</span>;</div><div class="line">    y = cy - <span class="number">16</span>;</div><div class="line">    sprite = game.add.sprite(x, y, <span class="string">'sheet-block'</span>, <span class="number">1</span>);</div><div class="line">    sprite.name = <span class="string">'center'</span>;</div><div class="line"> </div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>This method helps to keep me from repeating code for each example in which I just want two sprites to work with.</p>
<h3 id="3-3-A-state-switcher"><a href="#3-3-A-state-switcher" class="headerlink" title="3.3 - A state switcher"></a>3.3 - A state switcher</h3><p>I then have another helper method that will set up some simple controls that will cycle the examples each time the canvas is souched or clicked.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// switch states</span></div><div class="line"><span class="keyword">var</span> stateSwitcher = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line"> </div><div class="line">    game.input.onDown.add(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line"> </div><div class="line">        demoNum = <span class="built_in">Number</span>(game.state.current.split(<span class="string">'_'</span>)[<span class="number">1</span>]);</div><div class="line"> </div><div class="line">        demoNum += <span class="number">1</span>;</div><div class="line"> </div><div class="line">        demoNum = Phaser.Math.wrap(demoNum, <span class="number">1</span>, <span class="number">4</span>);</div><div class="line"> </div><div class="line">        game.state.start(<span class="string">'sprites_'</span> + demoNum);</div><div class="line"> </div><div class="line">    &#125;);</div><div class="line"> </div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="3-4-Example-1-just-rotate-around-another-sprite"><a href="#3-4-Example-1-just-rotate-around-another-sprite" class="headerlink" title="3.4 - Example 1 - just rotate around another sprite"></a>3.4 - Example 1 - just rotate around another sprite</h3><p>So for the first example I just wanted to have one sprite rotate around another. I just call my helper methods in the create method of the state. Once I have everything set up, I then just grab some references to the sprites using the World.getByName method, and use Phaser.Point.rotate to rotate the ‘thing’ sprite, around the ‘center’ sprite in the update method of the state.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// sprites1 state in which the thing sprite, just rotates around center</span></div><div class="line">game.state.add(<span class="string">'sprites_1'</span>, &#123;</div><div class="line"> </div><div class="line">    <span class="attr">create</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line"> </div><div class="line">        mkSprites();</div><div class="line">        stateSwitcher();</div><div class="line"> </div><div class="line">    &#125;,</div><div class="line"> </div><div class="line">    <span class="attr">update</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line"> </div><div class="line">        <span class="keyword">var</span> thing = game.world.getByName(<span class="string">'thing'</span>),</div><div class="line">        center = game.world.getByName(<span class="string">'center'</span>);</div><div class="line"> </div><div class="line">        Phaser.Point.rotate(thing, center.x, center.y, <span class="number">1</span>, <span class="literal">true</span>, <span class="number">100</span>);</div><div class="line"> </div><div class="line">    &#125;</div><div class="line"> </div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="3-5-Example-2-Heart-shaped-pattern-with-dynamic-distance"><a href="#3-5-Example-2-Heart-shaped-pattern-with-dynamic-distance" class="headerlink" title="3.5 - Example 2 - Heart shaped pattern with dynamic distance"></a>3.5 - Example 2 - Heart shaped pattern with dynamic distance</h3><p>So In this example I now experimented with moving the ‘center’ sprite, and making the distance of the rotation variable, by adding a distance property to the data object of the sprite. If you are not familiar with the data object of a sprite, it is simply the standard official way of appending some project specific properties to a sprite.</p>
<p>In this example I am also using the Phaser.Point.angle method, another great method that can be used to find the angle between two points. I am then using the angle to influence the distance variable of the rotation.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// sprites2 state, heart shaped pattern of thing rotating around</span></div><div class="line"><span class="comment">// center, and center is on the move</span></div><div class="line">game.state.add(<span class="string">'sprites_2'</span>, &#123;</div><div class="line"> </div><div class="line">    <span class="attr">create</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line"> </div><div class="line">        <span class="keyword">var</span> thing;</div><div class="line"> </div><div class="line">        mkSprites();</div><div class="line">        stateSwitcher();</div><div class="line"> </div><div class="line">        thing = game.world.getByName(<span class="string">'thing'</span>);</div><div class="line"> </div><div class="line">        thing.data.dist = <span class="number">50</span>;</div><div class="line"> </div><div class="line">    &#125;,</div><div class="line"> </div><div class="line">    <span class="attr">update</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line"> </div><div class="line">        <span class="keyword">var</span> thing = game.world.getByName(<span class="string">'thing'</span>),</div><div class="line">        center = game.world.getByName(<span class="string">'center'</span>),</div><div class="line">        angle = Phaser.Point.angle(&#123;</div><div class="line">                <span class="attr">x</span>: thing.x + <span class="number">16</span>,</div><div class="line">                <span class="attr">y</span>: thing.y + <span class="number">16</span></div><div class="line">            &#125;, &#123;</div><div class="line">                <span class="attr">x</span>: center.x + <span class="number">16</span>,</div><div class="line">                <span class="attr">y</span>: center.y + <span class="number">16</span></div><div class="line">            &#125;),</div><div class="line">        per = <span class="built_in">Math</span>.abs(angle) / <span class="built_in">Math</span>.PI;</div><div class="line">        thing.data.dist = per * <span class="number">75</span> + <span class="number">50</span>;</div><div class="line"> </div><div class="line">        <span class="comment">// rotate</span></div><div class="line">        Phaser.Point.rotate(thing, center.x, center.y, <span class="number">10</span>, <span class="literal">true</span>, thing.data.dist);</div><div class="line"> </div><div class="line">        center.x += <span class="number">2</span>;</div><div class="line">        center.x = Phaser.Math.wrap(center.x, <span class="number">-125</span>, game.world.width + <span class="number">125</span>);</div><div class="line"> </div><div class="line">    &#125;</div><div class="line"> </div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>Notice that I am also using the Phaser.Math.wrap method, another great method in phaser that is useful for setting up a game world in which a display object wraps back around to the beginning when crossing a boundary.</p>
<h3 id="3-6-Example-3-A-vanilla-js-alternative"><a href="#3-6-Example-3-A-vanilla-js-alternative" class="headerlink" title="3.6 - Example 3 - A vanilla js alternative"></a>3.6 - Example 3 - A vanilla js alternative</h3><p>So there is not much need to bother with any kind of vanilla js alternative to Point.rotate, unless for some reason you need to. Doing so is not too hard, you just need to have an understanding of Math.cos, and Math.sin. These trigonometry functions come in handy for situations like this.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// sprites3 is a vanilla js solution</span></div><div class="line">game.state.add(<span class="string">'sprites_3'</span>, &#123;</div><div class="line"> </div><div class="line">    <span class="attr">create</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line"> </div><div class="line">        <span class="keyword">var</span> thing;</div><div class="line"> </div><div class="line">        mkSprites();</div><div class="line">        stateSwitcher();</div><div class="line"> </div><div class="line">        thing = game.world.getByName(<span class="string">'thing'</span>);</div><div class="line"> </div><div class="line">        thing.data = &#123;</div><div class="line">            <span class="attr">a</span>: <span class="number">0</span>,</div><div class="line">            <span class="attr">f</span>: <span class="number">0</span>,</div><div class="line">            <span class="attr">fMax</span>: <span class="number">50</span>,</div><div class="line">            <span class="attr">dist</span>: <span class="number">50</span></div><div class="line">        &#125;;</div><div class="line"> </div><div class="line">    &#125;,</div><div class="line"> </div><div class="line">    <span class="attr">update</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line"> </div><div class="line">        <span class="keyword">var</span> thing = game.world.getByName(<span class="string">'thing'</span>),</div><div class="line">        center = game.world.getByName(<span class="string">'center'</span>);</div><div class="line"> </div><div class="line">        <span class="comment">// some variables that have to do with</span></div><div class="line">        <span class="comment">// the current state of a movement</span></div><div class="line">        <span class="keyword">var</span> per = thing.data.f / thing.data.fMax,</div><div class="line">        bias = <span class="built_in">Math</span>.abs(per - <span class="number">0.5</span>) / <span class="number">0.5</span>,</div><div class="line">        offset = <span class="built_in">Math</span>.PI;</div><div class="line"> </div><div class="line">        <span class="comment">// set angle based on the above variables</span></div><div class="line">        thing.data.a = <span class="built_in">Math</span>.PI - (<span class="built_in">Math</span>.PI / <span class="number">2</span>) + <span class="built_in">Math</span>.PI * bias + offset;</div><div class="line"> </div><div class="line">        <span class="comment">// set the x, and y position of thing, relative to center</span></div><div class="line">        <span class="comment">// using Math.cos, and Math.sin, as well as the angle found above,</span></div><div class="line">        <span class="comment">// and a distance variable</span></div><div class="line">        thing.x = center.x + <span class="built_in">Math</span>.cos(thing.data.a) * thing.data.dist;</div><div class="line">        thing.y = center.y + <span class="built_in">Math</span>.sin(thing.data.a) * thing.data.dist;</div><div class="line"> </div><div class="line">        thing.data.f += <span class="number">1</span>;</div><div class="line">        thing.data.f = Phaser.Math.wrap(thing.data.f, <span class="number">0</span>, thing.data.fMax - <span class="number">1</span>);</div><div class="line"> </div><div class="line">        center.x += <span class="number">2</span>;</div><div class="line">        center.x = Phaser.Math.wrap(center.x, <span class="number">-125</span>, game.world.width + <span class="number">125</span>);</div><div class="line"> </div><div class="line">    &#125;</div><div class="line"> </div><div class="line">&#125;);</div><div class="line"> </div><div class="line">game.state.start(<span class="string">'boot'</span>);</div></pre></td></tr></table></figure>
<h2 id="4-Conclusion"><a href="#4-Conclusion" class="headerlink" title="4 - Conclusion"></a>4 - Conclusion</h2><p>The Point.rotate method is just one of many useful methods in the point class that comes in handy when trying to make quick work of these kinds of things, so one can move on with what really matters with there project. </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dustinpfister.github.io/2018/08/20/phaser-point-rotate-sprite-around-another/" data-id="cjm8dszoh00xsmov1bdz6hti7" class="article-share-link">Share</a>
      
        <a href="https://dustinpfister.github.io/2018/08/20/phaser-point-rotate-sprite-around-another/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/canvas/">canvas</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/games/">games</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/phaser/">phaser</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/08/21/phaser-point-normalize/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Normalizing Points in Phaser
        
      </div>
    </a>
  
  
    <a href="/2018/08/19/phaser-point-angle-between-two-sprites/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Finding the angle between to sprites in phaser with the Point Class</div>
    </a>
  
</nav>

  
</article>



<section id="comments">

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://dustinpfister.github.io/2018/08/20/phaser-point-rotate-sprite-around-another/index.html';
    this.page.identifier = '265';
    this.page.title = 'Rotating one sprite around another in Phaser using Point.rotate';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://dustinpfister-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular/">angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/api/">api</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/backbone/">backbone</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/discovery/">discovery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/games/">games</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/grunt/">grunt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hapi/">hapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/heroku/">heroku</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jquery/">jquery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lodash/">lodash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node-js/">node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/phaser/">phaser</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/statistics/">statistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/three-js/">three.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backbone/">backbone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/corejs/">corejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deterministic/">deterministic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discovery/">discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejs/">ejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hapi/">hapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jimp/">jimp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js13k/">js13k</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/structured-data/">structured-data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/themes/">themes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three-js/">three.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JSON/" style="font-size: 12.11px;">JSON</a> <a href="/tags/SEO/" style="font-size: 10.53px;">SEO</a> <a href="/tags/angular/" style="font-size: 13.68px;">angular</a> <a href="/tags/animation/" style="font-size: 12.63px;">animation</a> <a href="/tags/automation/" style="font-size: 12.63px;">automation</a> <a href="/tags/backbone/" style="font-size: 13.16px;">backbone</a> <a href="/tags/blog/" style="font-size: 14.74px;">blog</a> <a href="/tags/canvas/" style="font-size: 16.84px;">canvas</a> <a href="/tags/corejs/" style="font-size: 12.63px;">corejs</a> <a href="/tags/deterministic/" style="font-size: 10px;">deterministic</a> <a href="/tags/discovery/" style="font-size: 11.05px;">discovery</a> <a href="/tags/ejs/" style="font-size: 11.58px;">ejs</a> <a href="/tags/express/" style="font-size: 17.37px;">express</a> <a href="/tags/games/" style="font-size: 17.89px;">games</a> <a href="/tags/git/" style="font-size: 11.58px;">git</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hapi/" style="font-size: 15.26px;">hapi</a> <a href="/tags/heroku/" style="font-size: 13.68px;">heroku</a> <a href="/tags/hexo/" style="font-size: 14.21px;">hexo</a> <a href="/tags/jimp/" style="font-size: 10.53px;">jimp</a> <a href="/tags/jquery/" style="font-size: 11.58px;">jquery</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/js13k/" style="font-size: 10px;">js13k</a> <a href="/tags/linux/" style="font-size: 11.58px;">linux</a> <a href="/tags/lodash/" style="font-size: 18.42px;">lodash</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mongodb/" style="font-size: 14.21px;">mongodb</a> <a href="/tags/node-js/" style="font-size: 19.47px;">node.js</a> <a href="/tags/phaser/" style="font-size: 18.95px;">phaser</a> <a href="/tags/statistics/" style="font-size: 12.11px;">statistics</a> <a href="/tags/structured-data/" style="font-size: 10px;">structured-data</a> <a href="/tags/themes/" style="font-size: 10px;">themes</a> <a href="/tags/three-js/" style="font-size: 16.32px;">three.js</a> <a href="/tags/vuejs/" style="font-size: 15.79px;">vuejs</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/07/22/nodejs-http-request/">The nodejs native http request method</a>
          </li>
        
          <li>
            <a href="/2019/07/19/nodejs-buffer-from/">New Buffer from strings arrays and more in nodejs</a>
          </li>
        
          <li>
            <a href="/2019/07/18/nodejs-net/">Node net module basic examples and more</a>
          </li>
        
          <li>
            <a href="/2019/07/11/nodejs-buffer-fill/">Buffer fill in nodejs</a>
          </li>
        
          <li>
            <a href="/2019/07/09/nodejs-process-stdin/">Piping with nodejs thanks to the process stdin global</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Dustin Pfister<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      <br>
      <a href="/privacy.html" target="_blank">Privacy Policy</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'dustinpfister-github-io';
  
  var disqus_url = 'https://dustinpfister.github.io/2018/08/20/phaser-point-rotate-sprite-around-another/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


  </div>
</body>
</html>