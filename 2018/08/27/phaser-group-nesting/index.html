<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  
  <title>Nesting groups in groups in phaser | Dustin John Pfister at github pages</title>
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="For the past few days I have been experimenting with Groups in Phaser ce. Today I worked out some examples that have to do with nesting groups. In other words a group is also a kind of display object,">
<meta property="og:type" content="article">
<meta property="og:title" content="Nesting groups in groups in phaser">
<meta property="og:url" content="https://dustinpfister.github.io/2018/08/27/phaser-group-nesting/index.html">
<meta property="og:site_name" content="Dustin John Pfister at github pages">
<meta property="og:description" content="For the past few days I have been experimenting with Groups in Phaser ce. Today I worked out some examples that have to do with nesting groups. In other words a group is also a kind of display object,">
<meta property="og:updated_time" content="2018-09-02T23:47:49.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Nesting groups in groups in phaser">
<meta name="twitter:description" content="For the past few days I have been experimenting with Groups in Phaser ce. Today I worked out some examples that have to do with nesting groups. In other words a group is also a kind of display object,">
  
    <link rel="alternate" href="/atom.xml" title="Dustin John Pfister at github pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-83195184-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  <!-- structured data set in structured-data.ejs -->
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "email": "distin.pfister@gmail.com",
    "givenName": "Dustin",
    "familyName" : "Pfister",
    "additionalName": "John",
    "name": "Dustin John Pfister",
    "gender": "Male"
}
</script>
<!-- end structured data -->
  
  <!-- adsense -->
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1658284027672315",
    enable_page_level_ads: true
  });
  </script>
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <!-- added the image-->
        <div class="selfimage"></div>
        <!--<a href="/" id="logo">Dustin John Pfister at github pages</a>-->
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <!-- removed rss link-->
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dustinpfister.github.io"></form>
      </div>
    </div>
  </div>
</header>

<!-- adding my canvas thing ( Dustin ) -->
<script src="/js/the_matrix.js"></script>
      <div class="outer">
        <section id="main"><article itemscope itemtype="http://schema.org/Blog" id="post-phaser-group-nesting" class="article article-type-post" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/08/27/phaser-group-nesting/" class="article-date"> Published:
  <time datetime="2018-08-27T21:01:00.000Z" itemprop="datePublished">2018-08-27</time>
</a>

    <!-- other info (dustin) -->
    <a href="/2018/08/27/phaser-group-nesting/" class="article-date"> Modified:
  <time datetime="2018-09-02T23:47:49.000Z" itemprop="dateModified">2018-09-02</time>
</a>

    <span class="article-date">V1.17</span>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/phaser/">phaser</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Nesting groups in groups in phaser
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="text">
      
        <p>For the past few days I have been experimenting with <a href="https://photonstorm.github.io/phaser-ce/Phaser.Group.html" target="_blank" rel="external">Groups</a> in <a href="https://photonstorm.github.io/phaser-ce/" target="_blank" rel="external">Phaser ce</a>. Today I worked out some examples that have to do with nesting groups. In other words a group is also a kind of display object, just like that of a Sprite, so another group can be added to a group, along with other display objects. So in this post I will be covering some examples of nesting groups inside of groups, from simple hello world examples, to some that are starting to resemble a game.</p>
<a id="more"></a>
<h2 id="1-What-to-know-before-continuing"><a href="#1-What-to-know-before-continuing" class="headerlink" title="1 - What to know before continuing"></a>1 - What to know before continuing</h2><p>This is a post on nesting groups in phaser ce, the community edition of the <a href="https://phaser.io/" target="_blank" rel="external">phaser</a> javaScript powered game framework. This is not event a comprehensive post on groups in general, let alone phaser, let alone javaScript, and any additional skills required. However This post might give a few pointers when it comes to nesting groups. If you are new to phaser, you might want to start with my <a href="/2017/10/04/phaser-getting-started/">getting started post on phaser</a>.</p>
<h2 id="2-A-basic-example-of-a-nested-group-in-phaser-ce"><a href="#2-A-basic-example-of-a-nested-group-in-phaser-ce" class="headerlink" title="2 - A basic example of a nested group in phaser ce"></a>2 - A basic example of a nested group in phaser ce</h2><p>The basic idea here is that I just add another group to a group with the Group.add method.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> parent = game.add.group();</div><div class="line">parent.name = <span class="string">'parent'</span>;</div><div class="line"> </div><div class="line"><span class="comment">// I can make another group nested,</span></div><div class="line"><span class="keyword">var</span> nested = game.add.group(parent);</div><div class="line">nested.name = <span class="string">'nested'</span>;</div><div class="line"> </div><div class="line"><span class="built_in">console</span>.log(parent.children[<span class="number">0</span>].name); <span class="comment">// nested</span></div></pre></td></tr></table></figure>
<p>In a nut shell thats all there is to it.</p>
<h2 id="3-Waves-of-enemies"><a href="#3-Waves-of-enemies" class="headerlink" title="3 - Waves of enemies"></a>3 - Waves of enemies</h2><p>For a more complex use case example of nested groups I made a module that might evolve into a solution for making a game that involves the release of waves of enemies over time. That is a game where I would want a collection of waves, and each wave would hold a collection of enemies. In this kind of game I might always want another group to hold a cache of enemies, that will be released at a certain rate into another group where the enemies will actually be updated on each frame tick.</p>
<h3 id="3-1-The-round-module"><a href="#3-1-The-round-module" class="headerlink" title="3.1 - The round module"></a>3.1 - The round module</h3><p>So to help with the complexities of all this I will want to make some kind of module that will house all nested groups, as well as a bunch of methods that help work with these groups. So In this sub section I will be writing about the round module, that will take care of all of this for me.</p>
<h4 id="3-1-1-Creating-the-round-module-and-setup-method"><a href="#3-1-1-Creating-the-round-module-and-setup-method" class="headerlink" title="3.1.1 - Creating the round module, and setup method."></a>3.1.1 - Creating the round module, and setup method.</h4><p>So I start off by making an object literal that will house all the properties, and methods. The first methods that I make for these kinds of projects is a setup methods of some kind. Here I offset some logic that would otherwise go in the create methods of the phaser state object that uses this module.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// round object</span></div><div class="line"><span class="keyword">var</span> round = &#123;</div><div class="line"> </div><div class="line">    <span class="attr">waves</span>: &#123;&#125;, <span class="comment">// the waves group will contain nested groups</span></div><div class="line">    cache: &#123;&#125;, <span class="comment">// the cache will hold enemies to be released</span></div><div class="line">    active: &#123;&#125;, <span class="comment">// active enemies in the game area</span></div><div class="line">    game: <span class="literal">null</span>, <span class="comment">// what will be a reference to Phaser.Game</span></div><div class="line">    enemyCount: <span class="number">0</span>, <span class="comment">// a count of enemies, use to set names</span></div><div class="line">    playerHP: <span class="number">1000</span> <span class="comment">// player hp</span></div><div class="line"> </div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// setup waves</span></div><div class="line">round.setup = <span class="function"><span class="keyword">function</span> (<span class="params">opt</span>) </span>&#123;</div><div class="line"> </div><div class="line">    opt = opt || &#123;&#125;;</div><div class="line"> </div><div class="line">    <span class="keyword">this</span>.game = opt.game || game;</div><div class="line"> </div><div class="line">    <span class="keyword">this</span>.waves = game.add.group();</div><div class="line">    <span class="keyword">this</span>.waves.name = <span class="string">'waves'</span>;</div><div class="line">    <span class="keyword">this</span>.waves.x = <span class="number">-32</span>;</div><div class="line"> </div><div class="line">    <span class="keyword">this</span>.cache = game.add.group();</div><div class="line">    <span class="keyword">this</span>.cache.name = <span class="string">'cache'</span>;</div><div class="line">    <span class="keyword">this</span>.cache.x = <span class="number">-32</span>;</div><div class="line"> </div><div class="line">    <span class="keyword">this</span>.active = game.add.group();</div><div class="line">    <span class="keyword">this</span>.active.name = <span class="string">'active'</span>;</div><div class="line">    <span class="keyword">this</span>.active.x = <span class="number">0</span>;</div><div class="line"> </div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>When the setup method is called in the create methods groups will be created for waves, cache, and active. They will start out empty, but can be populated later in the create method, or elsewhere with another method round.genWaves.</p>
<h4 id="3-1-2-The-round-genWaves-method-for-populating-the-nested-groups-of-enemies"><a href="#3-1-2-The-round-genWaves-method-for-populating-the-nested-groups-of-enemies" class="headerlink" title="3.1.2 - The round.genWaves method for populating the nested groups of enemies"></a>3.1.2 - The round.genWaves method for populating the nested groups of enemies</h4><p>This is the method that will add a new nested group to the waves group. This nested group will then hold a collection of enemies, and I can also set up any additional stuff that I want to do for each enemy here as well, such as enabling input.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// generate the waves</span></div><div class="line">round.genWaves = <span class="function"><span class="keyword">function</span> (<span class="params">waveCount, enemysPerWave</span>) </span>&#123;</div><div class="line"> </div><div class="line">    <span class="keyword">var</span> wave,</div><div class="line">    enemy,</div><div class="line">    wi,</div><div class="line">    ei;</div><div class="line"> </div><div class="line">    <span class="comment">// for each</span></div><div class="line">    wi = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span> (wi &lt; waveCount) &#123;</div><div class="line"> </div><div class="line">        <span class="comment">// add new wave as parent of this.waves (nesting)</span></div><div class="line">        wave = game.add.group(<span class="keyword">this</span>.waves);</div><div class="line">        wave.name = <span class="string">'wave-'</span> + (wi + <span class="number">1</span>);</div><div class="line"> </div><div class="line">        ei = <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span> (ei &lt; enemysPerWave) &#123;</div><div class="line"> </div><div class="line">            enemy = wave.create(<span class="number">0</span>, <span class="number">0</span>, <span class="string">'badguys'</span>);</div><div class="line">            enemy.name = <span class="string">'enemy-'</span> + <span class="keyword">this</span>.enemyCount;</div><div class="line">            enemy.inputEnabled = <span class="literal">true</span>;</div><div class="line"> </div><div class="line">            <span class="comment">// enemies die when clicked</span></div><div class="line">            enemy.events.onInputDown.add(<span class="function"><span class="keyword">function</span> (<span class="params">enemy</span>) </span>&#123;</div><div class="line"> </div><div class="line">                enemy.destroy();</div><div class="line"> </div><div class="line">            &#125;);</div><div class="line"> </div><div class="line">            <span class="keyword">this</span>.enemyCount += <span class="number">1</span>;</div><div class="line">            ei += <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line"> </div><div class="line">        wi += <span class="number">1</span>;</div><div class="line"> </div><div class="line">    &#125;</div><div class="line"> </div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h4 id="3-1-3-next-wave-and-release-methods"><a href="#3-1-3-next-wave-and-release-methods" class="headerlink" title="3.1.3 - next wave, and release methods"></a>3.1.3 - next wave, and release methods</h4><p>There is then a need for methods that can be used to add all the enemies in a wave into a cache group, from there they will then be released into another group where the enemies will actually then be active in the game. For this there is the nextWave, and release methods.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// add next wave to cache</span></div><div class="line">round.nextWave = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line"> </div><div class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.waves.children.length &gt; <span class="number">0</span>) &#123;</div><div class="line"> </div><div class="line">        <span class="keyword">var</span> wave = <span class="keyword">this</span>.waves.children[<span class="number">0</span>],</div><div class="line">        enemy,</div><div class="line">        cache = <span class="keyword">this</span>.cache,</div><div class="line">        i = wave.children.length;</div><div class="line">        <span class="keyword">while</span> (i--) &#123;</div><div class="line">            enemy = wave.children[i];</div><div class="line">            cache.add(enemy);</div><div class="line">        &#125;</div><div class="line"> </div><div class="line">        wave.destroy();</div><div class="line"> </div><div class="line">    &#125;</div><div class="line"> </div><div class="line">&#125;;</div><div class="line"> </div><div class="line"><span class="comment">// release the next enemy from cache</span></div><div class="line">round.release = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line"> </div><div class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.cache.children.length &gt; <span class="number">0</span>) &#123;</div><div class="line"> </div><div class="line">        <span class="keyword">var</span> enemy = <span class="keyword">this</span>.cache.children[<span class="number">0</span>];</div><div class="line">        enemy.x = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * (<span class="keyword">this</span>.game.world.width - <span class="number">32</span>));</div><div class="line">        enemy.y = <span class="number">-32</span>;</div><div class="line">        <span class="keyword">this</span>.active.add(enemy);</div><div class="line"> </div><div class="line">    &#125;</div><div class="line"> </div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h4 id="3-1-4-The-round-tick-method"><a href="#3-1-4-The-round-tick-method" class="headerlink" title="3.1.4 - The round tick method"></a>3.1.4 - The round tick method</h4><p>Finally I will want to add in a method that will be called from the update method of the game state that will be called for each frame tick. Here I am just defining the logic that is to apply to each enemy that is in the active group.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// tick the active group, where the real action happens</span></div><div class="line">round.tick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line"> </div><div class="line">    <span class="keyword">var</span> game = round.game;</div><div class="line"> </div><div class="line">    <span class="keyword">this</span>.active.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">enemy</span>) </span>&#123;</div><div class="line"> </div><div class="line">        enemy.y += <span class="number">1</span>;</div><div class="line"> </div><div class="line">        <span class="keyword">if</span> (enemy.y &gt;= game.world.height) &#123;</div><div class="line"> </div><div class="line">            round.playerHP -= <span class="number">5</span>;</div><div class="line"> </div><div class="line">            enemy.destroy();</div><div class="line"> </div><div class="line">        &#125;</div><div class="line"> </div><div class="line">    &#125;);</div><div class="line"> </div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>For this simple example the enemies are just moving from the top of the screen down to the bottom of the screen. During this time the player can click on them to destroy theme, else if they reach the bottom the player looses hit points. Not much I know, but that is the basic mechanics of many defense strategy games.</p>
<h3 id="3-2-The-Phaser-Game-instance-and-single-state-object"><a href="#3-2-The-Phaser-Game-instance-and-single-state-object" class="headerlink" title="3.2 - The Phaser Game instance, and single state object"></a>3.2 - The Phaser Game instance, and single state object</h3><p>So now that I have my module I can use it in a phaser state object, and get this to start to resemble a game of sorts.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> game = <span class="keyword">new</span> Phaser.Game(<span class="number">320</span>, <span class="number">240</span>, Phaser.AUTO, <span class="string">'gamearea'</span>);</div><div class="line"> </div><div class="line">game.state.add(<span class="string">'example-1'</span>, &#123;</div><div class="line"> </div><div class="line">    <span class="attr">create</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line"> </div><div class="line">        <span class="comment">// basic block sprite sheet, made wwith canvas</span></div><div class="line">        <span class="keyword">var</span> canvas = <span class="built_in">document</span>.createElement(<span class="string">'canvas'</span>);</div><div class="line">        ctx = canvas.getContext(<span class="string">'2d'</span>);</div><div class="line">        canvas.width = <span class="number">32</span>;</div><div class="line">        canvas.height = <span class="number">32</span>;</div><div class="line">        ctx.fillStyle = <span class="string">'#ff0000'</span>;</div><div class="line">        ctx.fillRect(<span class="number">0</span>, <span class="number">0</span>, <span class="number">32</span>, <span class="number">32</span>);</div><div class="line">        <span class="keyword">this</span>.game.cache.addSpriteSheet(<span class="string">'badguys'</span>, <span class="literal">null</span>, canvas, <span class="number">32</span>, <span class="number">32</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line"> </div><div class="line">        <span class="comment">// setup</span></div><div class="line">        round.setup(&#123;</div><div class="line">            <span class="attr">game</span>: game</div><div class="line">        &#125;);</div><div class="line"> </div><div class="line">        <span class="keyword">var</span> font = &#123;</div><div class="line">            <span class="attr">fill</span>: <span class="string">'white'</span>,</div><div class="line">            <span class="attr">font</span>: <span class="string">'10px courier'</span></div><div class="line">        &#125;;</div><div class="line"> </div><div class="line">        <span class="keyword">var</span> text = game.add.text(<span class="number">5</span>, <span class="number">5</span>, <span class="string">''</span>, font);</div><div class="line">        text.name = <span class="string">'text1'</span>;</div><div class="line"> </div><div class="line">        <span class="keyword">var</span> text2 = game.add.text(<span class="number">5</span>, <span class="number">15</span>, <span class="string">''</span>, font);</div><div class="line">        text2.name = <span class="string">'text2'</span>;</div><div class="line"> </div><div class="line">        <span class="comment">// 3 waves of 5</span></div><div class="line">        round.genWaves(<span class="number">3</span>, <span class="number">5</span>);</div><div class="line"> </div><div class="line">        <span class="comment">// 1 wave of ten</span></div><div class="line">        round.genWaves(<span class="number">1</span>, <span class="number">10</span>);</div><div class="line"> </div><div class="line">        <span class="comment">// call next wave for first time, and every ten seconds</span></div><div class="line">        round.nextWave.call(round);</div><div class="line">        game.time.events.loop(<span class="number">7000</span>, round.nextWave, round);</div><div class="line"> </div><div class="line">        <span class="comment">// release a new enemy from cache every second</span></div><div class="line">        game.time.events.loop(<span class="number">1000</span>, round.release, round);</div><div class="line"> </div><div class="line">        <span class="comment">// tick active group</span></div><div class="line">        game.time.events.loop(<span class="number">33</span>, round.tick, round);</div><div class="line"> </div><div class="line">    &#125;,</div><div class="line"> </div><div class="line">    <span class="attr">update</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line"> </div><div class="line">        <span class="keyword">var</span> text = game.world.getByName(<span class="string">'text1'</span>),</div><div class="line">        text2 = game.world.getByName(<span class="string">'text2'</span>);</div><div class="line"> </div><div class="line">        <span class="comment">// wave info</span></div><div class="line">        text.text = <span class="string">'waves: '</span> + round.waves.children.length + <span class="string">' | enemys: '</span> +</div><div class="line">            round.active.children.length +</div><div class="line">            <span class="string">'(+'</span> + round.cache.children.length + <span class="string">')'</span>;</div><div class="line"> </div><div class="line">        <span class="comment">// player info</span></div><div class="line">        text2.text = <span class="string">'hp: '</span> + round.playerHP;</div><div class="line"> </div><div class="line">    &#125;</div><div class="line"> </div><div class="line">&#125;);</div><div class="line"> </div><div class="line">game.state.start(<span class="string">'example-1'</span>);</div></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://dustinpfister.github.io/2018/08/27/phaser-group-nesting/" data-id="cjm8dszlh00wpmov1yw3dcpxf" class="article-share-link">Share</a>
      
        <a href="https://dustinpfister.github.io/2018/08/27/phaser-group-nesting/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/games/">games</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/phaser/">phaser</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/08/28/phaser-group-fixed-to-camera/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Fixing Sprites and other display objects to a camera in phaser
        
      </div>
    </a>
  
  
    <a href="/2018/08/26/phaser-group-remove/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Removing sprites from a Group in phaser</div>
    </a>
  
</nav>

  
</article>



<section id="comments">

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://dustinpfister.github.io/2018/08/27/phaser-group-nesting/index.html';
    this.page.identifier = '272';
    this.page.title = 'Nesting groups in groups in phaser';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://dustinpfister-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular/">angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/api/">api</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/backbone/">backbone</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/discovery/">discovery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/games/">games</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/grunt/">grunt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hapi/">hapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/heroku/">heroku</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jquery/">jquery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lodash/">lodash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node-js/">node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/phaser/">phaser</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/statistics/">statistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/three-js/">three.js</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backbone/">backbone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/corejs/">corejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deterministic/">deterministic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discovery/">discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejs/">ejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hapi/">hapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jimp/">jimp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js13k/">js13k</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/structured-data/">structured-data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/themes/">themes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three-js/">three.js</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JSON/" style="font-size: 12.22px;">JSON</a> <a href="/tags/SEO/" style="font-size: 10.56px;">SEO</a> <a href="/tags/angular/" style="font-size: 13.89px;">angular</a> <a href="/tags/animation/" style="font-size: 11.67px;">animation</a> <a href="/tags/automation/" style="font-size: 12.78px;">automation</a> <a href="/tags/backbone/" style="font-size: 13.33px;">backbone</a> <a href="/tags/blog/" style="font-size: 15.56px;">blog</a> <a href="/tags/canvas/" style="font-size: 17.22px;">canvas</a> <a href="/tags/corejs/" style="font-size: 12.78px;">corejs</a> <a href="/tags/deterministic/" style="font-size: 10px;">deterministic</a> <a href="/tags/discovery/" style="font-size: 11.11px;">discovery</a> <a href="/tags/ejs/" style="font-size: 11.67px;">ejs</a> <a href="/tags/express/" style="font-size: 16.67px;">express</a> <a href="/tags/games/" style="font-size: 18.33px;">games</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hapi/" style="font-size: 14.44px;">hapi</a> <a href="/tags/heroku/" style="font-size: 11.67px;">heroku</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/jimp/" style="font-size: 10.56px;">jimp</a> <a href="/tags/jquery/" style="font-size: 11.67px;">jquery</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/js13k/" style="font-size: 10px;">js13k</a> <a href="/tags/linux/" style="font-size: 11.67px;">linux</a> <a href="/tags/lodash/" style="font-size: 17.78px;">lodash</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mongodb/" style="font-size: 15px;">mongodb</a> <a href="/tags/node-js/" style="font-size: 19.44px;">node.js</a> <a href="/tags/phaser/" style="font-size: 18.89px;">phaser</a> <a href="/tags/statistics/" style="font-size: 12.22px;">statistics</a> <a href="/tags/structured-data/" style="font-size: 10px;">structured-data</a> <a href="/tags/themes/" style="font-size: 10px;">themes</a> <a href="/tags/three-js/" style="font-size: 16.11px;">three.js</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/10/10/phaser-sprite-lifespan/">Setting sprite lifespan in phaser ce</a>
          </li>
        
          <li>
            <a href="/2018/10/09/phaser-plugins/">Starting out with plug-ins in phaser ce</a>
          </li>
        
          <li>
            <a href="/2018/10/07/phaser-create-grid/">Quickly create a grid in phaser ce</a>
          </li>
        
          <li>
            <a href="/2018/10/06/phaser-group-on-child-input-down/">Input down events for all children in a group in phaser ce</a>
          </li>
        
          <li>
            <a href="/2018/10/06/phaser-create-texture/">Create textures in phaser with game.create</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 Dustin Pfister<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'dustinpfister-github-io';
  
  var disqus_url = 'https://dustinpfister.github.io/2018/08/27/phaser-group-nesting/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


  </div>
</body>
</html>