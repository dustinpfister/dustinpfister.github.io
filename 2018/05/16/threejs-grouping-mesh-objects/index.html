<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <!-- disqus image-->
  <meta property="og:image" content="https://dustinpfister.github.io/css/images/banner.jpg">
  
  <title>Grouping two or more Mesh Objects together in three.js | Dustin John Pfister at github pages</title>
  
  <!-- no index tag or blank here -->
  
  
  <link rel="canonical" href="https://dustinpfister.github.io/2018/05/16/threejs-grouping-mesh-objects/" />

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="After writing a lot of demos in threejs I have arrived at a point where it is time to start getting into some more advanced topics in threejs, or at least something new beyond just the very basics of">
<meta property="og:type" content="article">
<meta property="og:title" content="Grouping two or more Mesh Objects together in three.js">
<meta property="og:url" content="https://dustinpfister.github.io/2018/05/16/threejs-grouping-mesh-objects/index.html">
<meta property="og:site_name" content="Dustin John Pfister at github pages">
<meta property="og:description" content="After writing a lot of demos in threejs I have arrived at a point where it is time to start getting into some more advanced topics in threejs, or at least something new beyond just the very basics of">
<meta property="og:updated_time" content="2023-05-08T18:07:58.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Grouping two or more Mesh Objects together in three.js">
<meta name="twitter:description" content="After writing a lot of demos in threejs I have arrived at a point where it is time to start getting into some more advanced topics in threejs, or at least something new beyond just the very basics of">
  
    <link rel="alternate" href="/atom.xml" title="Dustin John Pfister at github pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <!-- Google Analytics -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y8XLNG6JRW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Y8XLNG6JRW');
</script>
<!-- End Google Analytics -->


  <!-- structured data set in structured-data.ejs -->
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "email": "distin.pfister@gmail.com",
    "givenName": "Dustin",
    "familyName" : "Pfister",
    "additionalName": "John",
    "name": "Dustin John Pfister",
    "gender": "Male"
}
</script>
<!-- end structured data -->
  
  <!-- adsense if indexed -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1658284027672315",
    enable_page_level_ads: true
  });
  </script>
  
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <!-- added the image, as well as the link to my youtube -->
        <a href="https://www.youtube.com/user/javaweaver"><div class="selfimage"></div></a>
        <!--<a href="/" id="logo">Dustin John Pfister at github pages</a>-->
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/2021/02/19/threejs-examples/">ThreeJS</a>
        
          <a class="main-nav-link" href="/2020/03/23/canvas-example/">Canvas</a>
        
          <a class="main-nav-link" href="https://www.youtube.com/user/javaweaver">Youtube</a>
        
          <a class="main-nav-link" href="https://github.com/dustinpfister">Github</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <!-- removed rss link-->
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dustinpfister.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article itemscope itemtype="http://schema.org/Blog" id="post-threejs-grouping-mesh-objects" class="article article-type-post" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/05/16/threejs-grouping-mesh-objects/" class="article-date"> Published:
  <time datetime="2018-05-16T15:52:00.000Z" itemprop="datePublished">2018-05-16</time>
</a>

    <!-- other info (dustin) -->
    <a href="/2018/05/16/threejs-grouping-mesh-objects/" class="article-date"> Modified:
  <time datetime="2023-05-08T18:07:58.000Z" itemprop="dateModified">2023-05-08</time>
</a>

    <span class="article-date">V1.45</span>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/three-js/">three.js</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Grouping two or more Mesh Objects together in three.js
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="text">
      
        <p>After writing a lot of demos in <a href="https://threejs.org/" target="_blank" rel="external">threejs</a> I have arrived at a point where it is time to start getting into some more advanced topics in threejs, or at least something new beyond just the very basics of getting started with the library. So with that said, it might be time for me to get into animation with three.js, but doing so the professional way will prove to be a little complicated, and it will also largely involve the use of an application like blender as a way to create models in the form of external files. </p>
<p>So another simple way of making some animations is to have Mesh Objects grouped together, and then have it so they are moving in relation to each by moving the position of a group object rather than each individual mesh object. In addition to this a group object also has all kinds of properties that are inherited from object3d that prove to be useful such as the user data object that I can use to park some of my own data about the group that will be used in some additional code.</p>
<p>Also for one reason or another it is often a good idea to have a way to group two or more objects in general and not just mesh objects. For example I might want to add a light to a camera and then add the camera to a scene object. So this post today will be about the three.js <a href="https://threejs.org/docs/index.html#api/objects/Group" target="_blank" rel="external">Group</a> constructor, but a whole lot of what a group is about is also a feature of the <a href="https://threejs.org/docs/#api/en/core/Object3D" target="_blank" rel="external">object3d class</a> in general. So here I will be going over some of the basics when it comes to this sort of thing, but also I will likely touch base on many other related topics what will come up when creating groups of objects that have to do with rotating a geometry just once, and the difference between world space, and space that is relative to a group.</p>
<a id="more"></a>
<h2 id="Groups-in-threejs-and-what-else-to-know"><a href="#Groups-in-threejs-and-what-else-to-know" class="headerlink" title="Groups in threejs and what else to know"></a>Groups in threejs and what else to know</h2><p>If you are still fairly new to threejs you might want to <a href="/2018/04/04/threejs-getting-started/">start by reading some kind of getting started post on threejs first</a>. The main focus in this post has to do with creating a group of two or more <a href="/2018/05/04/threejs-mesh/">Mesh Object</a> instances to create a single Group that can then be worked with by itself in a scene. These groups of objects can from complex shapes composed of many mesh objects using a collection of built in geometry constructors and materials. I assume that you have at least a basic working knowledge of three.js, and of course javaScript in general, but regardless of where you are at I will be going over a few things in this section that you might want to read up on before hand. </p>
<iframe class="youtube_video" src="https://www.youtube.com/embed/3JW--vfkxPg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>


<h3 id="THREE-Object3D-vs-THREE-Group"><a href="#THREE-Object3D-vs-THREE-Group" class="headerlink" title="THREE.Object3D vs THREE.Group"></a>THREE.Object3D vs THREE.Group</h3><p>When it comes to grouping two ore more Mesh Objects together it may be preferable to use the Group constructor in place of just using <a href="/2018/04/23/threejs-object3d/">Object3D by itself</a>. However as far as I can tell there is not much of any difference other than it makes the readability of your code more clear as to what the object is for. The fact of the matter is that when it comes to grouping things together such a task can be done with any object that is based off the Object3d class really. This includes Groups, Mesh objects, Cameras, various helpers, and even a whole Scene object for that matter.</p>
<h3 id="Check-out-my-curves-module-example"><a href="#Check-out-my-curves-module-example" class="headerlink" title="Check out my curves module example"></a>Check out my curves module example</h3><p>When it comes to setting the position of many child objects of a group I have found that I like to use curves to do so. As such I have started a <a href="/2022/11/18/threejs-examples-curves-module/">threejs project example that is centered around the use of curves</a> to do this sort of thing.</p>
<h3 id="The-source-code-examples-in-this-post-are-on-Github"><a href="#The-source-code-examples-in-this-post-are-on-Github" class="headerlink" title="The source code examples in this post are on Github"></a>The source code examples in this post are on Github</h3><p>The source code examples that I am writing about in this post can be found in <a href="https://github.com/dustinpfister/test_threejs/tree/master/views/forpost/threejs-grouping-mesh-objects" target="_blank" rel="external">my test threejs Github Repository</a>. This is also where I pack the source code examples for my <a href="/categories/three-js/">many other posts on threejs as well</a>.</p>
<h3 id="Version-numbers-matter"><a href="#Version-numbers-matter" class="headerlink" title="Version numbers matter"></a>Version numbers matter</h3><p>I also often try to mention that three.js is a project where the version number matters a great deal as code breaking changes are made all the time.  With that said when I first wrote this post I was using <a href="https://github.com/mrdoob/three.js/releases/tag/r91" target="_blank" rel="external">three.js r91</a>. When it comes to the last time I came around to doing a little editing of this post I was able to still get all these examples to work okay with <a href="https://github.com/mrdoob/three.js/releases/tag/r146" target="_blank" rel="external">r146 as well</a>.</p>
<h2 id="1-Basic-examples-of-Groups-of-Mesh-objects-in-threejs"><a href="#1-Basic-examples-of-Groups-of-Mesh-objects-in-threejs" class="headerlink" title="1 - Basic examples of Groups of Mesh objects in threejs"></a>1 - Basic examples of Groups of Mesh objects in threejs</h2><p>In this section I will be going over a number of basic examples of the THREE.Group constructor function in threejs and while doing so I will also be touching base on a whole lot of other topics in the process. Much of what I cover here will also come into play with the more advanced examples later in the post where I really start to get into some things that are a bit interesting when it comes to making cool projects that are collections of mesh objects.</p>
<p>However before we get into the good stuff we have to get the hello world type examples out of the way when it comes to groups, so lets get to it.</p>
<h3 id="1-1-Creating-a-group-and-adding-mesh-children-to-it"><a href="#1-1-Creating-a-group-and-adding-mesh-children-to-it" class="headerlink" title="1.1 - Creating a group and adding mesh children to it."></a>1.1 - Creating a group and adding mesh children to it.</h3><p>For this very first basic example I am just creating a group, adding it to the scene, and adjusting values for the position and rotation attributes of the group. I am then using a simple make cube helper function to add mesh objects to the group. When doing so the position values for the mesh objects will be relative to the position of the group and not the scene object, or world space. More on world space and scene objects later in this post.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">scene.add(<span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>));</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">4</span> / <span class="number">3</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">( <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body ).appendChild(renderer.domElement);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// HELPER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> makeCube = <span class="function">(<span class="params">size, x, y, z</span>) =&gt;</span> &#123; </div><div class="line">    <span class="keyword">const</span> mesh = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">        <span class="keyword">new</span> THREE.BoxGeometry(size, size, size),</div><div class="line">        <span class="keyword">new</span> THREE.MeshNormalMaterial());</div><div class="line">    mesh.position.set(x, y, z);</div><div class="line">    <span class="keyword">return</span> mesh;</div><div class="line">&#125;;</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// CREATING A GROUP</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> group = <span class="keyword">new</span> THREE.Group();</div><div class="line">scene.add(group);</div><div class="line"><span class="comment">// changing position and rotation of the group</span></div><div class="line">group.position.x = <span class="number">-2</span>;</div><div class="line">group.rotation.y = <span class="built_in">Math</span>.PI / <span class="number">180</span> * <span class="number">45</span>;</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// ADDING MESH OBJECTS TO THE GROUP</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line">group.add(makeCube(<span class="number">1.0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>));</div><div class="line"> group.add(makeCube(<span class="number">0.5</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">0</span>));</div><div class="line">group.add(makeCube(<span class="number">0.5</span>, <span class="number">0</span>, <span class="number">-2</span>, <span class="number">0</span>));</div><div class="line">group.add(makeCube(<span class="number">0.5</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>));</div><div class="line">group.add(makeCube(<span class="number">0.5</span>, <span class="number">-2</span>, <span class="number">0</span>, <span class="number">0</span>));</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// RENDER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line">camera.position.set(<span class="number">8</span>, <span class="number">8</span>, <span class="number">8</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">renderer.render(scene, camera);</div></pre></td></tr></table></figure>
<h3 id="1-2-Mesh-Objects-Positioned-in-a-circle-using-Math-cos-and-Math-sin"><a href="#1-2-Mesh-Objects-Positioned-in-a-circle-using-Math-cos-and-Math-sin" class="headerlink" title="1.2 - Mesh Objects Positioned in a circle using Math.cos and Math.sin"></a>1.2 - Mesh Objects Positioned in a circle using Math.cos and Math.sin</h3><p>For this group example I am creating a group of mesh objects where each mesh objects is positioned in a circle like pattern. There are a number of ways to do this as I will be getting to later examples, but for now I am making use of the core java Script Math.cos and Math.sin methods to do this.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">scene.add(<span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>));</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">4</span> / <span class="number">3</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">( <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body ).appendChild(renderer.domElement);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// CREATING A GROUP</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> group = <span class="keyword">new</span> THREE.Group(), radius = <span class="number">2</span>, count = <span class="number">8</span>;</div><div class="line"><span class="keyword">let</span> i = <span class="number">0</span>;</div><div class="line"><span class="keyword">while</span> (i &lt; count) &#123;</div><div class="line">    <span class="comment">// creating a mesh</span></div><div class="line">    <span class="keyword">const</span> bx = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">            <span class="keyword">new</span> THREE.BoxGeometry(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>),</div><div class="line">            <span class="keyword">new</span> THREE.MeshNormalMaterial()),</div><div class="line">    r = <span class="built_in">Math</span>.PI * <span class="number">2</span> / count * i;</div><div class="line">    <span class="comment">// set position of mesh</span></div><div class="line">    bx.position.set(</div><div class="line">        <span class="built_in">Math</span>.cos(r) * radius,</div><div class="line">        <span class="number">0</span>,</div><div class="line">        <span class="built_in">Math</span>.sin(r) * radius);</div><div class="line">    <span class="comment">// add mesh to the group</span></div><div class="line">    group.add(bx);</div><div class="line">    i += <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line">scene.add(group);</div><div class="line"><span class="comment">// changing position and rotation of the group</span></div><div class="line">group.position.set(<span class="number">-4</span>, <span class="number">0</span>, <span class="number">-4</span>);</div><div class="line">group.rotation.z = <span class="built_in">Math</span>.PI / <span class="number">180</span> * <span class="number">90</span>;</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// RENDER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line">camera.position.set(<span class="number">8</span>, <span class="number">8</span>, <span class="number">8</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">renderer.render(scene, camera);</div></pre></td></tr></table></figure>
<h3 id="1-3-The-parent-property-of-an-object3d-based-object"><a href="#1-3-The-parent-property-of-an-object3d-based-object" class="headerlink" title="1.3 - The parent property of an object3d based object"></a>1.3 - The parent property of an object3d based object</h3><p>The <a href="/2021/06/02/threejs-object3d-parent/">parent property of an object3d</a> based object will be a reference to an object that is the parent of the current object3d based object. So then if I have a scene object and then I add a group to that scene object the parent property of the group should be a ref to the scene object. Also If I add a mesh object as a child of the group the parent property of that mesh should then be a reference to the group and the same could then be said about any additional mesh object that I may add as a child of that mesh object, and so forth.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">scene.add(<span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>));</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">4</span> / <span class="number">3</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">( <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body ).appendChild(renderer.domElement);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// LIGHT</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> dl = <span class="keyword">new</span> THREE.DirectionalLight(<span class="number">0xffffff</span>, <span class="number">1</span>);</div><div class="line">dl.position.set(<span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>);</div><div class="line">scene.add(dl);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// HELPER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> makeCube = <span class="function">(<span class="params">size, x, y, z</span>) =&gt;</span> &#123; </div><div class="line">    <span class="keyword">const</span> mesh = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">        <span class="keyword">new</span> THREE.BoxGeometry(size, size, size),</div><div class="line">        <span class="keyword">new</span> THREE.MeshPhongMaterial(&#123;<span class="attr">color</span>: <span class="keyword">new</span> THREE.Color(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>)&#125;));</div><div class="line">    mesh.position.set(x, y, z);</div><div class="line">    <span class="keyword">return</span> mesh;</div><div class="line">&#125;;</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// CREATING A GROUP</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> group = <span class="keyword">new</span> THREE.Group();</div><div class="line">scene.add(group);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// ADDING MESH OBJECTS TO THE GROUP</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> mesh = makeCube(<span class="number">3</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line"><span class="keyword">const</span> meshChild = makeCube(<span class="number">1.5</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">0</span>);</div><div class="line">mesh.add( meshChild );</div><div class="line">mesh.add( makeCube(<span class="number">1.5</span>, <span class="number">0</span>, <span class="number">-3</span>, <span class="number">0</span>) );</div><div class="line">mesh.add( makeCube(<span class="number">1.5</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">0</span>) );</div><div class="line">mesh.add( makeCube(<span class="number">1.5</span>, <span class="number">-3</span>, <span class="number">0</span>, <span class="number">0</span>) );</div><div class="line">group.add( mesh );</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// GER REFS BY PARENT PROP</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line">meshChild.material.color = <span class="keyword">new</span> THREE.Color(<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">meshChild.parent.material.color = <span class="keyword">new</span> THREE.Color(<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>);</div><div class="line">meshChild.parent.parent.position.set(<span class="number">-5</span>, <span class="number">0</span>, <span class="number">-5</span>);</div><div class="line">meshChild.parent.parent.rotation.y = <span class="built_in">Math</span>.PI / <span class="number">180</span> * <span class="number">45</span>;</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// RENDER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line">camera.position.set(<span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">2.5</span>, <span class="number">0</span>);</div><div class="line">renderer.render(scene, camera);</div></pre></td></tr></table></figure>
<h3 id="1-4-The-Get-By-name-method-and-groups"><a href="#1-4-The-Get-By-name-method-and-groups" class="headerlink" title="1.4 - The Get By name method and groups"></a>1.4 - The Get By name method and groups</h3><p>Another useful object3d class feature when working with groups of objects is the get by name method. When I create a group and start adding a whole bunch of children to the group I can set name values to these objects. That way when I want to get a reference to a certain object I can just call the get by name method off of any object reference that contains the object that I want as a child.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">4</span> / <span class="number">3</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">( <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body ).appendChild(renderer.domElement);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// HELPERS</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> createGroup = <span class="function">(<span class="params">prefix</span>) =&gt;</span> &#123;</div><div class="line">   <span class="keyword">const</span> group = <span class="keyword">new</span> THREE.Group();</div><div class="line">   group.name = prefix;</div><div class="line">   <span class="keyword">const</span> sphere = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">       <span class="keyword">new</span> THREE.SphereGeometry(<span class="number">1</span>, <span class="number">20</span>, <span class="number">20</span>),</div><div class="line">       <span class="keyword">new</span> THREE.MeshPhongMaterial(&#123;<span class="attr">color</span>: <span class="number">0xffffff</span>&#125;)</div><div class="line">   );</div><div class="line">   sphere.name = prefix + <span class="string">'_sphere'</span>;</div><div class="line">   group.add(sphere);</div><div class="line">   <span class="keyword">const</span> cone = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">       <span class="keyword">new</span> THREE.ConeGeometry(<span class="number">0.25</span>, <span class="number">1.5</span>, <span class="number">20</span>, <span class="number">20</span>),</div><div class="line">       <span class="keyword">new</span> THREE.MeshPhongMaterial(&#123;<span class="attr">color</span>: <span class="number">0xffffff</span>&#125;)</div><div class="line">   );</div><div class="line">   cone.geometry.rotateX(<span class="built_in">Math</span>.PI * <span class="number">1.5</span>);</div><div class="line">   cone.position.set(<span class="number">0</span>, <span class="number">1.75</span>, <span class="number">0</span>);</div><div class="line">   cone.lookAt(group.position);</div><div class="line">   cone.name = prefix + <span class="string">'_cone'</span>;</div><div class="line">   group.add(cone);</div><div class="line">   <span class="keyword">return</span> group;</div><div class="line">&#125;;</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// OBJECTS</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line">scene.add(<span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>));</div><div class="line">[<span class="string">'foo'</span>, <span class="string">'bar'</span>, <span class="string">'baz'</span>].forEach( <span class="function">(<span class="params">prefix, i, arr</span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> a1 = i / ( arr.length - <span class="number">1</span>);</div><div class="line">    <span class="keyword">const</span> group = createGroup(prefix);</div><div class="line">    group.position.x = <span class="number">-5</span> + <span class="number">10</span> * a1;</div><div class="line">    scene.add(group);</div><div class="line">&#125;);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// USING GET BY NAME</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> cone = scene.getObjectByName(<span class="string">'baz_cone'</span>);</div><div class="line">cone.material.color = <span class="keyword">new</span> THREE.Color(<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">cone.position.applyEuler( <span class="keyword">new</span> THREE.Euler( <span class="built_in">Math</span>.PI / <span class="number">180</span> * <span class="number">45</span>, <span class="number">0</span>, <span class="number">0</span>) );</div><div class="line">cone.lookAt(cone.parent.position)</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// LIGHT</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> dl = <span class="keyword">new</span> THREE.DirectionalLight(<span class="number">0xffffff</span>, <span class="number">1</span>);</div><div class="line">dl.position.set(<span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>);</div><div class="line">scene.add(dl);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// RENDER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line">camera.position.set(<span class="number">8</span>, <span class="number">8</span>, <span class="number">8</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">renderer.render(scene, camera);</div></pre></td></tr></table></figure>
<h2 id="2-Rotation-of-geometry-to-make-it-line-up-with-the-front-of-a-mesh-object"><a href="#2-Rotation-of-geometry-to-make-it-line-up-with-the-front-of-a-mesh-object" class="headerlink" title="2 - Rotation of geometry to make it line up with the front of a mesh object"></a>2 - Rotation of geometry to make it line up with the front of a mesh object</h2><p>In some cases I will want to <a href="/2021/05/20/threejs-buffer-geometry-rotation/">rotate the geometry</a> that I am using with a mesh so that the front of the geometry will line up with the front of the mesh object. This is so that things will look the way I want it to when using something like the object3d <a href="/2021/05/13/threejs-object3d-lookat/">look at method</a> for example. </p>
<h3 id="2-1-Starting-out-with-the-cone-geometry"><a href="#2-1-Starting-out-with-the-cone-geometry" class="headerlink" title="2.1 - Starting out with the cone geometry"></a>2.1 - Starting out with the cone geometry</h3><p>So then say I have a group of cone geometries and I want the point of the cones to face the center of the group, or maybe I want them to face away from the center. To do this I will just want to call the rotateX method of the buffer geometry class instance created with the cone geometry constructor. When calling rotateX I need to pass a radian value that will be the rotation delta on the X axis. The end result will then be the geometry adjusted by that amount in radius for the X axis.</p>
<p>For this example I am then creating a group of mesh objects each of which use the cone geometry along with the normal material. I made a helper function that when called will create just a single mesh object with the cone geometry set up just the way that I like it. I then have another helper function that will create and return a group and each child of the group will be a mesh object created with this create cone helper.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">scene.add(<span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>));</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">4</span> / <span class="number">3</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">( <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body ).appendChild(renderer.domElement);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// HELPERS</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// create a single cone and rotate the geo once</span></div><div class="line"><span class="keyword">const</span> createConeMesh = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> geo = <span class="keyword">new</span> THREE.ConeGeometry(<span class="number">0.5</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">10</span>);</div><div class="line">    geo.rotateX(<span class="built_in">Math</span>.PI * <span class="number">0.5</span>);</div><div class="line">    <span class="keyword">const</span> cone = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">        geo,</div><div class="line">        <span class="keyword">new</span> THREE.MeshNormalMaterial());</div><div class="line">    <span class="keyword">return</span> cone;</div><div class="line">&#125;;</div><div class="line"><span class="comment">// create a cone circle</span></div><div class="line"><span class="keyword">const</span> createConeCircle = <span class="function"><span class="keyword">function</span> (<span class="params">radius, count</span>) </span>&#123;</div><div class="line">    <span class="keyword">const</span> group = <span class="keyword">new</span> THREE.Group();</div><div class="line">    <span class="keyword">let</span> i = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span> (i &lt; count) &#123;</div><div class="line">        <span class="comment">// creating a mesh</span></div><div class="line">        <span class="keyword">const</span> cone = createConeMesh();</div><div class="line">        <span class="comment">// position the mesh</span></div><div class="line">        <span class="keyword">const</span> vs = <span class="keyword">new</span> THREE.Vector3(<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>);</div><div class="line">        <span class="keyword">const</span> e = <span class="keyword">new</span> THREE.Euler(<span class="number">0</span>, <span class="built_in">Math</span>.PI / <span class="number">180</span> * <span class="number">360</span> * (i / count), <span class="number">0</span> );</div><div class="line">        cone.position.copy(vs).applyEuler(e).multiplyScalar( radius );</div><div class="line">        <span class="comment">// set look at point</span></div><div class="line">        cone.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">        <span class="comment">// add mesh to the group</span></div><div class="line">        group.add(cone);</div><div class="line">        i += <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> group;</div><div class="line">&#125;;</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// GROUPS</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// add groups</span></div><div class="line"><span class="keyword">const</span> group1 = createConeCircle(<span class="number">2</span>, <span class="number">8</span>);</div><div class="line">scene.add(group1);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// RENDER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line">camera.position.set(<span class="number">8</span>, <span class="number">8</span>, <span class="number">8</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">renderer.render(scene, camera);</div></pre></td></tr></table></figure>
<p>When it comes to setting the position of each cone so that they are positioned in a circle around the origin of the group I could use Math.con and Math.sin. However there are a whole lot or great tools to work with in threejs of course when it comes to the Vector3 and Euler classes. With that said here I am using the copy, applyEuler, and multiplyScalar methods to position the mesh objects when creating the mesh objects.</p>
<h3 id="2-2-Using-an-update-method-for-object3d-values-and-just-rotating-the-geometry-once"><a href="#2-2-Using-an-update-method-for-object3d-values-and-just-rotating-the-geometry-once" class="headerlink" title="2.2 - Using an update method for object3d values, and just rotating the geometry once"></a>2.2 - Using an update method for object3d values, and just rotating the geometry once</h3><p>This is now just an improved version of the first example in which I am using cone geometry for a mesh, and rotating the geometry just once. This time I have broke things down and took code that I had in my create method and pulled it into a new update method that I call to set things up for the first time in the create method. However I am also using it outside of the create method as well as a way to update the state of things with the group by just calling the update method, passing the group as the first argument, and then passing an alpha value that will adjust things in terms of a value from 0 to 1. I often like to create my update methods for projects such as this this way where I have a whole bunch of options when it comes to creating a group, or objects of some kind, and then pass that object to an update method where there is just one main alpha value that will set the state of the group.</p>
<p>The main thing to keep in mind here as far as the rotation of the cones is concerned though is that I am just rotation the geometry of the cones once. After that any additional updates to the rotation of the cones is done by calling the look at method which will effect the object3d state of rotation rather than the geometry. </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">scene.add(<span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>));</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">4</span> / <span class="number">3</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">( <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body ).appendChild(renderer.domElement);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// HELPERS</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// create a single cone and rotate the geo once</span></div><div class="line"><span class="keyword">const</span> createConeMesh = <span class="function">(<span class="params"> length, radius </span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> geo = <span class="keyword">new</span> THREE.ConeGeometry(radius, length, <span class="number">10</span>, <span class="number">10</span>);</div><div class="line">    geo.rotateX(<span class="built_in">Math</span>.PI * <span class="number">0.5</span>);</div><div class="line">    <span class="keyword">const</span> cone = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">        geo,</div><div class="line">        <span class="keyword">new</span> THREE.MeshNormalMaterial());</div><div class="line">    <span class="keyword">return</span> cone;</div><div class="line">&#125;;</div><div class="line"><span class="comment">// update a group</span></div><div class="line"><span class="keyword">const</span> coneCircleUpdate = <span class="function">(<span class="params">group, alpha </span>) =&gt;</span> &#123;</div><div class="line">    alpha = alpha || <span class="number">0</span>;</div><div class="line">    <span class="comment">// position the mesh</span></div><div class="line">    <span class="keyword">const</span> count = group.children.length;</div><div class="line">    <span class="keyword">const</span> gud = group.userData;</div><div class="line">    <span class="keyword">let</span> i = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span> (i &lt; count) &#123;</div><div class="line">        <span class="keyword">const</span> cone = group.children[i];</div><div class="line">        <span class="keyword">const</span> vs = <span class="keyword">new</span> THREE.Vector3(<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>);</div><div class="line">        <span class="keyword">const</span> e = <span class="keyword">new</span> THREE.Euler(<span class="number">0</span>, <span class="built_in">Math</span>.PI / <span class="number">180</span> * <span class="number">360</span> * (i / count), <span class="number">0</span> );</div><div class="line">        cone.position.copy(vs).applyEuler(e).multiplyScalar( gud.radius[<span class="number">0</span>] + gud.radius[<span class="number">1</span>] * alpha );</div><div class="line">        <span class="comment">// set look at point</span></div><div class="line">        cone.lookAt(gud.v3_lookat);</div><div class="line">        i += <span class="number">1</span>;</div><div class="line">    &#125;;</div><div class="line">&#125;;</div><div class="line"><span class="comment">// create a cone circle</span></div><div class="line"><span class="keyword">const</span> createConeCircle = <span class="function"><span class="keyword">function</span> (<span class="params">opt</span>) </span>&#123;</div><div class="line">    opt = opt || &#123;&#125;;</div><div class="line">    opt.count = opt.count === <span class="literal">undefined</span> ? <span class="number">4</span> : opt.count;</div><div class="line">    opt.cone = opt.cone || [<span class="number">1</span>, <span class="number">0.5</span>];</div><div class="line">    <span class="keyword">const</span> group = <span class="keyword">new</span> THREE.Group();</div><div class="line">    <span class="keyword">const</span> gud = group.userData;</div><div class="line">    gud.v3_lookat = opt.v3_lookat || <span class="keyword">new</span> THREE.Vector3();</div><div class="line">    gud.radius = opt.radius === <span class="literal">undefined</span> ? [<span class="number">1</span>, <span class="number">1</span>] : opt.radius;</div><div class="line">    <span class="keyword">let</span> i = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span> (i &lt; opt.count) &#123;</div><div class="line">        <span class="comment">// creating a mesh</span></div><div class="line">        <span class="keyword">const</span> cone = createConeMesh.apply(<span class="literal">null</span>, opt.cone);</div><div class="line">        <span class="comment">// add mesh to the group</span></div><div class="line">        group.add(cone);</div><div class="line">        coneCircleUpdate(group, <span class="number">0</span>);</div><div class="line">        i += <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> group;</div><div class="line">&#125;;</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// MESH</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> mesh = <span class="keyword">new</span> THREE.Mesh( <span class="keyword">new</span> THREE.SphereGeometry(<span class="number">0.5</span>, <span class="number">30</span>, <span class="number">30</span>), <span class="keyword">new</span> THREE.MeshNormalMaterial());</div><div class="line">mesh.position.set(<span class="number">2</span>, <span class="number">4</span>, <span class="number">0</span>);</div><div class="line">scene.add(mesh)</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// GROUPS</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> opt = &#123;<span class="attr">count</span>: <span class="number">8</span>, <span class="attr">radius</span>: [<span class="number">2</span>, <span class="number">3</span>], <span class="attr">v3_lookat</span>: mesh.position, <span class="attr">cone</span>: [<span class="number">2</span>,<span class="number">0.5</span>] &#125;;</div><div class="line"><span class="keyword">const</span> group1 = createConeCircle(opt);</div><div class="line">coneCircleUpdate(group1, <span class="number">0</span>);</div><div class="line">scene.add(group1);</div><div class="line"><span class="keyword">const</span> group2 = createConeCircle(opt);</div><div class="line">coneCircleUpdate(group2, <span class="number">1</span>);</div><div class="line">scene.add(group2);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// RENDER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line">camera.position.set(<span class="number">8</span>, <span class="number">8</span>, <span class="number">8</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">renderer.render(scene, camera);</div></pre></td></tr></table></figure>
<h2 id="3-The-object3d-look-at-method-getting-world-position-and-groups"><a href="#3-The-object3d-look-at-method-getting-world-position-and-groups" class="headerlink" title="3 - The object3d look at method, getting world position, and groups"></a>3 - The object3d look at method, getting world position, and groups</h2><p>One nice feature of the <a href="/2021/05/13/threejs-object3d-lookat/">object3d class is the look at method</a>, that helps a lot when it comes to setting the orientation of an object such as a group. I can call this method off of an instance of something that is based off of object3d and pass a position in the from of a few number arguments, or a single instance of vector3. This method works fine in most situations but there are a few draw backs and limitations one of which is that the look at method will always set the orientation of the object relative to world space rather than a space that is relative to a group.</p>
<p>So if I am in a situation in which I want to use the look at method to set the orientation of a group to a position of something in a group, I will want to get the world location of that object in the group. One way to go about doing this would be to use the <a href="https://threejs.org/docs/#api/en/core/Object3D.getWorldPosition" target="_blank" rel="external">get world position method</a> of the object3d class.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">scene.add(<span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>));</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">4</span> / <span class="number">3</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">( <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body ).appendChild(renderer.domElement);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// GROUP AND MESH OBJECTS</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> group = <span class="keyword">new</span> THREE.Group();</div><div class="line"><span class="comment">// creating and adding a pointer mesh to the group</span></div><div class="line"><span class="keyword">const</span> geo = <span class="keyword">new</span> THREE.CylinderGeometry(<span class="number">0</span>, <span class="number">0.5</span>, <span class="number">1</span>, <span class="number">12</span>);</div><div class="line">geo.rotateX(<span class="built_in">Math</span>.PI * <span class="number">0.5</span>);</div><div class="line"><span class="keyword">const</span> pointer = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">    geo,</div><div class="line">    <span class="keyword">new</span> THREE.MeshNormalMaterial());</div><div class="line">pointer.position.set(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">group.add(pointer);</div><div class="line"><span class="comment">// creating and adding a cube</span></div><div class="line"><span class="keyword">const</span> cube = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">    <span class="keyword">new</span> THREE.BoxGeometry(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>),</div><div class="line">    <span class="keyword">new</span> THREE.MeshNormalMaterial());</div><div class="line">cube.position.set(<span class="number">0</span>, <span class="number">0</span>, <span class="number">4</span>);</div><div class="line">group.add(cube);</div><div class="line"><span class="comment">// box helper for the group</span></div><div class="line">group.add(<span class="keyword">new</span> THREE.BoxHelper(group));</div><div class="line"><span class="comment">// changing the position of the group to something other that 0,0,0</span></div><div class="line">group.position.set(<span class="number">-2.0</span>, <span class="number">0</span>, <span class="number">-2.0</span>);</div><div class="line"><span class="comment">// add group to the scene</span></div><div class="line">scene.add(group);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// POINTER LOOK</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// IF I WANT TO HAVE THE POINTER LOOK AT THE CUBE</span></div><div class="line"><span class="comment">// THAT IS A CHILD OF THE GROUP, THEN I WILL WANT TO ADJUST </span></div><div class="line"><span class="comment">// FOR THAT FOR THIS THERE IS THE getWorldPosition Method</span></div><div class="line"><span class="keyword">const</span> v = <span class="keyword">new</span> THREE.Vector3(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">cube.getWorldPosition(v);</div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.values(v)); [<span class="number">-2</span>, <span class="number">0</span>, <span class="number">2</span>];</div><div class="line">pointer.lookAt(v);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// RENDER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line">camera.position.set(<span class="number">8</span>, <span class="number">8</span>, <span class="number">8</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">renderer.render(scene, camera);</div></pre></td></tr></table></figure>
<p>In this example I am once again using the rotate x method of the cone geometry to make it so the point of the cone geometry is line up with the front of the mesh object that is using the cone geometry. I am then adding this cone geometry to a group, along with another child object that is a cube. I am then changing the position of the group so that it is at a location other than the origin. Because I am using the get world position method of the cube to set the values of a vector3 instance and using that with the look at method, this results in the cone pointing to the cube at its location relative to the group, rather than its location relative to world space.</p>
<h2 id="4-Example-of-grouping-with-a-camera"><a href="#4-Example-of-grouping-with-a-camera" class="headerlink" title="4 - Example of grouping with a camera"></a>4 - Example of grouping with a camera</h2><p>Grouping is basically whenever you use the add property of anything that inherits from the Object3D class and it is not just Groups that are based on the Object3d class. The Object3d class is a base class of many other objects in threejs which includes things like cameras, as such I can use the add method to add things like lights, and a Mesh, and position them relative to the camera. </p>
<p>So then say for example I want to have a point light on top of camera, and a Mesh that is always in front of the camera as it moves around in a scene, no problem. I can just add the point light, and mesh object to the camera via the add method of the camera. and then just adjust the position and orientation of these child objects of the camera as needed.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">scene.add(<span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>));</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">4</span> / <span class="number">3</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">( <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body ).appendChild(renderer.domElement);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// ADD CAMERA TO SCENE</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line">scene.add(camera)</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// ADD LIGHT TO CAMERA</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// positioning a light above the camera</span></div><div class="line"><span class="keyword">const</span> light = <span class="keyword">new</span> THREE.PointLight();</div><div class="line">light.position.set(<span class="number">0</span>, <span class="number">5</span>, <span class="number">0</span>);</div><div class="line">camera.add(light);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// OBJECTS</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// positioning a mesh in front of the camera</span></div><div class="line"><span class="keyword">const</span> withCamera = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">        <span class="keyword">new</span> THREE.BoxGeometry(<span class="number">.1</span>, <span class="number">.1</span>, <span class="number">.1</span>),</div><div class="line">        <span class="keyword">new</span> THREE.MeshStandardMaterial(&#123;</div><div class="line">            <span class="attr">color</span>: <span class="number">0xffffff</span>,</div><div class="line">            <span class="attr">emissive</span>: <span class="number">0x1a1a1a</span></div><div class="line">        &#125;));</div><div class="line">withCamera.position.set(<span class="number">-0.25</span>, <span class="number">.2</span>, <span class="number">-0.75</span>);</div><div class="line">camera.add(withCamera);</div><div class="line"><span class="comment">// adding another mesh object directly to the scene</span></div><div class="line">scene.add(<span class="keyword">new</span> THREE.Mesh(</div><div class="line">        <span class="keyword">new</span> THREE.BoxGeometry(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>),</div><div class="line">        <span class="keyword">new</span> THREE.MeshStandardMaterial(&#123;</div><div class="line">            <span class="attr">color</span>: <span class="number">0x00ff00</span></div><div class="line">        &#125;)));</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// LOOP</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line">camera.position.set(<span class="number">8</span>, <span class="number">8</span>, <span class="number">8</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line"><span class="keyword">let</span> frame = <span class="number">0</span>;</div><div class="line"><span class="keyword">const</span> maxFrame = <span class="number">500</span>;</div><div class="line"><span class="keyword">const</span> loop = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">const</span> per = frame / maxFrame,</div><div class="line">    bias = <span class="number">1</span> - <span class="built_in">Math</span>.abs(<span class="number">0.5</span> - per) / <span class="number">0.5</span>;</div><div class="line">    requestAnimationFrame(loop);</div><div class="line">    withCamera.rotation.set(<span class="built_in">Math</span>.PI * <span class="number">4</span> * per,</div><div class="line">        <span class="built_in">Math</span>.PI * <span class="number">2</span> * per, <span class="number">0</span>);</div><div class="line">    camera.position.set(<span class="number">-2</span> + <span class="number">8</span> * bias, <span class="number">8</span>, <span class="number">8</span>);</div><div class="line">    camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">    frame += <span class="number">1</span>;</div><div class="line">    frame = frame % maxFrame;</div><div class="line">    renderer.render(scene, camera);</div><div class="line">&#125;;</div><div class="line">loop();</div></pre></td></tr></table></figure>
<h2 id="5-Using-Grouping-when-making-a-Model"><a href="#5-Using-Grouping-when-making-a-Model" class="headerlink" title="5 - Using Grouping when making a Model"></a>5 - Using Grouping when making a Model</h2><p>Grouping comes in handy when I want to make a Constructor function that will include a group of Mesh Object instances that can be added to a Scene that will constitute some kind of model. The group will typically be one of many properties of the constructor, and will also contain methods that I can use on that group.</p>
<p>For a quick example of this I would place something like this in an external javaScript file called something like model.js:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> Model = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">// the constructor</span></div><div class="line">    <span class="keyword">const</span> Mod = <span class="function"><span class="keyword">function</span> (<span class="params">opt</span>) </span>&#123;</div><div class="line">        <span class="comment">// this is what will be added to the Scene</span></div><div class="line">        <span class="keyword">this</span>.group = <span class="keyword">new</span> THREE.Group;</div><div class="line">        <span class="comment">// set default, or use what is given</span></div><div class="line">        opt = opt || &#123;&#125;;</div><div class="line">        <span class="keyword">this</span>.radius = opt.radius === <span class="literal">undefined</span> ? <span class="number">4</span> : opt.radius;</div><div class="line">        <span class="keyword">this</span>.count = opt.count === <span class="literal">undefined</span> ? <span class="number">5</span> : opt.count;</div><div class="line">        <span class="keyword">this</span>.bxSize = opt.bxSize === <span class="literal">undefined</span> ? <span class="number">1</span> : opt.bxSize;</div><div class="line">        <span class="keyword">this</span>.color = opt.color === <span class="literal">undefined</span> ? <span class="number">0x00ff00</span> : opt.color;</div><div class="line">        <span class="keyword">let</span> i = <span class="number">0</span>,</div><div class="line">        bx,</div><div class="line">        radian;</div><div class="line">        <span class="keyword">while</span> (i &lt; <span class="keyword">this</span>.count) &#123;</div><div class="line">            bx = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">                    <span class="keyword">new</span> THREE.BoxGeometry(<span class="keyword">this</span>.bxSize, <span class="keyword">this</span>.bxSize, <span class="keyword">this</span>.bxSize),</div><div class="line">                    <span class="keyword">new</span> THREE.MeshStandardMaterial(&#123;</div><div class="line">                        <span class="attr">color</span>: <span class="keyword">this</span>.color,</div><div class="line">                        <span class="attr">emissive</span>: <span class="number">0x0f0f0f</span></div><div class="line">                    &#125;));</div><div class="line">            <span class="keyword">this</span>.group.add(bx);</div><div class="line">            i += <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">this</span>.update();</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.group);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// update the group</span></div><div class="line">    Mod.prototype.update = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">let</span> i = <span class="number">0</span>,</div><div class="line">        bx,</div><div class="line">        radian;</div><div class="line">        <span class="keyword">while</span> (i &lt; <span class="keyword">this</span>.count) &#123;</div><div class="line">            bx = <span class="keyword">this</span>.group.children[i];</div><div class="line">            radian = <span class="built_in">Math</span>.PI * <span class="number">2</span> / <span class="keyword">this</span>.count * i;</div><div class="line">            bx.position.set(</div><div class="line">                <span class="built_in">Math</span>.cos(radian) * <span class="keyword">this</span>.radius,</div><div class="line">                <span class="number">0</span>,</div><div class="line">                <span class="built_in">Math</span>.sin(radian) * <span class="keyword">this</span>.radius);</div><div class="line">            bx.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">            i += <span class="number">1</span>;</div><div class="line">        &#125;;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// set radius and update</span></div><div class="line">    Mod.prototype.setRadius = <span class="function"><span class="keyword">function</span> (<span class="params">radius</span>) </span>&#123;</div><div class="line">        <span class="keyword">this</span>.radius = radius;</div><div class="line">        <span class="keyword">this</span>.update();</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// return the constructor</span></div><div class="line">    <span class="keyword">return</span> Mod;</div><div class="line">&#125;());</div></pre></td></tr></table></figure>
<p>This will give me a model that I can use to create a circle of boxes that all face the origin of the group. I just have to add the group property of an instance of this to the scene, and I can of course make many instances of this model in my scene.</p>
<p>When I make my main.js file that will contain the basic elements of my three.js project I can call this constructor from there and give it a bunch of arguments that will define it’s state. In the main update, or render loop of the project I can call setRadius to change the radius of the circle of boxes.</p>
<p>So I would use it in a main.js file to make something like this:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">scene.add(<span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>));</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">4</span> / <span class="number">3</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">( <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body ).appendChild(renderer.domElement);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// MODEL OBJECTS</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> mod1 = <span class="keyword">new</span> Model(&#123; <span class="attr">count</span>: <span class="number">8</span>, <span class="attr">bxSize</span>: <span class="number">1</span>, <span class="attr">color</span>: <span class="number">0xff0000</span> &#125;);</div><div class="line">scene.add(mod1.group);</div><div class="line"><span class="keyword">const</span> mod2 = <span class="keyword">new</span> Model(&#123; <span class="attr">count</span>: <span class="number">16</span>, <span class="attr">radius</span>: <span class="number">8</span>, <span class="attr">bxSize</span>: <span class="number">1</span>&#125;);</div><div class="line">scene.add(mod2.group);</div><div class="line"><span class="keyword">const</span> mod3 = <span class="keyword">new</span> Model(&#123;</div><div class="line">        <span class="attr">count</span>: <span class="number">32</span>,</div><div class="line">        <span class="attr">radius</span>: <span class="number">9</span>,</div><div class="line">        <span class="attr">bxSize</span>: <span class="number">1</span>,</div><div class="line">        <span class="attr">color</span>: <span class="number">0x0000ff</span></div><div class="line">    &#125;);</div><div class="line">mod3.group.rotation.set(<span class="built_in">Math</span>.PI * <span class="number">1.5</span>, <span class="number">0</span>, <span class="number">0</span>)</div><div class="line">scene.add(mod3.group);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// LIGHT</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line">scene.add(<span class="keyword">new</span> THREE.PointLight().add(<span class="keyword">new</span> THREE.Mesh(</div><div class="line">            <span class="keyword">new</span> THREE.SphereGeometry(<span class="number">.5</span>, <span class="number">10</span>, <span class="number">10</span>),</div><div class="line">            <span class="keyword">new</span> THREE.MeshBasicMaterial(&#123;</div><div class="line">                <span class="attr">color</span>: <span class="number">0xffffff</span></div><div class="line">            &#125;))));</div><div class="line"><span class="keyword">const</span> light = <span class="keyword">new</span> THREE.PointLight();</div><div class="line">light.position.set(<span class="number">15</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">light.add(<span class="keyword">new</span> THREE.Mesh(</div><div class="line">        <span class="keyword">new</span> THREE.SphereGeometry(<span class="number">.5</span>, <span class="number">10</span>, <span class="number">10</span>),</div><div class="line">        <span class="keyword">new</span> THREE.MeshBasicMaterial(&#123;</div><div class="line">            <span class="attr">color</span>: <span class="number">0xffffff</span></div><div class="line">        &#125;)))</div><div class="line">scene.add(light);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// LOOP</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line">camera.position.set(<span class="number">8</span>, <span class="number">8</span>, <span class="number">8</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line"><span class="keyword">let</span> frame = <span class="number">0</span>;</div><div class="line"><span class="keyword">const</span> maxFrame = <span class="number">500</span>;</div><div class="line"><span class="keyword">const</span> loop = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">const</span> per = frame / maxFrame,</div><div class="line">    bias = <span class="built_in">Math</span>.abs(<span class="number">.5</span> - per) / <span class="number">.5</span>,</div><div class="line">    r = <span class="built_in">Math</span>.PI * <span class="number">2</span> * per;</div><div class="line">    requestAnimationFrame(loop);</div><div class="line">    renderer.render(scene, camera);</div><div class="line">    <span class="comment">// using the setRadius method of the model to change</span></div><div class="line">    <span class="comment">// the radius.</span></div><div class="line">    mod1.setRadius(<span class="number">1</span> + <span class="number">6</span> * bias);</div><div class="line">    <span class="comment">// changing the rotation of the group</span></div><div class="line">    mod1.group.rotation.set(</div><div class="line">        <span class="built_in">Math</span>.PI * <span class="number">2</span> * per,</div><div class="line">        <span class="built_in">Math</span>.PI * <span class="number">4</span> * per,</div><div class="line">        <span class="built_in">Math</span>.PI * <span class="number">8</span> * per);</div><div class="line">    <span class="comment">// change position of light, and camera</span></div><div class="line">    light.position.set(<span class="built_in">Math</span>.cos(r) * <span class="number">15</span>, <span class="number">0</span>, <span class="built_in">Math</span>.sin(r) * <span class="number">15</span>);</div><div class="line">    camera.position.set(</div><div class="line">        <span class="built_in">Math</span>.cos(r + <span class="built_in">Math</span>.PI * bias) * <span class="number">20</span>,</div><div class="line">        <span class="number">-50</span> + <span class="number">100</span> * bias,</div><div class="line">        <span class="built_in">Math</span>.sin(r) * <span class="number">20</span>);</div><div class="line">    camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">    frame += <span class="number">1</span>;</div><div class="line">    frame = frame % maxFrame;</div><div class="line">&#125;;</div><div class="line">loop();</div></pre></td></tr></table></figure>
<p>This results in three instances of the model, each with different radius, count of boxes, and color. I am also changing the state of one of theme in a loop, by calling one of the methods of the model, as well as by directly working with the group instance as it has all the Object3D methods to play with that will effect the group as a whole when used.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Grouping is a useful in three.js projects, don’t forget that it is also something that you can do with anything in three.js that inherits from the Object3D class. So not only can you use grouping with Mesh Object instances, it can also be done with things like lights, and cameras, and also even additional groups.</p>
<p>One thing that might be work checking out next is one of my <a href="/2021/02/19/threejs-examples/">threejs example</a> posts, <a href="/2021/02/18/threejs-examples-biplane-group/">including one where I have made a crude model of sorts that is a group of groups where each nested group is a bunch of mesh objects that from a biplane</a> of sorts. There are a number of additional other examples that I have made like that where I am using groups as a way to make weird, simple models, which I have to admit is a little fun. There are all kinds of things that can be done with threejs groups that are pretty fun, and so far I have only scratched the surface of what can be done.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dustinpfister.github.io/2018/05/16/threejs-grouping-mesh-objects/" data-id="cliahb5nl02i73ov1tivp10xn" class="article-share-link">Share</a>
      
        <a href="https://dustinpfister.github.io/2018/05/16/threejs-grouping-mesh-objects/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/three-js/">three.js</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/05/17/threejs-camera-orthographic/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          The Orthographic Camera in three.js
        
      </div>
    </a>
  
  
    <a href="/2018/05/14/threejs-mesh-material-index/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Using an array of materials, and setting material index values in three.js</div>
    </a>
  
</nav>

  
</article>



<section id="comments">

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://dustinpfister.github.io/2018/05/16/threejs-grouping-mesh-objects/index.html';
    this.page.identifier = '188';
    this.page.title = 'Grouping two or more Mesh Objects together in three.js';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://dustinpfister-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular/">angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/api/">api</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/backbone/">backbone</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/discovery/">discovery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/electronjs/">electronjs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/games/">games</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/grunt/">grunt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hapi/">hapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/heroku/">heroku</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jquery/">jquery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lodash/">lodash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node-js/">node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/phaser/">phaser</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/statistics/">statistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/three-js/">three.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backbone/">backbone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/corejs/">corejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deterministic/">deterministic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discovery/">discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejs/">ejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/electronjs/">electronjs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hapi/">hapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jimp/">jimp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js13k/">js13k</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/structured-data/">structured-data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/themes/">themes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three-js/">three.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JSON/" style="font-size: 12.27px;">JSON</a> <a href="/tags/SEO/" style="font-size: 10.45px;">SEO</a> <a href="/tags/angular/" style="font-size: 13.18px;">angular</a> <a href="/tags/animation/" style="font-size: 11.82px;">animation</a> <a href="/tags/automation/" style="font-size: 11.82px;">automation</a> <a href="/tags/backbone/" style="font-size: 12.27px;">backbone</a> <a href="/tags/blog/" style="font-size: 15.45px;">blog</a> <a href="/tags/canvas/" style="font-size: 18.64px;">canvas</a> <a href="/tags/corejs/" style="font-size: 12.73px;">corejs</a> <a href="/tags/deterministic/" style="font-size: 10px;">deterministic</a> <a href="/tags/discovery/" style="font-size: 10.91px;">discovery</a> <a href="/tags/ejs/" style="font-size: 11.36px;">ejs</a> <a href="/tags/electronjs/" style="font-size: 13.64px;">electronjs</a> <a href="/tags/express/" style="font-size: 16.82px;">express</a> <a href="/tags/games/" style="font-size: 17.27px;">games</a> <a href="/tags/git/" style="font-size: 13.64px;">git</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hapi/" style="font-size: 15px;">hapi</a> <a href="/tags/heroku/" style="font-size: 11.82px;">heroku</a> <a href="/tags/hexo/" style="font-size: 14.55px;">hexo</a> <a href="/tags/jimp/" style="font-size: 10.45px;">jimp</a> <a href="/tags/jquery/" style="font-size: 11.36px;">jquery</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/js13k/" style="font-size: 10px;">js13k</a> <a href="/tags/linux/" style="font-size: 17.73px;">linux</a> <a href="/tags/lodash/" style="font-size: 18.64px;">lodash</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mongodb/" style="font-size: 14.55px;">mongodb</a> <a href="/tags/node-js/" style="font-size: 19.55px;">node.js</a> <a href="/tags/phaser/" style="font-size: 18.18px;">phaser</a> <a href="/tags/python/" style="font-size: 15.91px;">python</a> <a href="/tags/statistics/" style="font-size: 14.09px;">statistics</a> <a href="/tags/structured-data/" style="font-size: 10px;">structured-data</a> <a href="/tags/themes/" style="font-size: 10px;">themes</a> <a href="/tags/three-js/" style="font-size: 19.09px;">three.js</a> <a href="/tags/vuejs/" style="font-size: 16.36px;">vuejs</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">May 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">April 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/05/25/threejs-curve-quadratic-bezier-curve/">2D Quadratic Bezier Curves in threejs</a>
          </li>
        
          <li>
            <a href="/2023/05/24/git-push/">Git Push command</a>
          </li>
        
          <li>
            <a href="/2023/05/19/threejs-lod/">Level Of Detail Objects in threejs</a>
          </li>
        
          <li>
            <a href="/2023/05/18/git-pull/">Git Pull sub command</a>
          </li>
        
          <li>
            <a href="/2023/05/12/threejs-buffer-geometry-set-draw-range/">The set draw range method of the buffer geometry class in threejs</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2023 Dustin Pfister<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      <br>
      <a href="/privacy.html" target="_blank">Privacy Policy</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/2021/02/19/threejs-examples/" class="mobile-nav-link">ThreeJS</a>
  
    <a href="/2020/03/23/canvas-example/" class="mobile-nav-link">Canvas</a>
  
    <a href="https://www.youtube.com/user/javaweaver" class="mobile-nav-link">Youtube</a>
  
    <a href="https://github.com/dustinpfister" class="mobile-nav-link">Github</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'dustinpfister-github-io';
  
  var disqus_url = 'https://dustinpfister.github.io/2018/05/16/threejs-grouping-mesh-objects/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


  </div>
</body>
</html>