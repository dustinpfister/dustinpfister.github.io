<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <!-- disqus image-->
  <meta property="og:image" content="https://dustinpfister.github.io/css/images/banner.jpg">
  
  <title>Fat Lines in threejs by making use of additional files | Dustin John Pfister at github pages</title>
  
  <!-- no index tag or blank here -->
  
  
  <link rel="canonical" href="https://dustinpfister.github.io/2018/11/07/threejs-line-fat-width/" />

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="When playing around with lines in three.js it would be nice to set the width of lines to a thickness greater than that of one. That is that although there is a line width property of the Line Basic Ma">
<meta property="og:type" content="article">
<meta property="og:title" content="Fat Lines in threejs by making use of additional files">
<meta property="og:url" content="https://dustinpfister.github.io/2018/11/07/threejs-line-fat-width/index.html">
<meta property="og:site_name" content="Dustin John Pfister at github pages">
<meta property="og:description" content="When playing around with lines in three.js it would be nice to set the width of lines to a thickness greater than that of one. That is that although there is a line width property of the Line Basic Ma">
<meta property="og:updated_time" content="2022-12-29T16:25:37.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Fat Lines in threejs by making use of additional files">
<meta name="twitter:description" content="When playing around with lines in three.js it would be nice to set the width of lines to a thickness greater than that of one. That is that although there is a line width property of the Line Basic Ma">
  
    <link rel="alternate" href="/atom.xml" title="Dustin John Pfister at github pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <!-- Google Analytics -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y8XLNG6JRW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Y8XLNG6JRW');
</script>
<!-- End Google Analytics -->


  <!-- structured data set in structured-data.ejs -->
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "email": "distin.pfister@gmail.com",
    "givenName": "Dustin",
    "familyName" : "Pfister",
    "additionalName": "John",
    "name": "Dustin John Pfister",
    "gender": "Male"
}
</script>
<!-- end structured data -->
  
  <!-- adsense if indexed -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1658284027672315",
    enable_page_level_ads: true
  });
  </script>
  
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <!-- added the image, as well as the link to my youtube -->
        <a href="https://www.youtube.com/user/javaweaver"><div class="selfimage"></div></a>
        <!--<a href="/" id="logo">Dustin John Pfister at github pages</a>-->
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/2021/02/19/threejs-examples/">ThreeJS</a>
        
          <a class="main-nav-link" href="/2020/03/23/canvas-example/">Canvas</a>
        
          <a class="main-nav-link" href="https://www.youtube.com/user/javaweaver">Youtube</a>
        
          <a class="main-nav-link" href="https://github.com/dustinpfister">Github</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <!-- removed rss link-->
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dustinpfister.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article itemscope itemtype="http://schema.org/Blog" id="post-threejs-line-fat-width" class="article article-type-post" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/07/threejs-line-fat-width/" class="article-date"> Published:
  <time datetime="2018-11-07T22:52:00.000Z" itemprop="datePublished">2018-11-07</time>
</a>

    <!-- other info (dustin) -->
    <a href="/2018/11/07/threejs-line-fat-width/" class="article-date"> Modified:
  <time datetime="2022-12-29T16:25:37.000Z" itemprop="dateModified">2022-12-29</time>
</a>

    <span class="article-date">V1.3</span>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/three-js/">three.js</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Fat Lines in threejs by making use of additional files
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="text">
      
        <p>When playing around <a href="/2018/04/19/threejs-line/">with lines</a> in <a href="https://threejs.org/" target="_blank" rel="external">three.js</a> it would be nice to set the width of lines to a thickness greater than that of one. That is that although there is a line width property of the <a href="https://threejs.org/docs/index.html#api/en/materials/LineBasicMaterial" target="_blank" rel="external">Line Basic Material</a>, on most platforms, any width other than the default value of 1 will not work. I have found that it will work on some of the Linux systems that I would with, but on Windows, and I assume many others it will now work.</p>
<p>So it would seem that I am just stuck with having to just have a thickness of 1 when it comes to drawing lines in threejs. However there is not just thinking in terms of drawing a line in space, but drawing a tube like structure in space. When doing so I should be able to use <a href="/2018/05/04/threejs-mesh/">THREE.Mesh</a>, rather than <a href="/2018/04/19/threejs-line/">THREE.Line</a>, and then make the radius of this tubing any thickness that I want. There is the option of looking into using curves, and the Tube geometry class as a way to create something like that. However it would be nice to also have a way to draw lines in a way in which the thickness will work on most platforms.</p>
<p>Looking over the examples at the threejs site there are some official additional resources that can be used to make thick lines that seems to work just fine. The only thing about it is that these features are not built into the core of the threejs library itself. They must be added to a project as an additional external files along with threejs. However once added to the stack the feature seems to work pretty good from what I am seeing on my end.</p>
<a id="more"></a>
<iframe class="youtube_video" src="https://www.youtube.com/embed/kIDK-4vpWtM" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>


<h2 id="Fat-lines-in-threejs-and-What-to-know-first"><a href="#Fat-lines-in-threejs-and-What-to-know-first" class="headerlink" title="Fat lines in threejs and What to know first"></a>Fat lines in threejs and What to know first</h2><p>This is a post on using some additional assets with threejs to make fat lines, or lines that have a thickness larger than that of one.  Not being ablble to set a width hoght than one with the built in lines of threejs seems to be a limitation when working with Lines, and the line basic material. This is not a <a href="/2018/04/04/threejs-getting-started/">getting started post with threejs</a>, or javaScript in general so I trust that yo have at least some experience with these things before hand. In any case in this section I will be going over a few quick key details that you should be aware of before containing to read the rest of this post.</p>
<h3 id="Take-a-look-at-curves-and-tube-geomerty"><a href="#Take-a-look-at-curves-and-tube-geomerty" class="headerlink" title="Take a look at curves and tube geomerty"></a>Take a look at curves and tube geomerty</h3><p>These fat lines do seem to work okay, but I still run into limits with what can be done with the material that is used. For the most part it would seem that this just results in fat lines that will work on most if not all platforms by making use of a custom shader. In the long run it might be best to see about <a href="/2022/06/17/threejs-curve/">using curves</a>, and tube geometry as a way to draw 3d lines in space. What is nice about this is that it allows for me to use Mesh objects, and then therefrom mesh materials, and all that there is to work with when it comes to mesh materials.</p>
<h3 id="The-demos-here-require-more-than-just-three-js"><a href="#The-demos-here-require-more-than-just-three-js" class="headerlink" title="The demos here require more than just three.js"></a>The demos here require more than just three.js</h3><p>In this post on top of the usual three.js file, I am also using some additional files that can be found in the <a href="https://github.com/mrdoob/three.js/tree/r140/examples/js/lines" target="_blank" rel="external">examples\/js\/lines</a> folder of the three.js git hub folder. These files bring additional constructors that are not present in three.js by itself. Make sure that you are using the version of the files that corresponds to the revision number of threejs that you are using.</p>
<p>So after loading three.js, load the additional files that are fond in the lines folder of the three.js Github repository as well.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/js/three.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/js/linesegmentsgeometry.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/js/linegeometry.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/js/linematerial.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/js/linesegments2.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/js/line2.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="Source-code-is-on-Github"><a href="#Source-code-is-on-Github" class="headerlink" title="Source code is on Github"></a>Source code is on Github</h3><p>The Source code exmaples in this <a href="https://github.com/dustinpfister/test_threejs/tree/master/views/forpost/threejs-line-fat-width" target="_blank" rel="external">post can also be found on Github</a>.</p>
<h3 id="Version-numbers-matter"><a href="#Version-numbers-matter" class="headerlink" title="Version numbers matter"></a>Version numbers matter</h3><p>When I first wrote this post I was using <a href="https://github.com/mrdoob/three.js/tree/r91" target="_blank" rel="external">three.js r91</a> that was released on March 18 2018. The last time I came around to do a little editing I started a new set of examples working with r140 of the library. It would seem that the files needed to have fat lines are still being supported which is great.</p>
<h2 id="1-Creating-some-fat-lines-with-threejs-and-addtional-files-r140"><a href="#1-Creating-some-fat-lines-with-threejs-and-addtional-files-r140" class="headerlink" title="1 - Creating some fat lines with threejs and addtional files ( r140 )"></a>1 - Creating some fat lines with threejs and addtional files ( r140 )</h2><p>In this section I will be writing about at least one of not more examples of these fat lines using r140 of threejs along with the addtional files needed for that revision.</p>
<h3 id="Once-again-be-sure-to-download-the-addtional-files-for-your-revision-and-link-to-them"><a href="#Once-again-be-sure-to-download-the-addtional-files-for-your-revision-and-link-to-them" class="headerlink" title="Once again be sure to download the addtional files for your revision and link to them"></a>Once again be sure to download the addtional files for your revision and link to them</h3><p>Once again these examples will not work with threejs alone, addtional files are needed. You will need to see somehting like this in your html then:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/js/threejs/0.140.0/three.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/js/threejs/0.140.0/controls/OrbitControls.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/forpost/threejs-line-fat-width/js/r140/LineSegmentsGeometry.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/forpost/threejs-line-fat-width/js/r140/LineGeometry.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/forpost/threejs-line-fat-width/js/r140/LineMaterial.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/forpost/threejs-line-fat-width/js/r140/LineSegments2.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/forpost/threejs-line-fat-width/js/r140/Line2.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/forpost/threejs-line-fat-width/s1-1-basic-r140/js/main.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<p>be sure to change the URLS as needed depending on your setup.</p>
<h3 id="1-1-Basic-example-of-Fat-lines-r140"><a href="#1-1-Basic-example-of-Fat-lines-r140" class="headerlink" title="1.1 - Basic example of Fat lines ( r140 )"></a>1.1 - Basic example of Fat lines ( r140 )</h3><p>This time Around I would lik to start out with a very simple example with this. The general idea here is that I just need to create a geometry using the THREE.LineGeometry class that should now be a part of threejs when the above files are loaded. After that I can use the set positions method to define the points that will compose the fat line. I can then use the line material that is also added now as a way to create the material that is used for this kind of line. After that I then use the Line2 class that should also be there now as that is another one of the files that are added. I can then add the Line2 object to the scene just as with any other object3d based object and then render.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// SCENE, RENDER, CAMERA</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">    scene.add( <span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>))</div><div class="line">    <span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">40</span>, <span class="number">320</span> / <span class="number">240</span>, <span class="number">1</span>, <span class="number">1000</span>);</div><div class="line">    camera.position.set(<span class="number">15</span>, <span class="number">15</span>, <span class="number">15</span>);</div><div class="line">    camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">    <span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGLRenderer();</div><div class="line">    renderer.setPixelRatio(<span class="built_in">window</span>.devicePixelRatio);</div><div class="line">    renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">    (<span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body).appendChild(renderer.domElement);</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// LINE2</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">const</span> geo = <span class="keyword">new</span> THREE.LineGeometry();</div><div class="line">    geo.setPositions([<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>, <span class="number">0</span>,<span class="number">3</span>,<span class="number">0</span>, <span class="number">-3</span>,<span class="number">3</span>,<span class="number">-5</span>, <span class="number">-3</span>,<span class="number">3</span>,<span class="number">5</span>, <span class="number">0</span>,<span class="number">0</span>,<span class="number">5</span>, <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]);</div><div class="line">    <span class="keyword">const</span> line_material = <span class="keyword">new</span> THREE.LineMaterial(&#123;</div><div class="line">        <span class="attr">linewidth</span>: <span class="number">0.025</span>,</div><div class="line">        <span class="attr">color</span>: <span class="number">0xff0000</span></div><div class="line">    &#125;);</div><div class="line">    <span class="keyword">const</span> line = <span class="keyword">new</span> THREE.Line2(geo, line_material);</div><div class="line">    scene.add(line)</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// RENDER</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    renderer.render(scene, camera);</div><div class="line">&#125;</div><div class="line">    ());</div></pre></td></tr></table></figure>
<h3 id="1-2-Vertex-colors"><a href="#1-2-Vertex-colors" class="headerlink" title="1.2 - Vertex colors"></a>1.2 - Vertex colors</h3><p>There is a set colors method of the line geometry that can be used as a way to set what the vertex colors should be for the geometry. This corresponds with the positions only it is r,g,b, rather than x,y,z. The values should be in 0 to 1 form for each color channel values as well.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// SCENE, RENDER, CAMERA</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">    scene.add( <span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>))</div><div class="line">    <span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">40</span>, <span class="number">320</span> / <span class="number">240</span>, <span class="number">1</span>, <span class="number">1000</span>);</div><div class="line">    camera.position.set(<span class="number">15</span>, <span class="number">15</span>, <span class="number">15</span>);</div><div class="line">    camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">    <span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGLRenderer();</div><div class="line">    renderer.setPixelRatio(<span class="built_in">window</span>.devicePixelRatio);</div><div class="line">    renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">    (<span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body).appendChild(renderer.domElement);</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// LINE2</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">const</span> geo = <span class="keyword">new</span> THREE.LineGeometry();</div><div class="line">    geo.setPositions([<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>, <span class="number">0</span>,<span class="number">3</span>,<span class="number">0</span>, <span class="number">-3</span>,<span class="number">3</span>,<span class="number">-5</span>, <span class="number">-3</span>,<span class="number">3</span>,<span class="number">5</span>, <span class="number">0</span>,<span class="number">0</span>,<span class="number">5</span>, <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]);</div><div class="line">    <span class="comment">// use the set colors method an pass an array of color channel values</span></div><div class="line">    <span class="comment">// in the from of 0 to 1 values for each color channel (rgb)</span></div><div class="line">    geo.setColors([<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>, <span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>, <span class="number">0</span>,<span class="number">0.5</span>,<span class="number">0</span>, <span class="number">0</span>,<span class="number">0.5</span>,<span class="number">0.5</span>, <span class="number">0</span>,<span class="number">0.25</span>,<span class="number">0</span>, <span class="number">0</span>,<span class="number">0.25</span>,<span class="number">0.25</span>]);</div><div class="line">    <span class="comment">// use vertex colors when setting up the material</span></div><div class="line">    <span class="keyword">const</span> line_material = <span class="keyword">new</span> THREE.LineMaterial(&#123;</div><div class="line">        <span class="attr">linewidth</span>: <span class="number">0.025</span>, <span class="attr">vertexColors</span>: <span class="literal">true</span></div><div class="line">    &#125;);</div><div class="line">    <span class="keyword">const</span> line = <span class="keyword">new</span> THREE.Line2(geo, line_material);</div><div class="line">    scene.add(line)</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// RENDER</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    renderer.render(scene, camera);</div><div class="line">&#125;</div><div class="line">    ());</div></pre></td></tr></table></figure>
<h2 id="2-Animation-loop-examples"><a href="#2-Animation-loop-examples" class="headerlink" title="2 - Animation loop examples"></a>2 - Animation loop examples</h2><p>For this Section I have a few examples where I aim to just make one or more animation loop examples for the sake of having a demo video for this post. It would seem that updating the state of the geometry as well as the vertex colors use for these kinds of lines is fairly easy. I can just call the set position method over and over again in a loop, and thus far it would seem that works fine for this sort of thing.</p>
<h3 id="2-1-Transition-color"><a href="#2-1-Transition-color" class="headerlink" title="2.1 - Transition color"></a>2.1 - Transition color</h3><p>Here I just wanted to make a simple example where I Transition the values of the colors use for vertex colors. For this example the color array is set just once, and then the position array is what is updated over time. When it comes to setting the state of the position array I made a quick helper function that creates a kind of sin wave for the sake of just having something for the lines. Speaking of lines I made a group of line3 objects rather than just one for this animation loop example.</p>
<p>The end result of this is then a property cool looking effect and I am convinced that using vertex colors might be the best way to have at least some kind of sense of depth when using this sort of thing compared to suing something like tube geometry. With tube geometry I can use a mesh material such as the <a href="/2022/12/29/threejs-phong-material/">phong</a> or standard material that will work with light sources in the scene. For this line material making use of vertex colors is how to keep what I have from just being a solid mas of color.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// SCENE, RENDER, CAMERA</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">    scene.add( <span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>))</div><div class="line">    <span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">40</span>, <span class="number">320</span> / <span class="number">240</span>, <span class="number">1</span>, <span class="number">1000</span>);</div><div class="line">    camera.position.set(<span class="number">15</span>, <span class="number">15</span>, <span class="number">15</span>);</div><div class="line">    camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">    <span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGLRenderer();</div><div class="line">    renderer.setPixelRatio(<span class="built_in">window</span>.devicePixelRatio);</div><div class="line">    renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">    (<span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body).appendChild(renderer.domElement);</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// HELPERS</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// create sin wave position array to use with the setPositions method</span></div><div class="line">    <span class="keyword">const</span> sinWave = <span class="function">(<span class="params">zStart, zEnd, x, waves, yMax, pointCount, radianOffset</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> pos = [];</div><div class="line">        <span class="keyword">let</span> i = <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span>(i &lt; pointCount)&#123;</div><div class="line">           <span class="keyword">const</span> a1 = i / (pointCount - <span class="number">1</span>);</div><div class="line">           <span class="keyword">const</span> z = zStart - (zStart - zEnd) * a1;</div><div class="line">           <span class="keyword">let</span> r = <span class="built_in">Math</span>.PI * <span class="number">2</span> * waves * a1 + radianOffset;</div><div class="line">           r = THREE.MathUtils.euclideanModulo(r, <span class="built_in">Math</span>.PI * <span class="number">2</span>);</div><div class="line">           <span class="keyword">const</span> y = <span class="built_in">Math</span>.sin(r) * yMax;</div><div class="line">           pos.push(x, y, z);</div><div class="line">           i += <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> pos;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// color trans</span></div><div class="line">    <span class="keyword">const</span> colorTrans = <span class="function">(<span class="params">color1, color2, pointCount</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> colors = [];</div><div class="line">        <span class="keyword">let</span> i = <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span>(i &lt; pointCount)&#123;</div><div class="line">           <span class="keyword">const</span> a1 = i / (pointCount - <span class="number">1</span>);</div><div class="line">           <span class="keyword">let</span> r = color1.r * (<span class="number">1</span> - a1) + color2.r * a1;</div><div class="line">           <span class="keyword">let</span> g = color1.g * (<span class="number">1</span> - a1) + color2.g * a1;</div><div class="line">           <span class="keyword">let</span> b = color1.b * (<span class="number">1</span> - a1) + color2.b * a1;</div><div class="line">           colors.push(r,g,b);</div><div class="line">           i += <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> colors;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// LINE2</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// use vertex colors when setting up the material</span></div><div class="line">    <span class="keyword">const</span> line_material = <span class="keyword">new</span> THREE.LineMaterial(&#123;</div><div class="line">        <span class="attr">linewidth</span>: <span class="number">0.025</span>,</div><div class="line">        <span class="attr">vertexColors</span>: <span class="literal">true</span></div><div class="line">    &#125;);</div><div class="line">    <span class="keyword">const</span> group = <span class="keyword">new</span> THREE.Group();</div><div class="line">    scene.add(group);</div><div class="line">    <span class="keyword">let</span> i = <span class="number">0</span>;</div><div class="line">    <span class="keyword">const</span> count = <span class="number">7</span>;</div><div class="line">    <span class="keyword">while</span>(i &lt; count)&#123;</div><div class="line">        <span class="keyword">const</span> a_line = i / (count - <span class="number">1</span>);</div><div class="line">        <span class="keyword">const</span> geo = <span class="keyword">new</span> THREE.LineGeometry();</div><div class="line">        <span class="keyword">const</span> colorArray = colorTrans( <span class="keyword">new</span> THREE.Color(<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> -a_line), <span class="keyword">new</span> THREE.Color(a_line,<span class="number">1</span>, <span class="number">0</span>), <span class="number">80</span> );</div><div class="line">        geo.setColors( colorArray);</div><div class="line">        <span class="keyword">const</span> line = <span class="keyword">new</span> THREE.Line2(geo, line_material);</div><div class="line">        group.add(line);</div><div class="line">        i += <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="comment">// ANIMATION LOOP</span></div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="keyword">const</span> FPS_UPDATE = <span class="number">30</span>, <span class="comment">// fps rate to update ( low fps for low CPU use, but choppy video )</span></div><div class="line">    FPS_MOVEMENT = <span class="number">30</span>;     <span class="comment">// fps rate to move object by that is independent of frame update rate</span></div><div class="line">    FRAME_MAX = <span class="number">120</span>;</div><div class="line">    <span class="keyword">let</span> secs = <span class="number">0</span>,</div><div class="line">    frame = <span class="number">0</span>,</div><div class="line">    lt = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">    <span class="comment">// update</span></div><div class="line">    <span class="keyword">const</span> update = <span class="function"><span class="keyword">function</span>(<span class="params">frame, frameMax</span>)</span>&#123;</div><div class="line">        <span class="keyword">const</span> a1 = frame / frameMax;</div><div class="line">        <span class="keyword">const</span> a2 = <span class="number">1</span> - <span class="built_in">Math</span>.abs(<span class="number">0.5</span> - a1) / <span class="number">0.5</span>;</div><div class="line">        <span class="keyword">let</span> i = <span class="number">0</span>;</div><div class="line">        <span class="keyword">const</span> count = group.children.length;</div><div class="line">        <span class="keyword">while</span>(i &lt; count)&#123;</div><div class="line">            <span class="keyword">const</span> a_line = i / (count - <span class="number">1</span>);</div><div class="line">            <span class="keyword">const</span> a_line2 = <span class="number">1</span> - <span class="built_in">Math</span>.abs(<span class="number">0.5</span> - a_line) / <span class="number">0.5</span>;</div><div class="line">            <span class="keyword">const</span> line = group.children[i];</div><div class="line">            <span class="keyword">const</span> x = <span class="number">-5</span> + <span class="number">10</span> * a_line;</div><div class="line">            <span class="keyword">const</span> yMax = <span class="number">1</span> + <span class="number">3</span> * a_line2;</div><div class="line">            <span class="keyword">const</span> radianOffset = <span class="built_in">Math</span>.PI * <span class="number">2</span> / count * i + <span class="built_in">Math</span>.PI * <span class="number">2</span> * a1; </div><div class="line">            line.geometry.setPositions( sinWave(<span class="number">5</span>, <span class="number">-5</span>, x, <span class="number">4</span>, yMax, <span class="number">80</span>, radianOffset) );</div><div class="line">            i += <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// loop</span></div><div class="line">    <span class="keyword">const</span> loop = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">        secs = (now - lt) / <span class="number">1000</span>;</div><div class="line">        requestAnimationFrame(loop);</div><div class="line">        <span class="keyword">if</span>(secs &gt; <span class="number">1</span> / FPS_UPDATE)&#123;</div><div class="line">            <span class="comment">// update, render</span></div><div class="line">            update( <span class="built_in">Math</span>.floor(frame), FRAME_MAX);</div><div class="line">            renderer.render(scene, camera);</div><div class="line">            <span class="comment">// step frame</span></div><div class="line">            frame += FPS_MOVEMENT * secs;</div><div class="line">            frame %= FRAME_MAX;</div><div class="line">            lt = now;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    loop();</div><div class="line">&#125;</div><div class="line">    ());</div></pre></td></tr></table></figure></p>
<h3 id="2-2-Color-Depth"><a href="#2-2-Color-Depth" class="headerlink" title="2.2 - Color Depth"></a>2.2 - Color Depth</h3><p>This example is more or less the same outcome as the above example that I started this section with, however now I would like to have some depth for the colors by making use of a camera object to effect the state of the colors array. So on top of updating the position array over time I am now also updating the color array over time as well here. On top of that I am also using the state of the position array and how it compares to the position of a given camera as a way to effect the state of the vertex colors of the lines.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// SCENE, RENDER, CAMERA</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">    scene.add( <span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>))</div><div class="line">    <span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">40</span>, <span class="number">320</span> / <span class="number">240</span>, <span class="number">2.5</span>, <span class="number">25</span>);</div><div class="line">    <span class="comment">//camera.position.set(12, 12, 12);</span></div><div class="line">    <span class="comment">//camera.lookAt(0, 0, 0);</span></div><div class="line">    <span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGLRenderer();</div><div class="line">    renderer.setPixelRatio(<span class="built_in">window</span>.devicePixelRatio);</div><div class="line">    renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">    (<span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body).appendChild(renderer.domElement);</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// HELPERS</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// create sin wave position array to use with the setPositions method</span></div><div class="line">    <span class="keyword">const</span> sinWave = <span class="function">(<span class="params">zStart, zEnd, x, waves, yMax, pointCount, radianOffset</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> pos = [];</div><div class="line">        <span class="keyword">let</span> i = <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span>(i &lt; pointCount)&#123;</div><div class="line">           <span class="keyword">const</span> a1 = i / (pointCount - <span class="number">1</span>);</div><div class="line">           <span class="keyword">const</span> z = zStart - (zStart - zEnd) * a1;</div><div class="line">           <span class="keyword">let</span> r = <span class="built_in">Math</span>.PI * <span class="number">2</span> * waves * a1 + radianOffset;</div><div class="line">           r = THREE.MathUtils.euclideanModulo(r, <span class="built_in">Math</span>.PI * <span class="number">2</span>);</div><div class="line">           <span class="keyword">const</span> y = <span class="built_in">Math</span>.sin(r) * yMax;</div><div class="line">           pos.push(x, y, z);</div><div class="line">           i += <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> pos;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// color trans</span></div><div class="line">    <span class="keyword">const</span> colorTrans = <span class="function">(<span class="params">color1, color2, posArray, camera</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> colors = [];</div><div class="line">        <span class="keyword">let</span> i = <span class="number">0</span>;</div><div class="line">        <span class="keyword">const</span> pointCount = posArray.length / <span class="number">3</span>;</div><div class="line">        <span class="keyword">while</span>(i &lt; pointCount)&#123;</div><div class="line">           <span class="keyword">const</span> a1 = i / (pointCount - <span class="number">1</span>);</div><div class="line">           <span class="comment">// raw color values</span></div><div class="line">           <span class="keyword">let</span> r = color1.r * (<span class="number">1</span> - a1) + color2.r * a1;</div><div class="line">           <span class="keyword">let</span> g = color1.g * (<span class="number">1</span> - a1) + color2.g * a1;</div><div class="line">           <span class="keyword">let</span> b = color1.b * (<span class="number">1</span> - a1) + color2.b * a1;</div><div class="line">           <span class="comment">// vector3 in pos Array</span></div><div class="line">           <span class="keyword">let</span> v3 = <span class="keyword">new</span> THREE.Vector3( posArray[i], posArray[i + <span class="number">1</span>], posArray[i + <span class="number">2</span>] );</div><div class="line">           <span class="keyword">const</span> d = v3.distanceTo(camera.position);</div><div class="line">           <span class="keyword">let</span> a_d = <span class="number">0</span>;</div><div class="line">           <span class="keyword">if</span>(d &gt;= camera.near &amp;&amp; d &lt;= camera.far)&#123;</div><div class="line">                a_d = <span class="number">1</span> - <span class="number">1</span> * (d - camera.near) / ( camera.far - camera.near );</div><div class="line">           &#125;</div><div class="line">           colors.push(r * a_d, g * a_d, b * a_d);</div><div class="line">           i += <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> colors;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// update line group</span></div><div class="line">    <span class="keyword">const</span> updateLine2Group = <span class="function">(<span class="params">l2Group, camera, a1 </span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> a2 = <span class="number">1</span> - <span class="built_in">Math</span>.abs(<span class="number">0.5</span> - a1) / <span class="number">0.5</span>;</div><div class="line">        <span class="keyword">let</span> i = <span class="number">0</span>;</div><div class="line">        <span class="keyword">const</span> count = l2Group.children.length;</div><div class="line">        <span class="keyword">const</span> pointCount = <span class="number">120</span>;</div><div class="line">        <span class="keyword">while</span>(i &lt; count)&#123;</div><div class="line">            <span class="keyword">const</span> a_line = i / (count);</div><div class="line">            <span class="keyword">const</span> a_line2 = <span class="number">1</span> - <span class="built_in">Math</span>.abs(<span class="number">0.5</span> - a_line) / <span class="number">0.5</span>;</div><div class="line">            <span class="keyword">const</span> line = l2Group.children[i];</div><div class="line">            <span class="keyword">const</span> x = <span class="number">-5</span> + <span class="number">10</span> * a_line;</div><div class="line">            <span class="keyword">const</span> yMax = <span class="number">1</span> + <span class="number">3</span> * a_line2;</div><div class="line">            <span class="keyword">const</span> radianOffset = <span class="built_in">Math</span>.PI * <span class="number">2</span> / count * i + <span class="built_in">Math</span>.PI * <span class="number">2</span> * a1;</div><div class="line">            <span class="keyword">const</span> posArray = sinWave(<span class="number">5</span>, <span class="number">-5</span>, x, <span class="number">4</span>, yMax, pointCount, radianOffset);</div><div class="line">            line.geometry.setPositions( posArray );</div><div class="line">            <span class="comment">// color</span></div><div class="line">            <span class="keyword">const</span> c1 = <span class="keyword">new</span> THREE.Color(<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span> - a_line);</div><div class="line">            <span class="keyword">const</span> c2 = <span class="keyword">new</span> THREE.Color(a_line, <span class="number">1</span>, <span class="number">0</span>);</div><div class="line">            <span class="keyword">const</span> colorArray = colorTrans( c1, c2, posArray, camera );</div><div class="line">            line.geometry.setColors( colorArray );</div><div class="line">            i += <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">const</span> createLine2Group = <span class="function">(<span class="params">count</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> group = <span class="keyword">new</span> THREE.Group();</div><div class="line">        scene.add(group);</div><div class="line">        <span class="keyword">let</span> i = <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span>(i &lt; count)&#123;</div><div class="line">            <span class="keyword">const</span> a_line = i / (count - <span class="number">1</span>);</div><div class="line">            <span class="keyword">const</span> geo = <span class="keyword">new</span> THREE.LineGeometry();</div><div class="line">            <span class="comment">// use vertex colors when setting up the material</span></div><div class="line">            <span class="keyword">const</span> line_material = <span class="keyword">new</span> THREE.LineMaterial(&#123;</div><div class="line">                <span class="attr">linewidth</span>: <span class="number">0.05</span>, <span class="comment">//0.05 - 0.025 * a_line,</span></div><div class="line">                vertexColors: <span class="literal">true</span></div><div class="line">            &#125;);</div><div class="line">            <span class="keyword">const</span> line = <span class="keyword">new</span> THREE.Line2(geo, line_material);</div><div class="line">            group.add(line);</div><div class="line">            i += <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> group;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// LINE2</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">const</span> group = createLine2Group(<span class="number">10</span>);</div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="comment">// ANIMATION LOOP</span></div><div class="line">    <span class="comment">// ---------- ----------</span></div><div class="line">    <span class="keyword">const</span> FPS_UPDATE = <span class="number">20</span>, <span class="comment">// fps rate to update ( low fps for low CPU use, but choppy video )</span></div><div class="line">    FPS_MOVEMENT = <span class="number">30</span>;     <span class="comment">// fps rate to move object by that is independent of frame update rate</span></div><div class="line">    FRAME_MAX = <span class="number">800</span>;</div><div class="line">    <span class="keyword">let</span> secs = <span class="number">0</span>,</div><div class="line">    frame = <span class="number">0</span>,</div><div class="line">    lt = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">    <span class="comment">// update</span></div><div class="line">    <span class="keyword">const</span> campos1 = <span class="keyword">new</span> THREE.Vector3(<span class="number">15</span>, <span class="number">15</span>, <span class="number">15</span>);</div><div class="line">    <span class="keyword">const</span> campos2 = <span class="keyword">new</span> THREE.Vector3(<span class="number">-5</span>, <span class="number">5</span>, <span class="number">5</span>);</div><div class="line">    <span class="keyword">const</span> update = <span class="function"><span class="keyword">function</span>(<span class="params">frame, frameMax</span>)</span>&#123;</div><div class="line">        <span class="keyword">const</span> a1 = frame / frameMax;</div><div class="line">        <span class="keyword">const</span> a2 = <span class="number">1</span> - <span class="built_in">Math</span>.abs(<span class="number">0.5</span> - a1) / <span class="number">0.5</span>;</div><div class="line">        camera.position.copy(campos1).lerp(campos2, a2);</div><div class="line">        camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">        updateLine2Group(group, camera, a1 * <span class="number">4</span> % <span class="number">1</span>);</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// loop</span></div><div class="line">    <span class="keyword">const</span> loop = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">        secs = (now - lt) / <span class="number">1000</span>;</div><div class="line">        requestAnimationFrame(loop);</div><div class="line">        <span class="keyword">if</span>(secs &gt; <span class="number">1</span> / FPS_UPDATE)&#123;</div><div class="line">            <span class="comment">// update, render</span></div><div class="line">            update( <span class="built_in">Math</span>.floor(frame), FRAME_MAX);</div><div class="line">            renderer.render(scene, camera);</div><div class="line">            <span class="comment">// step frame</span></div><div class="line">            frame += FPS_MOVEMENT * secs;</div><div class="line">            frame %= FRAME_MAX;</div><div class="line">            lt = now;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    loop();</div><div class="line">&#125;</div><div class="line">    ());</div></pre></td></tr></table></figure>
<h2 id="3-Creating-some-fat-lines-with-threejs-and-addtional-files-r91"><a href="#3-Creating-some-fat-lines-with-threejs-and-addtional-files-r91" class="headerlink" title="3 - Creating some fat lines with threejs and addtional files ( r91 )"></a>3 - Creating some fat lines with threejs and addtional files ( r91 )</h2><p>So once I have all the files I need downloaded and linked to with scrips tags in my html it is time to make use of them. In this example I made a few helper methods that make use of the classes that are added to Three.js with the additional files. </p>
<p>If it is any additional help I also based this example off of one of the three.js examples on <a href="https://github.com/mrdoob/three.js/blob/master/examples/webgl_lines_fat.html" target="_blank" rel="external">making fat lines</a>. That example makes use of some more additional assets from the lines folder of the three.js repository. What I did here though is break things down into helpers to make things a little more fine grain, and cover each method in detail in order to help explain things better. When making your own example you might choose to do the same, improving on this, or just simply making it different in some way.</p>
<h2 id="3-1-The-createFatLineGemomety-helper"><a href="#3-1-The-createFatLineGemomety-helper" class="headerlink" title="3.1 - The createFatLineGemomety helper"></a>3.1 - The createFatLineGemomety helper</h2><p>So for my first helper I made something that will create geometry using the LineGeometry file that I added to the project along with three.js. This method accepts a method that will be called for each point in the line. When the method is called for a point it is passed the current point index, and a percentage that I can then use when defining the x, y ,a and z values for the given point.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> createFatLineGeometry = <span class="function"><span class="keyword">function</span> (<span class="params">opt</span>) </span>&#123;</div><div class="line">    opt = opt || &#123;&#125;;</div><div class="line">    opt.forPoint = opt.forPoint || <span class="function"><span class="keyword">function</span> (<span class="params">i, per</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> &#123;</div><div class="line">            <span class="attr">x</span>: i * <span class="number">5</span>,</div><div class="line">            <span class="attr">y</span>: <span class="number">0</span>,</div><div class="line">            <span class="attr">z</span>: <span class="number">0</span></div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    opt.ptCount = opt.ptCount === <span class="literal">undefined</span> ? <span class="number">20</span> : opt.ptCount;</div><div class="line">    opt.colorSolid = opt.colorSolid === <span class="literal">undefined</span> ? <span class="literal">false</span> : opt.colorSolid;</div><div class="line">    opt.color = opt.color === <span class="literal">undefined</span> ? <span class="keyword">new</span> THREE.Color(<span class="number">0xffffff</span>) : opt.color;</div><div class="line">    <span class="comment">// Position and Color Data</span></div><div class="line">    <span class="keyword">var</span> positions = [],</div><div class="line">    colors = [],</div><div class="line">    i = <span class="number">0</span>,</div><div class="line">    point,</div><div class="line">    geo;</div><div class="line">    <span class="comment">// for each point</span></div><div class="line">    <span class="keyword">while</span> (i &lt; opt.ptCount) &#123;</div><div class="line">        <span class="comment">// push point</span></div><div class="line">        point = opt.forPoint(i, i / opt.ptCount);</div><div class="line">        positions.push(point.x, point.y, point.z);</div><div class="line">        <span class="comment">// push color</span></div><div class="line">        <span class="keyword">if</span> (!opt.colorSolid) &#123;</div><div class="line">            opt.color.setHSL(i / opt.ptCount, <span class="number">1.0</span>, <span class="number">0.5</span>);</div><div class="line">        &#125;</div><div class="line">        colors.push(opt.color.r, opt.color.g, opt.color.b);</div><div class="line">        i += <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// return geo</span></div><div class="line">    geo = <span class="keyword">new</span> THREE.LineGeometry();</div><div class="line">    geo.setPositions(positions);</div><div class="line">    geo.setColors(colors);</div><div class="line">    <span class="keyword">return</span> geo;</div><div class="line"> </div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="3-2-The-cretaeFatLine-helper"><a href="#3-2-The-cretaeFatLine-helper" class="headerlink" title="3.2 - The cretaeFatLine helper"></a>3.2 - The cretaeFatLine helper</h2><p>This helper makes use of a geometry made with the create Fat Line Geometry helper, using it with a material made with the Line Material class to return an instance of the Line2 class. This is just so I can have a way to just quickly create and return a complete ready to go instance of the Line2 class with a material and given geometry.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> createFatLine = <span class="function"><span class="keyword">function</span> (<span class="params">opt</span>) </span>&#123;</div><div class="line">    opt = opt || &#123;&#125;;</div><div class="line">    opt.width = opt.width || <span class="number">5</span>;</div><div class="line">    <span class="comment">// LINE MATERIAL</span></div><div class="line">    <span class="keyword">var</span> matLine = <span class="keyword">new</span> THREE.LineMaterial(&#123;</div><div class="line">            <span class="attr">linewidth</span>: opt.width, <span class="comment">// in pixels</span></div><div class="line">            vertexColors: THREE.VertexColors</div><div class="line">        &#125;);</div><div class="line">    matLine.resolution.set(<span class="number">320</span>, <span class="number">240</span>);</div><div class="line">    <span class="keyword">var</span> line = <span class="keyword">new</span> THREE.Line2(opt.geo, matLine);</div><div class="line">    <span class="keyword">return</span> line;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="3-3-Pull-it-all-together"><a href="#3-3-Pull-it-all-together" class="headerlink" title="3.3 - Pull it all together"></a>3.3 - Pull it all together</h3><p>So now that I have my two helper methods I can now use them in a project. Here I created a three.js project using the WebGLRenderer, and append the dom element of the renderer to an element in my html. I then create a scene, and a camera as well like normal. In addition I also am using the official <a href="/2018/04/13/threejs-orbit-controls/">three.js orbit controls</a> in this post as well, which is another external file that can be added to a project.</p>
<p>When using the createFatLine helper I then also call my createFatLineGeometry helper as well which will create and return the geometry for the line with the forPoint method that I give the helper. In this example I made one Fat line using a formula that I worked out that results in a spiral like line, and another that results in just a strait line.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// SCENE, RENDER, CAMERA</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">var</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line">    scene.add( <span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>))</div><div class="line">    <span class="keyword">var</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">40</span>, <span class="number">320</span> / <span class="number">240</span>, <span class="number">1</span>, <span class="number">1000</span>);</div><div class="line">    camera.position.set(<span class="number">15</span>, <span class="number">15</span>, <span class="number">15</span>);</div><div class="line">    <span class="keyword">var</span> renderer = <span class="keyword">new</span> THREE.WebGLRenderer(&#123;</div><div class="line">            <span class="attr">antialias</span>: <span class="literal">true</span></div><div class="line">        &#125;);</div><div class="line">    renderer.setPixelRatio(<span class="built_in">window</span>.devicePixelRatio);</div><div class="line">    renderer.setClearColor(<span class="number">0x000000</span>, <span class="number">0.0</span>);</div><div class="line">    renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">    (<span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body).appendChild(renderer.domElement);</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// HELPERS</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">var</span> createFatLineGeometry = <span class="function"><span class="keyword">function</span> (<span class="params">opt</span>) </span>&#123;</div><div class="line">        opt = opt || &#123;&#125;;</div><div class="line">        opt.forPoint = opt.forPoint || <span class="function"><span class="keyword">function</span> (<span class="params">i, per</span>) </span>&#123;</div><div class="line">            <span class="keyword">return</span> &#123;</div><div class="line">                <span class="attr">x</span>: i * <span class="number">5</span>,</div><div class="line">                <span class="attr">y</span>: <span class="number">0</span>,</div><div class="line">                <span class="attr">z</span>: <span class="number">0</span></div><div class="line">            &#125;</div><div class="line">        &#125;;</div><div class="line">        opt.ptCount = opt.ptCount === <span class="literal">undefined</span> ? <span class="number">20</span> : opt.ptCount;</div><div class="line">        opt.colorSolid = opt.colorSolid === <span class="literal">undefined</span> ? <span class="literal">false</span> : opt.colorSolid;</div><div class="line">        opt.color = opt.color === <span class="literal">undefined</span> ? <span class="keyword">new</span> THREE.Color(<span class="number">0xffffff</span>) : opt.color;</div><div class="line">        <span class="comment">// Position and Color Data</span></div><div class="line">        <span class="keyword">var</span> positions = [],</div><div class="line">        colors = [],</div><div class="line">        i = <span class="number">0</span>,</div><div class="line">        point,</div><div class="line">        geo;</div><div class="line">        <span class="comment">// for each point</span></div><div class="line">        <span class="keyword">while</span> (i &lt; opt.ptCount) &#123;</div><div class="line">            <span class="comment">// push point</span></div><div class="line">            point = opt.forPoint(i, i / opt.ptCount);</div><div class="line">            positions.push(point.x, point.y, point.z);</div><div class="line">            <span class="comment">// push color</span></div><div class="line">            <span class="keyword">if</span> (!opt.colorSolid) &#123;</div><div class="line">                opt.color.setHSL(i / opt.ptCount, <span class="number">1.0</span>, <span class="number">0.5</span>);</div><div class="line">            &#125;</div><div class="line">            colors.push(opt.color.r, opt.color.g, opt.color.b);</div><div class="line">            i += <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// return geo</span></div><div class="line">        geo = <span class="keyword">new</span> THREE.LineGeometry();</div><div class="line">        geo.setPositions(positions);</div><div class="line">        geo.setColors(colors);</div><div class="line">        <span class="keyword">return</span> geo;</div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">var</span> createFatLine = <span class="function"><span class="keyword">function</span> (<span class="params">opt</span>) </span>&#123;</div><div class="line">        opt = opt || &#123;&#125;;</div><div class="line">        opt.width = opt.width || <span class="number">5</span>;</div><div class="line">        <span class="comment">// LINE MATERIAL</span></div><div class="line">        <span class="keyword">var</span> matLine = <span class="keyword">new</span> THREE.LineMaterial(&#123;</div><div class="line">            <span class="attr">linewidth</span>: opt.width, <span class="comment">// in pixels</span></div><div class="line">            color: <span class="number">0xff0000</span></div><div class="line">            <span class="comment">//vertexColors: THREE.VertexColors</span></div><div class="line">        &#125;);</div><div class="line">        matLine.trasparent = <span class="literal">true</span>;</div><div class="line">        matLine.opacity = <span class="number">0.4</span>;</div><div class="line">        matLine.resolution.set(<span class="number">320</span>, <span class="number">240</span>);</div><div class="line">        <span class="keyword">var</span> line = <span class="keyword">new</span> THREE.Line2(opt.geo, matLine);</div><div class="line">        <span class="keyword">return</span> line;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// FAT LINES</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// CREATE FAT LINE</span></div><div class="line">    <span class="keyword">var</span> line = createFatLine(&#123;</div><div class="line">            <span class="attr">width</span>: <span class="number">10</span>,</div><div class="line">            <span class="attr">geo</span>: createFatLineGeometry(&#123;</div><div class="line">                <span class="attr">ptCount</span>: <span class="number">80</span>,</div><div class="line">                <span class="attr">colorSolid</span>: <span class="literal">true</span>,</div><div class="line">                <span class="attr">color</span>: <span class="keyword">new</span> THREE.Color(<span class="number">0x00ff00</span>),</div><div class="line">                <span class="attr">forPoint</span>: <span class="function"><span class="keyword">function</span> (<span class="params">i, per</span>) </span>&#123;</div><div class="line">                    <span class="keyword">return</span> &#123;</div><div class="line">                        <span class="attr">x</span>: i * <span class="number">0.1</span>,</div><div class="line">                        <span class="attr">y</span>: <span class="built_in">Math</span>.cos(<span class="built_in">Math</span>.PI * <span class="number">4</span> * (per)) * <span class="number">5</span>,</div><div class="line">                        <span class="attr">z</span>: <span class="built_in">Math</span>.sin(<span class="built_in">Math</span>.PI * <span class="number">4</span> * (per)) * <span class="number">2.5</span></div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;)</div><div class="line">        &#125;);</div><div class="line">    scene.add(line);</div><div class="line">    <span class="comment">// CREATE ANOTHER FAT LINE</span></div><div class="line">    <span class="keyword">var</span> line2 = createFatLine(&#123;</div><div class="line">            <span class="attr">width</span>: <span class="number">10</span>,</div><div class="line">            <span class="attr">geo</span>: createFatLineGeometry(&#123;</div><div class="line">                <span class="attr">ptCount</span>: <span class="number">2</span></div><div class="line">            &#125;)</div><div class="line">        &#125;);</div><div class="line">    scene.add(line2);</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// CONTROLS</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">var</span> controls = <span class="keyword">new</span> THREE.OrbitControls(camera, renderer.domElement);</div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="comment">// LOOP</span></div><div class="line">    <span class="comment">//-------- ----------</span></div><div class="line">    <span class="keyword">var</span> loop = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        requestAnimationFrame(loop);</div><div class="line">        <span class="comment">// main scene</span></div><div class="line">        renderer.setClearColor(<span class="number">0x000000</span>, <span class="number">0</span>);</div><div class="line">        renderer.setViewport(<span class="number">0</span>, <span class="number">0</span>, <span class="number">640</span>, <span class="number">480</span>);</div><div class="line">        <span class="comment">// renderer will set this eventually</span></div><div class="line">        renderer.render(scene, camera);</div><div class="line">        renderer.setClearColor(<span class="number">0x222222</span>, <span class="number">1</span>);</div><div class="line">        renderer.clearDepth();</div><div class="line">    &#125;;</div><div class="line">    loop();</div><div class="line">&#125;</div><div class="line">    ());</div></pre></td></tr></table></figure>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>So the process of making fat lines in three.js is a little complicated, but with a little will power it is not to hard to find a work around. There are a number of other great features that can be worth with in my own projects that exist in the examples folder of the official threejs github repository, such as orbit and <a href="/2021/05/05/threejs-fly-controls/">fly controls</a> just to name a few of the features to worth with there.</p>
<p>If you enjoyed reading this post you might want to check out <a href="/categories/three-js/">my many other posts on three.js</a>. Also if you have any questions of concerns be sure to let me know in the comments, The more feedback I receive the more inclined I will be to get around to expanding the content on this post, and others like it. In any case thank you for reading and have fun with three.js.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dustinpfister.github.io/2018/11/07/threejs-line-fat-width/" data-id="clfy54jjf02hlq4v1wn7ut0n3" class="article-share-link">Share</a>
      
        <a href="https://dustinpfister.github.io/2018/11/07/threejs-line-fat-width/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/three-js/">three.js</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/11/08/phaser-physics-immovable/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Making a Sprite physics body immovable in phaser ce
        
      </div>
    </a>
  
  
    <a href="/2018/11/06/phaser-line-intersects/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Finding if two lines intersect in phaser ce</div>
    </a>
  
</nav>

  
</article>



<section id="comments">

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://dustinpfister.github.io/2018/11/07/threejs-line-fat-width/index.html';
    this.page.identifier = '324';
    this.page.title = 'Fat Lines in threejs by making use of additional files';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://dustinpfister-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular/">angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/api/">api</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/backbone/">backbone</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/discovery/">discovery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/electronjs/">electronjs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/games/">games</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/grunt/">grunt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hapi/">hapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/heroku/">heroku</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jquery/">jquery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lodash/">lodash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node-js/">node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/phaser/">phaser</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/statistics/">statistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/three-js/">three.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backbone/">backbone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/corejs/">corejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deterministic/">deterministic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discovery/">discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejs/">ejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/electronjs/">electronjs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hapi/">hapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jimp/">jimp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js13k/">js13k</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/structured-data/">structured-data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/themes/">themes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three-js/">three.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JSON/" style="font-size: 12.27px;">JSON</a> <a href="/tags/SEO/" style="font-size: 10.45px;">SEO</a> <a href="/tags/angular/" style="font-size: 13.18px;">angular</a> <a href="/tags/animation/" style="font-size: 11.82px;">animation</a> <a href="/tags/automation/" style="font-size: 11.82px;">automation</a> <a href="/tags/backbone/" style="font-size: 12.27px;">backbone</a> <a href="/tags/blog/" style="font-size: 15.45px;">blog</a> <a href="/tags/canvas/" style="font-size: 18.64px;">canvas</a> <a href="/tags/corejs/" style="font-size: 12.73px;">corejs</a> <a href="/tags/deterministic/" style="font-size: 10px;">deterministic</a> <a href="/tags/discovery/" style="font-size: 10.91px;">discovery</a> <a href="/tags/ejs/" style="font-size: 11.36px;">ejs</a> <a href="/tags/electronjs/" style="font-size: 13.64px;">electronjs</a> <a href="/tags/express/" style="font-size: 16.82px;">express</a> <a href="/tags/games/" style="font-size: 17.27px;">games</a> <a href="/tags/git/" style="font-size: 12.73px;">git</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hapi/" style="font-size: 15px;">hapi</a> <a href="/tags/heroku/" style="font-size: 11.82px;">heroku</a> <a href="/tags/hexo/" style="font-size: 14.55px;">hexo</a> <a href="/tags/jimp/" style="font-size: 10.45px;">jimp</a> <a href="/tags/jquery/" style="font-size: 11.36px;">jquery</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/js13k/" style="font-size: 10px;">js13k</a> <a href="/tags/linux/" style="font-size: 17.73px;">linux</a> <a href="/tags/lodash/" style="font-size: 18.64px;">lodash</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mongodb/" style="font-size: 14.55px;">mongodb</a> <a href="/tags/node-js/" style="font-size: 19.55px;">node.js</a> <a href="/tags/phaser/" style="font-size: 18.18px;">phaser</a> <a href="/tags/python/" style="font-size: 15.91px;">python</a> <a href="/tags/statistics/" style="font-size: 14.09px;">statistics</a> <a href="/tags/structured-data/" style="font-size: 10px;">structured-data</a> <a href="/tags/themes/" style="font-size: 10px;">themes</a> <a href="/tags/three-js/" style="font-size: 19.09px;">three.js</a> <a href="/tags/vuejs/" style="font-size: 16.36px;">vuejs</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/03/31/threejs-quaternion-premultiply/">Quaternion premultiply method in threejs</a>
          </li>
        
          <li>
            <a href="/2023/03/24/threejs-quaternion/">Quaternion rotation objects in threejs</a>
          </li>
        
          <li>
            <a href="/2023/03/17/threejs-examples-svg-tools/">SVG tools module threejs example</a>
          </li>
        
          <li>
            <a href="/2023/03/10/threejs-examples-camera-planes/">Camera Planes module threejs example</a>
          </li>
        
          <li>
            <a href="/2023/03/03/threejs-examples-breath-module/">A Breath Module threejs project example</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2023 Dustin Pfister<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      <br>
      <a href="/privacy.html" target="_blank">Privacy Policy</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/2021/02/19/threejs-examples/" class="mobile-nav-link">ThreeJS</a>
  
    <a href="/2020/03/23/canvas-example/" class="mobile-nav-link">Canvas</a>
  
    <a href="https://www.youtube.com/user/javaweaver" class="mobile-nav-link">Youtube</a>
  
    <a href="https://github.com/dustinpfister" class="mobile-nav-link">Github</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'dustinpfister-github-io';
  
  var disqus_url = 'https://dustinpfister.github.io/2018/11/07/threejs-line-fat-width/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


  </div>
</body>
</html>