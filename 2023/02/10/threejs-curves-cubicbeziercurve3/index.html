<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <!-- disqus image-->
  <meta property="og:image" content="https://dustinpfister.github.io/css/images/banner.jpg">
  
  <title>Cubic Bezier Curves in threejs | Dustin John Pfister at github pages</title>
  
  <!-- no index tag or blank here -->
  
  
  <link rel="canonical" href="https://dustinpfister.github.io/2023/02/10/threejs-curves-cubicbeziercurve3/" />

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="I would like to expand more on the use of curves in threejs and maybe part of doing that will involve taking another look at what there is to work with when it comes to built in options with curves. I">
<meta property="og:type" content="article">
<meta property="og:title" content="Cubic Bezier Curves in threejs">
<meta property="og:url" content="https://dustinpfister.github.io/2023/02/10/threejs-curves-cubicbeziercurve3/index.html">
<meta property="og:site_name" content="Dustin John Pfister at github pages">
<meta property="og:description" content="I would like to expand more on the use of curves in threejs and maybe part of doing that will involve taking another look at what there is to work with when it comes to built in options with curves. I">
<meta property="og:updated_time" content="2023-02-11T15:56:42.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Cubic Bezier Curves in threejs">
<meta name="twitter:description" content="I would like to expand more on the use of curves in threejs and maybe part of doing that will involve taking another look at what there is to work with when it comes to built in options with curves. I">
  
    <link rel="alternate" href="/atom.xml" title="Dustin John Pfister at github pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <!-- Google Analytics -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y8XLNG6JRW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Y8XLNG6JRW');
</script>
<!-- End Google Analytics -->


  <!-- structured data set in structured-data.ejs -->
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "email": "distin.pfister@gmail.com",
    "givenName": "Dustin",
    "familyName" : "Pfister",
    "additionalName": "John",
    "name": "Dustin John Pfister",
    "gender": "Male"
}
</script>
<!-- end structured data -->
  
  <!-- adsense if indexed -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1658284027672315",
    enable_page_level_ads: true
  });
  </script>
  
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <!-- added the image, as well as the link to my youtube -->
        <a href="https://www.youtube.com/user/javaweaver"><div class="selfimage"></div></a>
        <!--<a href="/" id="logo">Dustin John Pfister at github pages</a>-->
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/2021/02/19/threejs-examples/">ThreeJS</a>
        
          <a class="main-nav-link" href="/2020/03/23/canvas-example/">Canvas</a>
        
          <a class="main-nav-link" href="https://www.youtube.com/user/javaweaver">Youtube</a>
        
          <a class="main-nav-link" href="https://github.com/dustinpfister">Github</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <!-- removed rss link-->
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dustinpfister.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article itemscope itemtype="http://schema.org/Blog" id="post-threejs-curves-cubicbeziercurve3" class="article article-type-post" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/02/10/threejs-curves-cubicbeziercurve3/" class="article-date"> Published:
  <time datetime="2023-02-10T14:37:00.000Z" itemprop="datePublished">2023-02-10</time>
</a>

    <!-- other info (dustin) -->
    <a href="/2023/02/10/threejs-curves-cubicbeziercurve3/" class="article-date"> Modified:
  <time datetime="2023-02-11T15:56:42.000Z" itemprop="dateModified">2023-02-11</time>
</a>

    <span class="article-date">V1.1</span>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/three-js/">three.js</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Cubic Bezier Curves in threejs
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="text">
      
        <p>I would like to expand more on the use of curves in threejs and maybe part of doing that will involve taking another look at what there is to work with when it comes to built in options with curves. I have all <a href="/2022/10/21/threejs-curve-quadratic-bezier-curve3">ready wrote a blog post on the THREE.QuadraticBezierCurve3 class</a> so for this post I will be writing about a few quick examples using the <a href="https://threejs.org/docs/#api/en/extras/curves/CubicBezierCurve3" target="_blank" rel="external">THREE.CubicBezierCurve3</a> class. Both of these options are built on top of <a href="https://threejs.org/docs/#api/en/extras/core/Curve" target="_blank" rel="external">the base Curve class</a> of course, so in any case there are Curve class prototype methods that are very useful such as the get point method. However one thing that is nice about this Cubic Bezier Curve Class is that it will allow for two control points rather than just one. This might be one of the major reasons why I see a lot of developers choosing the Cubic option over Quadratic as this will allow for a greater degree of flexibility when creating curves for a project.</p>
<a id="more"></a>
<iframe class="youtube_video" src="https://www.youtube.com/embed/vRyUZF-zscQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>


<h2 id="The-Cubic-Bezier-Curve-class-in-threejs-and-what-to-know-before-continuing"><a href="#The-Cubic-Bezier-Curve-class-in-threejs-and-what-to-know-before-continuing" class="headerlink" title="The Cubic Bezier Curve class in threejs and what to know before continuing"></a>The Cubic Bezier Curve class in threejs and what to know before continuing</h2><p>In this blog post I am writing about one of the built in options for creating an object that extends the base curve class of threejs. There is a whole lot of other ground to cover when it comes to things like the other options for built in curves, creating custom curves, features of the base curve class and so forth. Of course there is also a whole lot to be aware of when it comes to threejs in general as well as all the various other skills that are required on top of that when it comes to javaScript and client side web development in general. I assume that you have at least a little experience with these subjects, I have a whole lot of other <a href="/2018/04/04/threejs-getting-started/">getting started type posts with threejs</a> and <a href="/2018/11/27/js-getting-started/">javaScript</a> and do not which to pad this post with content that should be parked in such a post. Still I do lik to always have an opening section at the top here where I write about a few things that you might want to also read up on that are closely related to the over all content of this post on Cubic Bezier Curves in threejs.</p>
<h3 id="Check-out-the-base-Curve-class-in-detail-if-you-have-not-done-so"><a href="#Check-out-the-base-Curve-class-in-detail-if-you-have-not-done-so" class="headerlink" title="Check out the base Curve class in detail if you have not done so."></a>Check out the base Curve class in detail if you have not done so.</h3><p>The <a href="/2022/06/17/threejs-curve/">base curve class</a> is packed with a bunch of useful methods and features that one should be aware of before getting into what the built in options are that extend the class. There are methods like that get points method that will return an array of Vector3 objects. There is also an option for just getting a single point along the line of a curve as well.</p>
<h3 id="Source-code-is-also-up-on-Github"><a href="#Source-code-is-also-up-on-Github" class="headerlink" title="Source code is also up on Github"></a>Source code is also up on Github</h3><p>I have the source code examples for this post, as well as for my <a href="/categories/three-js/">many other blog posts on threejs</a> up on Github at my <a href="https://github.com/dustinpfister/test_threejs/tree/master/views/forpost/threejs-curves-cubicbeziercurve3" target="_blank" rel="external">test threejs reposatory</a>.</p>
<h3 id="Version-Numbers-matter"><a href="#Version-Numbers-matter" class="headerlink" title="Version Numbers matter"></a>Version Numbers matter</h3><p>When I first wrote this blog post I was using <a href="https://github.com/dustinpfister/test_threejs/tree/master/views/demos/r146" target="_blank" rel="external">r146 of threejs</a>, and there are a lot of good reasons why I was still using that revision of threejs over later versions that out at the time of this writing. There are a lot of code breaking changes that have happened and will continue to happen moving forward. If you are using a bleeding edge revision of threejs and also need to use JSM over plain old javaScript tags I can tell you now that these code examples will break. It will not take much to fix that mind you but at the time of this writing I have not yet started updating my content to JSM code style syntax. Although I <a href="https://github.com/dustinpfister/test_threejs/tree/master/views/demos/r150" target="_blank" rel="external">do have plans to do so for r150+</a> at this time.</p>
<h2 id="1-Basic-examples-of-the-CubicBezierCurve3-class"><a href="#1-Basic-examples-of-the-CubicBezierCurve3-class" class="headerlink" title="1 - Basic examples of the CubicBezierCurve3 class"></a>1 - Basic examples of the CubicBezierCurve3 class</h2><p>To kick things off as always I will be starting out this post with a few real quick hello world type examples before getting into subjects that might prove to be a little more advanced. These examples are not just for people that are new to threejs mind you, I have years of experience at this point and often I do still like to be able to quickly grab at a simple, clean starting point with things.</p>
<h3 id="1-1-Basic-getting-started-example-of-CubicBezierCurve3"><a href="#1-1-Basic-getting-started-example-of-CubicBezierCurve3" class="headerlink" title="1.1 - Basic getting started example of CubicBezierCurve3"></a>1.1 - Basic getting started example of CubicBezierCurve3</h3><p>For this first basic example of CubicBezierCurve3 I am just making a single curve object with the constructor function and then using that curve to create geometry for a THREE.Points object. This can be done by just calling the get points base curve class method to get an array of vector3 objects. I can use the set from points method of the Buffer geometry class to create a geometry with just a position attribute. A position attribute alone will now work well with mesh objects, but it is good enough for THREE.Points. When it comes to just simply getting a visual idea of what the current state of a curve is THREE.Points and THREE.Lines works okay.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">32</span> / <span class="number">24</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">(<span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body).appendChild(renderer.domElement);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// CURVES</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> v_start = <span class="keyword">new</span> THREE.Vector3(<span class="number">5</span>,<span class="number">0</span>,<span class="number">5</span>);</div><div class="line"><span class="keyword">const</span> v_end = <span class="keyword">new</span> THREE.Vector3(<span class="number">-5</span>,<span class="number">0</span>,<span class="number">-5</span>);</div><div class="line"><span class="keyword">const</span> v_control_1 = <span class="keyword">new</span> THREE.Vector3(<span class="number">5</span>,<span class="number">0</span>,<span class="number">-10</span>);</div><div class="line"><span class="keyword">const</span> v_control_2 = <span class="keyword">new</span> THREE.Vector3(<span class="number">-5</span>,<span class="number">0</span>,<span class="number">10</span>);</div><div class="line"><span class="keyword">const</span> curve = <span class="keyword">new</span> THREE.CubicBezierCurve3(v_start, v_control_1, v_control_2, v_end);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// OBJECTS</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line">scene.add( <span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>) );</div><div class="line"><span class="keyword">const</span> material = <span class="keyword">new</span> THREE.PointsMaterial(&#123; <span class="attr">size</span>: <span class="number">0.2</span>, <span class="attr">color</span>: <span class="keyword">new</span> THREE.Color(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>) &#125;);</div><div class="line"><span class="keyword">const</span> geometry = <span class="keyword">new</span> THREE.BufferGeometry().setFromPoints( curve.getPoints(<span class="number">100</span>) );</div><div class="line"><span class="keyword">const</span> points = <span class="keyword">new</span> THREE.Points(geometry, material);</div><div class="line">scene.add(points);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// RENDER</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line">camera.position.set(<span class="number">-8</span>,<span class="number">5</span>,<span class="number">8</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>);</div><div class="line">renderer.render(scene, camera);</div></pre></td></tr></table></figure>
<h3 id="1-2-CubicBezierCurve3-and-CurvePath"><a href="#1-2-CubicBezierCurve3-and-CurvePath" class="headerlink" title="1.2 - CubicBezierCurve3 and CurvePath"></a>1.2 - CubicBezierCurve3 and CurvePath</h3><p>There is also making a curve path from a few of these curve objects made with CubicBezierCurve3. This is just simply a way to make a path with a whole bunch of these curve objects by creating a THREE.CurvePath object and then just adding curve objects to that which are made with CubicBezierCurve3 or any other option for making a curve object.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">32</span> / <span class="number">24</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">(<span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body).appendChild(renderer.domElement);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// HELPERS</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// helper that is just an abstraction for THREE.CubicBezierCurve3</span></div><div class="line"><span class="keyword">const</span> createCurve = <span class="function">(<span class="params">sx,sy,sz, ex,ey,ez, c1x, c1y, c1z, c2x, c2y, c2z </span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> v_start = <span class="keyword">new</span> THREE.Vector3(sx, sy, sz);</div><div class="line">    <span class="keyword">const</span> v_end = <span class="keyword">new</span> THREE.Vector3(ex, ey, ez);</div><div class="line">    <span class="keyword">const</span> c1 = <span class="keyword">new</span> THREE.Vector3(c1x, c1y, c1z);</div><div class="line">    <span class="keyword">const</span> c2 = <span class="keyword">new</span> THREE.Vector3(c2x, c2y, c2z);</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> THREE.CubicBezierCurve3(v_start, c1, c2, v_end);</div><div class="line">&#125;;</div><div class="line"><span class="comment">// can still have a single control kind of effect by just using the same</span></div><div class="line"><span class="comment">// control point for both</span></div><div class="line"><span class="keyword">const</span> createCurveSC = <span class="function">(<span class="params">sx,sy,sz, ex,ey,ez, c1x, c1y, c1z</span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">return</span> createCurve(sx,sy,sz, ex,ey,ez, c1x,c1y,c1z, c1x,c1y,c1z );</div><div class="line">&#125;;</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// CURVE PATH</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> curve = <span class="keyword">new</span> THREE.CurvePath();</div><div class="line">curve.add( createCurveSC(<span class="number">-4</span>, <span class="number">0</span>,<span class="number">-5</span>,   <span class="number">0</span>, <span class="number">0</span>, <span class="number">3</span>,  <span class="number">-4</span>, <span class="number">0</span>, <span class="number">3</span> ) );</div><div class="line">curve.add( createCurve(   <span class="number">0</span>, <span class="number">0</span>, <span class="number">3</span>,   <span class="number">5</span>, <span class="number">0</span>, <span class="number">3</span>,   <span class="number">5</span>, <span class="number">0</span>, <span class="number">6</span>,   <span class="number">3</span>, <span class="number">0</span>, <span class="number">-6</span> ) );</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// OBJECTS</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line">scene.add( <span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>) );</div><div class="line"><span class="keyword">const</span> material = <span class="keyword">new</span> THREE.PointsMaterial(&#123; <span class="attr">size</span>: <span class="number">0.15</span>, <span class="attr">color</span>: <span class="keyword">new</span> THREE.Color(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>) &#125;);</div><div class="line"><span class="keyword">const</span> geometry = <span class="keyword">new</span> THREE.BufferGeometry().setFromPoints( curve.getPoints(<span class="number">100</span>) );</div><div class="line"><span class="keyword">const</span> points = <span class="keyword">new</span> THREE.Points(geometry, material);</div><div class="line">scene.add(points);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// RENDER</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line">camera.position.set(<span class="number">-8</span>,<span class="number">5</span>,<span class="number">8</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>);</div><div class="line">renderer.render(scene, camera);</div></pre></td></tr></table></figure>
<h3 id="1-3-Setting-the-Position-of-Objects-using-CubicBezierCurve3-Curve-getPoint-and-Vector3-copy"><a href="#1-3-Setting-the-Position-of-Objects-using-CubicBezierCurve3-Curve-getPoint-and-Vector3-copy" class="headerlink" title="1.3 - Setting the Position of Objects using CubicBezierCurve3, Curve.getPoint, and Vector3.copy"></a>1.3 - Setting the Position of Objects using CubicBezierCurve3, Curve.getPoint, and Vector3.copy</h3><p>For this example I will now like to use a curve object to set the position of one or more mesh objects alone the path of the curve. For this sort of thing there is using the get point method of the base curve class to get a single Vector3 objects at any given point along the curve. I can then use the copy method of the Vector3 class of the vector3 object stored at the position property of the mesh object to set the position of that mesh object to the values of this vector3 object along the curve.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">32</span> / <span class="number">24</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">(<span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body).appendChild(renderer.domElement);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// HELPERS</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// I like to think in terms of deltas from center of what would be a string line</span></div><div class="line"><span class="keyword">const</span> createCurve = <span class="function">(<span class="params">v_start, v_end, v_d1, v_d2</span>) =&gt;</span> &#123;</div><div class="line">    v_d1 = v_d1 || <span class="keyword">new</span> THREE.Vector3();</div><div class="line">    v_d2 = v_d2 || <span class="keyword">new</span> THREE.Vector3();</div><div class="line">    <span class="keyword">const</span> v_c1 = v_start.clone().lerp(v_end, <span class="number">0.25</span>).add(v_d1);</div><div class="line">    <span class="keyword">const</span> v_c2 = v_start.clone().lerp(v_end, <span class="number">0.75</span>).add(v_d2);</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> THREE.CubicBezierCurve3(v_start, v_c1, v_c2, v_end);</div><div class="line">&#125;;</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// CURVE</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> v_start = <span class="keyword">new</span> THREE.Vector3(<span class="number">4</span>, <span class="number">0</span>, <span class="number">-5</span>);</div><div class="line"><span class="keyword">const</span> v_end = <span class="keyword">new</span> THREE.Vector3(<span class="number">-5</span>, <span class="number">0</span>, <span class="number">4</span>);</div><div class="line"><span class="keyword">const</span> v_d1 = <span class="keyword">new</span> THREE.Vector3(<span class="number">5</span>,<span class="number">0</span>,<span class="number">5</span>)</div><div class="line"><span class="keyword">const</span> curve = createCurve(v_start, v_end, v_d1, v_d1.clone().add( <span class="keyword">new</span> THREE.Vector3(<span class="number">-3</span>,<span class="number">0</span>,<span class="number">-8</span>)) );</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// OBJECTS</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// grid helper</span></div><div class="line">scene.add( <span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>) );</div><div class="line"><span class="comment">// points</span></div><div class="line"><span class="keyword">const</span> material = <span class="keyword">new</span> THREE.PointsMaterial(&#123; <span class="attr">size</span>: <span class="number">0.15</span>, <span class="attr">color</span>: <span class="keyword">new</span> THREE.Color(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>) &#125;);</div><div class="line"><span class="keyword">const</span> geometry = <span class="keyword">new</span> THREE.BufferGeometry().setFromPoints( curve.getPoints(<span class="number">100</span>) );</div><div class="line"><span class="keyword">const</span> points = <span class="keyword">new</span> THREE.Points(geometry, material);</div><div class="line">scene.add(points);</div><div class="line"><span class="comment">// mesh objects I would like to posiiton to the curve</span></div><div class="line"><span class="keyword">const</span> material_mesh = <span class="keyword">new</span> THREE.MeshNormalMaterial();</div><div class="line">[</div><div class="line">  [<span class="number">0.20</span>, <span class="number">1.00</span>],</div><div class="line">  [<span class="number">0.75</span>, <span class="number">0.50</span>],</div><div class="line">  [<span class="number">0.95</span>, <span class="number">0.20</span>]</div><div class="line">].forEach(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</div><div class="line">    <span class="keyword">const</span> mesh = <span class="keyword">new</span> THREE.Mesh( <span class="keyword">new</span> THREE.SphereGeometry(data[<span class="number">1</span>], <span class="number">20</span>, <span class="number">20</span>), material_mesh );</div><div class="line">    mesh.position.copy( curve.getPoint(data[<span class="number">0</span>]) );</div><div class="line">    scene.add(mesh);</div><div class="line">&#125;);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// RENDER</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line">camera.position.set(<span class="number">-8</span>,<span class="number">5</span>,<span class="number">8</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>);</div><div class="line">renderer.render(scene, camera);</div></pre></td></tr></table></figure>
<h3 id="1-4-Making-a-stright-line-with-CubicBezierCurve3-and-other-built-in-curve-options"><a href="#1-4-Making-a-stright-line-with-CubicBezierCurve3-and-other-built-in-curve-options" class="headerlink" title="1.4 - Making a stright line with CubicBezierCurve3 and other built in curve options"></a>1.4 - Making a stright line with CubicBezierCurve3 and other built in curve options</h3><p>When I want to make a curve object that will just be a straight line there is the built in THREE.LineCurve3 class to do so. However if I want to just go with a single option to make this kind of curve object, as well as just about all others that i would typical want in a project there is just knowing where to park the control points for an option like CubicBezierCurve3.</p>
<p>With THREE.LineCurve3 I just give the start and end Vector3 objects for the line and that is it. When it comes to a class like CubicBezierCurve3 or QuadraticBezierCurve3 I just need to park the control points between the start point and end point. When it comes to QuadraticBezierCurve3 there is just one control point so I can use the vector3 lerp method and an alpha value of 0.5 to place the single control point at the center of the line. However as we have covered at this point the CubicBezierCurve3 class makes use of two control points, I can do the same thing with the lerp method but I will want to use 0.25 and 0.75 for the alpha values to get a straight line effect.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">32</span> / <span class="number">24</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">(<span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body).appendChild(renderer.domElement);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// CURVES</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> v_start = <span class="keyword">new</span> THREE.Vector3(<span class="number">-5</span>,<span class="number">0</span>,<span class="number">0</span>);</div><div class="line"><span class="keyword">const</span> v_end = <span class="keyword">new</span> THREE.Vector3(<span class="number">5</span>,<span class="number">0</span>,<span class="number">0</span>);</div><div class="line"><span class="comment">// line with THREE.CubicBezierCurve3</span></div><div class="line">v_start.z = <span class="number">2</span>;</div><div class="line">v_end.z = <span class="number">2</span>;</div><div class="line"><span class="keyword">const</span> curve1 = <span class="keyword">new</span> THREE.CubicBezierCurve3(</div><div class="line">    v_start.clone(),</div><div class="line">    v_start.clone().lerp(v_end, <span class="number">0.25</span>),</div><div class="line">    v_start.clone().lerp(v_end, <span class="number">0.75</span>),</div><div class="line">    v_end.clone());</div><div class="line"><span class="comment">// line with THREE.QuadraticBezierCurve3</span></div><div class="line">v_start.z = <span class="number">1</span>;</div><div class="line">v_end.z = <span class="number">1</span>;</div><div class="line"><span class="keyword">const</span> curve2 = <span class="keyword">new</span> THREE.QuadraticBezierCurve3(</div><div class="line">    v_start.clone(),</div><div class="line">    v_start.clone().lerp(v_end, <span class="number">0.5</span>),</div><div class="line">    v_end.clone());</div><div class="line"><span class="comment">// line with THREE.LineCurve3</span></div><div class="line">v_start.z = <span class="number">0</span>;</div><div class="line">v_end.z = <span class="number">0</span>;</div><div class="line"><span class="keyword">const</span> curve3 = <span class="keyword">new</span> THREE.LineCurve3(</div><div class="line">    v_start.clone(),</div><div class="line">    v_end.clone());</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// OBJECTS</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// grid helper</span></div><div class="line">scene.add( <span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>) );</div><div class="line"><span class="comment">// points</span></div><div class="line"><span class="keyword">const</span> material = <span class="keyword">new</span> THREE.PointsMaterial(&#123; <span class="attr">size</span>: <span class="number">0.25</span>, <span class="attr">color</span>: <span class="keyword">new</span> THREE.Color(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>) &#125;);</div><div class="line"><span class="keyword">const</span> geo1 = <span class="keyword">new</span> THREE.BufferGeometry().setFromPoints( curve1.getPoints(<span class="number">50</span>) );</div><div class="line"><span class="keyword">const</span> points1 = <span class="keyword">new</span> THREE.Points(geo1, material);</div><div class="line">scene.add(points1);</div><div class="line"><span class="keyword">const</span> geo2 = <span class="keyword">new</span> THREE.BufferGeometry().setFromPoints( curve2.getPoints(<span class="number">50</span>) );</div><div class="line"><span class="keyword">const</span> points2 = <span class="keyword">new</span> THREE.Points(geo2, material);</div><div class="line">scene.add(points2);</div><div class="line"><span class="keyword">const</span> geo3 = <span class="keyword">new</span> THREE.BufferGeometry().setFromPoints( curve3.getPoints(<span class="number">50</span>) );</div><div class="line"><span class="keyword">const</span> points3 = <span class="keyword">new</span> THREE.Points(geo3, material);</div><div class="line">scene.add(points3);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// RENDER</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line">camera.position.set(<span class="number">5</span>,<span class="number">2</span>,<span class="number">5</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>);</div><div class="line">renderer.render(scene, camera);</div></pre></td></tr></table></figure>
<h2 id="2-Using-curves-to-create-tracks"><a href="#2-Using-curves-to-create-tracks" class="headerlink" title="2 - Using curves to create tracks"></a>2 - Using curves to create tracks</h2><p>As of late I have been working on a project that is a kind of virtual train set. I like how the project has come out thus far, but I have all ready run into some things that I would do differently if I where to start over. For one thing when it comes to making the land object in which I place a train I have that as one solid geometry. Maybe that kind of approach is not always such a bad thing, but as of late I am in more of the mindset of breaking things down into a collection of various component source objects. I can then create a track by making clones of these source objects and then just position and rotate the clones as needed to create a track along with core geometry around the track. These source objects can be <a href="/2018/05/16/threejs-grouping-mesh-objects/">groups</a> that have a curve attached to the <a href="/2021/02/16/threejs-userdata/">user data object</a> of the group. I can then add whatever it is that I want in terms of mesh objects, points, and so forth when it comes to adding children to these source objects.</p>
<h3 id="2-1-Starting-out-with-the-tracks-example-using-CubicBezierCurve3-for-curves"><a href="#2-1-Starting-out-with-the-tracks-example-using-CubicBezierCurve3-for-curves" class="headerlink" title="2.1 - Starting out with the tracks example, using CubicBezierCurve3 for curves"></a>2.1 - Starting out with the tracks example, using CubicBezierCurve3 for curves</h3><p>For this first example of what I have worked out thus far for this I have just about all the core ideas that I had in mind working. Including the deal with having a curve for each source object. I can then create a curve path object by just looping over all the track objects that are cloned from source options, and this main curve path is then what is used to set the position of a mesh object that is the current train object that moves along the curve path.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">32</span> / <span class="number">24</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">(<span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body).appendChild(renderer.domElement);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// HELPERS</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// I like to think in terms of deltas from center of what would be a string line</span></div><div class="line"><span class="keyword">const</span> createCurve = <span class="function">(<span class="params">v_start, v_end, v_d1, v_d2</span>) =&gt;</span> &#123;</div><div class="line">    v_d1 = v_d1 || <span class="keyword">new</span> THREE.Vector3();</div><div class="line">    v_d2 = v_d2 || <span class="keyword">new</span> THREE.Vector3();</div><div class="line">    <span class="keyword">const</span> v_c1 = v_start.clone().lerp(v_end, <span class="number">0.25</span>).add(v_d1);</div><div class="line">    <span class="keyword">const</span> v_c2 = v_start.clone().lerp(v_end, <span class="number">0.75</span>).add(v_d2);</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> THREE.CubicBezierCurve3(v_start, v_c1, v_c2, v_end);</div><div class="line">&#125;;</div><div class="line"><span class="comment">// create a source object</span></div><div class="line"><span class="keyword">const</span> createSourceObject = <span class="function">(<span class="params">w, d, sx, sz, ex, ez, dx1, dz1, dx2, dz2 </span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> obj1 = <span class="keyword">new</span> THREE.Group();</div><div class="line">    <span class="keyword">const</span> gud = obj1.userData;</div><div class="line">    <span class="keyword">const</span> v_start = <span class="keyword">new</span> THREE.Vector3(sx, <span class="number">1.0</span>, sz);</div><div class="line">    <span class="keyword">const</span> v_end =  <span class="keyword">new</span> THREE.Vector3(ex, <span class="number">1.0</span>, ez);</div><div class="line">    <span class="keyword">const</span> v_d1 =  <span class="keyword">new</span> THREE.Vector3(dx1, <span class="number">0.0</span>, dz1);</div><div class="line">    <span class="keyword">const</span> v_d2 =  <span class="keyword">new</span> THREE.Vector3(dx2, <span class="number">0.0</span>, dz2);</div><div class="line">    gud.curve = createCurve(v_start, v_end, v_d1, v_d2);</div><div class="line">    obj1.add( <span class="keyword">new</span> THREE.Mesh( <span class="keyword">new</span> THREE.BoxGeometry(w, <span class="number">1</span>, d), <span class="keyword">new</span> THREE.MeshNormalMaterial()) )</div><div class="line">    <span class="keyword">const</span> geo_points = <span class="keyword">new</span> THREE.BufferGeometry().setFromPoints( gud.curve.getPoints(<span class="number">19</span>) );</div><div class="line">    obj1.add( <span class="keyword">new</span> THREE.Points( geo_points, <span class="keyword">new</span> THREE.PointsMaterial(&#123;<span class="attr">size</span>: <span class="number">0.25</span>&#125;) ) );</div><div class="line">    <span class="keyword">return</span> obj1;</div><div class="line">&#125;;</div><div class="line"><span class="comment">// create a curve to be used as a track curve from a tack object</span></div><div class="line"><span class="keyword">const</span> createTrackCurvePart = <span class="function">(<span class="params">obj_track</span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> c1 = obj_track.userData.curve;</div><div class="line">    <span class="keyword">const</span> v_objpos = <span class="keyword">new</span> THREE.Vector3();</div><div class="line">    obj_track.getWorldPosition(v_objpos);</div><div class="line">    <span class="keyword">const</span> v_start = v_objpos.clone().add(c1.v0);</div><div class="line">    <span class="keyword">const</span> v_c1 = v_objpos.clone().add(c1.v1);</div><div class="line">    <span class="keyword">const</span> v_c2 = v_objpos.clone().add(c1.v2);</div><div class="line">    <span class="keyword">const</span> v_end = v_objpos.clone().add(c1.v3);</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> THREE.CubicBezierCurve3(v_start, v_c1, v_c2, v_end);</div><div class="line">&#125;;</div><div class="line"><span class="comment">// create a track object for the scene</span></div><div class="line"><span class="keyword">const</span> createTrackObject = <span class="function">(<span class="params">group_source, index, x, z, dy</span>) =&gt;</span> &#123;</div><div class="line">    dy = dy === <span class="literal">undefined</span> ? <span class="number">0</span> : dy;</div><div class="line">    <span class="keyword">const</span> obj_source = group_source.children[index];</div><div class="line">    <span class="keyword">const</span> track = obj_source.clone();</div><div class="line">    track.userData.curve = obj_source.userData.curve;</div><div class="line">    track.position.set(x, <span class="number">0.5</span> + dy, z);</div><div class="line">    <span class="keyword">return</span> track;</div><div class="line">&#125;;</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// SOURCE OBJECTS</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> group_source = <span class="keyword">new</span> THREE.Group();</div><div class="line">group_source.add( createSourceObject(<span class="number">1.0</span>, <span class="number">4.0</span>,   <span class="number">0.0</span>,<span class="number">-2.0</span>,    <span class="number">0.0</span>, <span class="number">2.0</span>,   <span class="number">0.0</span>, <span class="number">0.0</span>,  <span class="number">0.0</span>, <span class="number">0.0</span>) );</div><div class="line">group_source.add( createSourceObject(<span class="number">4.0</span>, <span class="number">4.0</span>,   <span class="number">1.5</span>,<span class="number">-2.0</span>,   <span class="number">-2.0</span>, <span class="number">1.5</span>,   <span class="number">0.8</span>, <span class="number">0.8</span>,  <span class="number">1.8</span>, <span class="number">1.0</span>) );</div><div class="line">group_source.add( createSourceObject(<span class="number">4.0</span>, <span class="number">1.0</span>,   <span class="number">2.0</span>, <span class="number">0.0</span>,   <span class="number">-2.0</span>, <span class="number">0.0</span>,   <span class="number">0.0</span>, <span class="number">0.0</span>,  <span class="number">0.0</span>, <span class="number">0.0</span>) );</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// TRACK OBJECTS</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> curve = <span class="keyword">new</span> THREE.CurvePath();</div><div class="line">[</div><div class="line">    [<span class="number">0</span>,  <span class="number">4.5</span>, <span class="number">-1.0</span>,  <span class="number">0.0</span>],</div><div class="line">    [<span class="number">1</span>,  <span class="number">3.0</span>,  <span class="number">3.0</span>,  <span class="number">0.0</span>],</div><div class="line">    [<span class="number">2</span>, <span class="number">-1.0</span>,  <span class="number">4.5</span>,  <span class="number">0.0</span>]</div><div class="line">].forEach(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</div><div class="line">    <span class="keyword">const</span> track = createTrackObject(group_source, data[<span class="number">0</span>], data[<span class="number">1</span>], data[<span class="number">2</span>], data[<span class="number">3</span>]);</div><div class="line">    scene.add(track);</div><div class="line">    curve.add( createTrackCurvePart(track) );</div><div class="line">&#125;);</div><div class="line"><span class="comment">// curve</span></div><div class="line"><span class="keyword">const</span> geo_points = <span class="keyword">new</span> THREE.BufferGeometry().setFromPoints( curve.getPoints(<span class="number">19</span>) );</div><div class="line">scene.add( <span class="keyword">new</span> THREE.Points( geo_points, <span class="keyword">new</span> THREE.PointsMaterial(&#123;<span class="attr">size</span>: <span class="number">0.25</span>&#125;) ) );</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// OBJECTS</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// grid helper</span></div><div class="line">scene.add( <span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>) );</div><div class="line"><span class="keyword">const</span> mesh = <span class="keyword">new</span> THREE.Mesh( <span class="keyword">new</span> THREE.BoxGeometry(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>), <span class="keyword">new</span> THREE.MeshNormalMaterial() )</div><div class="line">scene.add(mesh);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// ANIMATION LOOP</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line">camera.position.set(<span class="number">8</span>,<span class="number">8</span>,<span class="number">8</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>);</div><div class="line"><span class="keyword">const</span> FPS_UPDATE = <span class="number">20</span>, <span class="comment">// fps rate to update ( low fps for low CPU use, but choppy video )</span></div><div class="line">FPS_MOVEMENT = <span class="number">30</span>;     <span class="comment">// fps rate to move object by that is independent of frame update rate</span></div><div class="line">FRAME_MAX = <span class="number">400</span>;</div><div class="line"><span class="keyword">let</span> secs = <span class="number">0</span>,</div><div class="line">frame = <span class="number">0</span>,</div><div class="line">lt = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line"><span class="comment">// update</span></div><div class="line"><span class="keyword">const</span> update = <span class="function"><span class="keyword">function</span>(<span class="params">frame, frameMax</span>)</span>&#123;</div><div class="line">    <span class="keyword">const</span> a1 = frame / frameMax;</div><div class="line">    <span class="keyword">const</span> a2 = <span class="number">1</span> - <span class="built_in">Math</span>.abs(<span class="number">0.5</span> - a1) / <span class="number">0.5</span>;</div><div class="line">    <span class="keyword">const</span> a3 = ( a2 * <span class="number">0.94</span> + <span class="number">0.05</span> ) % <span class="number">1</span>;</div><div class="line">    mesh.position.copy( curve.getPoint(a2) );</div><div class="line">    mesh.lookAt( curve.getPoint( a3 ) );</div><div class="line">&#125;;</div><div class="line"><span class="comment">// loop</span></div><div class="line"><span class="keyword">const</span> loop = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">    secs = (now - lt) / <span class="number">1000</span>;</div><div class="line">    requestAnimationFrame(loop);</div><div class="line">    <span class="keyword">if</span>(secs &gt; <span class="number">1</span> / FPS_UPDATE)&#123;</div><div class="line">        <span class="comment">// update, render</span></div><div class="line">        update( <span class="built_in">Math</span>.floor(frame), FRAME_MAX);</div><div class="line">        renderer.render(scene, camera);</div><div class="line">        <span class="comment">// step frame</span></div><div class="line">        frame += FPS_MOVEMENT * secs;</div><div class="line">        frame %= FRAME_MAX;</div><div class="line">        lt = now;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">loop();</div></pre></td></tr></table></figure>
<h3 id="2-2-Rotation-of-curve-objects-when-cloning-source-objects"><a href="#2-2-Rotation-of-curve-objects-when-cloning-source-objects" class="headerlink" title="2.2 - Rotation of curve objects when cloning source objects"></a>2.2 - Rotation of curve objects when cloning source objects</h3><p>With that last example I got more or less everything that I want working with just one exception. That exception is that I can not just rotate a clone of a source object and have that effect the state of the curve object. This should be expected as a curve is not an example of an object3d based object, and it is stored in the user data object so of course it is not effected by such actions. I will then need to have a way to update the state of the various Vector3 objects that compose the start point, end point, and control points. So I worked out a simple example where I do just this with a curve.</p>
<p>When it comes to this sort of thing the <a href="/2021/04/28/threejs-euler/">Euler class</a> and the <a href="/2021/06/18/threejs-vector3-apply-euler/">apply Euler methods of the Vector3 class</a> work great to preform a rotation of the various Vector3 objects of the curve.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">32</span> / <span class="number">24</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">(<span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body).appendChild(renderer.domElement);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// CURVE</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> v_start = <span class="keyword">new</span> THREE.Vector3(<span class="number">4</span>,<span class="number">0</span>,<span class="number">5</span>);</div><div class="line"><span class="keyword">const</span> v_end = <span class="keyword">new</span> THREE.Vector3(<span class="number">-5</span>,<span class="number">0</span>,<span class="number">-4</span>);</div><div class="line"><span class="keyword">const</span> v_c1 = <span class="keyword">new</span> THREE.Vector3(<span class="number">4</span>, <span class="number">0</span>,<span class="number">-1</span>);</div><div class="line"><span class="keyword">const</span> v_c2 = <span class="keyword">new</span> THREE.Vector3(<span class="number">1</span>, <span class="number">0</span>,<span class="number">-4</span>);</div><div class="line"><span class="keyword">const</span> curve = <span class="keyword">new</span> THREE.CubicBezierCurve3(v_start, v_c1, v_c2, v_end);</div><div class="line"><span class="keyword">let</span> vi = <span class="number">0</span>;</div><div class="line"><span class="keyword">while</span>(vi &lt; <span class="number">4</span>)&#123;</div><div class="line">    <span class="keyword">const</span> v = curve[<span class="string">'v'</span> + vi];</div><div class="line">    <span class="keyword">const</span> e = <span class="keyword">new</span> THREE.Euler();</div><div class="line">    e.y = <span class="built_in">Math</span>.PI * <span class="number">1.5</span>; <span class="comment">// can adjust this to set rotation</span></div><div class="line">    v.applyEuler(e);</div><div class="line">    vi += <span class="number">1</span>;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">const</span> geo_points = <span class="keyword">new</span> THREE.BufferGeometry().setFromPoints( curve.getPoints(<span class="number">29</span>) );</div><div class="line">scene.add( <span class="keyword">new</span> THREE.Points( geo_points, <span class="keyword">new</span> THREE.PointsMaterial(&#123;<span class="attr">size</span>: <span class="number">0.25</span>&#125;) ) );</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// OBJECTS</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// grid helper</span></div><div class="line">scene.add( <span class="keyword">new</span> THREE.GridHelper(<span class="number">10</span>, <span class="number">10</span>) );</div><div class="line"><span class="keyword">const</span> mesh = <span class="keyword">new</span> THREE.Mesh( <span class="keyword">new</span> THREE.BoxGeometry(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>), <span class="keyword">new</span> THREE.MeshNormalMaterial() )</div><div class="line">scene.add(mesh);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// ANIMATION LOOP</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line">camera.position.set(<span class="number">-8</span>,<span class="number">5</span>,<span class="number">8</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>);</div><div class="line">mesh.position.copy( curve.getPoint(<span class="number">0.5</span>) );</div><div class="line">mesh.lookAt( curve.getPoint( <span class="number">0.6</span> ) );</div><div class="line">renderer.render(scene, camera);</div></pre></td></tr></table></figure>
<h2 id="3-Animation-loop-examples-using-Cubic-Bezier-Curve3"><a href="#3-Animation-loop-examples-using-Cubic-Bezier-Curve3" class="headerlink" title="3 - Animation loop examples using Cubic Bezier Curve3"></a>3 - Animation loop examples using Cubic Bezier Curve3</h2><p>For this section I will now be working out at least one animation loop example that will be a start point for a demo video for this blog post.</p>
<h3 id="3-1-Using-mesh-object-position-properties"><a href="#3-1-Using-mesh-object-position-properties" class="headerlink" title="3.1 - Using mesh object position properties"></a>3.1 - Using mesh object position properties</h3><p>For this first video project I thought it would be a good idea to see about making a quick demo where I am using the position properties of some mesh objects as the Vector3 objects for the start, end and control points of one of these cubic bezier curves. This way I can then move the mesh objects around all over the place and when I do so that will of course change the state of the curve. I can then use the curve to say set the position properties of a group of other mesh objects as a way to see the outcome of changes to the state of the curve.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">32</span> / <span class="number">24</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">(<span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>) || <span class="built_in">document</span>.body).appendChild(renderer.domElement);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// LIGHT</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> dl = <span class="keyword">new</span> THREE.DirectionalLight(<span class="number">0xffffff</span>, <span class="number">1</span>);</div><div class="line">dl.position.set(<span class="number">2</span>,<span class="number">1</span>,<span class="number">10</span>);</div><div class="line">scene.add(dl);</div><div class="line"><span class="keyword">const</span> al = <span class="keyword">new</span> THREE.AmbientLight(<span class="number">0xffffff</span>, <span class="number">0.1</span>);</div><div class="line">scene.add(al);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// MESH POINTERS</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> geo_pointer = <span class="keyword">new</span> THREE.SphereGeometry(<span class="number">0.4</span>, <span class="number">20</span>, <span class="number">20</span>);</div><div class="line"><span class="keyword">const</span> material_pointer = <span class="keyword">new</span> THREE.MeshNormalMaterial();</div><div class="line"><span class="keyword">const</span> mesh_start = <span class="keyword">new</span> THREE.Mesh(geo_pointer, material_pointer);</div><div class="line"><span class="keyword">const</span> mesh_end = <span class="keyword">new</span> THREE.Mesh(geo_pointer, material_pointer);</div><div class="line"><span class="keyword">const</span> mesh_c1 = <span class="keyword">new</span> THREE.Mesh(geo_pointer, material_pointer);</div><div class="line"><span class="keyword">const</span> mesh_c2 = <span class="keyword">new</span> THREE.Mesh(geo_pointer, material_pointer);</div><div class="line">scene.add(mesh_start);</div><div class="line">scene.add(mesh_end);</div><div class="line">scene.add(mesh_c1);</div><div class="line">scene.add(mesh_c2);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// MESH GROUP</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> material_child = <span class="keyword">new</span> THREE.MeshPhongMaterial(&#123;</div><div class="line">    <span class="attr">color</span>: <span class="keyword">new</span> THREE.Color(<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>),</div><div class="line">    <span class="attr">specular</span>: <span class="keyword">new</span> THREE.Color(<span class="number">0.2</span>,<span class="number">0.2</span>,<span class="number">0.2</span>)</div><div class="line">&#125;);</div><div class="line"><span class="keyword">const</span> geometry_child = <span class="keyword">new</span> THREE.SphereGeometry(<span class="number">0.25</span>, <span class="number">20</span>, <span class="number">20</span>);</div><div class="line"><span class="keyword">const</span> group = <span class="keyword">new</span> THREE.Group();</div><div class="line"><span class="keyword">let</span> i = <span class="number">0</span>; <span class="keyword">const</span> len = <span class="number">14</span>;</div><div class="line"><span class="keyword">while</span>(i &lt; len)&#123;</div><div class="line">    <span class="keyword">const</span> mesh = <span class="keyword">new</span> THREE.Mesh(geometry_child, material_child);</div><div class="line">    group.add(mesh);</div><div class="line">    i += <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line">scene.add(group);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// CURVE</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> curve = <span class="keyword">new</span> THREE.CubicBezierCurve3(mesh_start.position, mesh_c1.position, mesh_c2.position, mesh_end.position);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// ANIMATION LOOP</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line">camera.position.set(<span class="number">-8</span>,<span class="number">8</span>,<span class="number">8</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>);</div><div class="line"><span class="keyword">const</span> FPS_UPDATE = <span class="number">20</span>, <span class="comment">// fps rate to update ( low fps for low CPU use, but choppy video )</span></div><div class="line">FPS_MOVEMENT = <span class="number">30</span>;     <span class="comment">// fps rate to move object by that is independent of frame update rate</span></div><div class="line">FRAME_MAX = <span class="number">300</span>;</div><div class="line"><span class="keyword">let</span> secs = <span class="number">0</span>,</div><div class="line">frame = <span class="number">0</span>,</div><div class="line">lt = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line"><span class="comment">// update</span></div><div class="line"><span class="keyword">const</span> update = <span class="function"><span class="keyword">function</span>(<span class="params">frame, frameMax</span>)</span>&#123;</div><div class="line">    <span class="keyword">const</span> a1 = frame / frameMax;</div><div class="line">    <span class="keyword">const</span> a2 = <span class="number">1</span> - <span class="built_in">Math</span>.abs(<span class="number">0.5</span> - a1) / <span class="number">0.5</span>;</div><div class="line">    mesh_start.position.set(<span class="number">0</span>,<span class="number">0</span>,<span class="number">5</span>);</div><div class="line">    mesh_end.position.set(<span class="number">0</span>,<span class="number">0</span>,<span class="number">-5</span>);</div><div class="line">    mesh_c1.position.set(<span class="number">-5</span> + <span class="number">10</span> * a2,<span class="number">0</span>,<span class="number">2.5</span>);</div><div class="line">    mesh_c2.position.set(<span class="number">5</span> - <span class="number">10</span> * a2,<span class="number">0</span>,<span class="number">-2.5</span>);</div><div class="line">    group.children.forEach( <span class="function">(<span class="params">mesh, i, arr</span>) =&gt;</span> &#123;</div><div class="line">        <span class="keyword">const</span> a4 = (i + <span class="number">1</span>) / (arr.length + <span class="number">1</span>);</div><div class="line">        mesh.position.copy( curve.getPoint(a4) );</div><div class="line">    &#125;);</div><div class="line">&#125;;</div><div class="line"><span class="comment">// loop</span></div><div class="line"><span class="keyword">const</span> loop = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(),</div><div class="line">    secs = (now - lt) / <span class="number">1000</span>;</div><div class="line">    requestAnimationFrame(loop);</div><div class="line">    <span class="keyword">if</span>(secs &gt; <span class="number">1</span> / FPS_UPDATE)&#123;</div><div class="line">        <span class="comment">// update, render</span></div><div class="line">        update( <span class="built_in">Math</span>.floor(frame), FRAME_MAX);</div><div class="line">        renderer.render(scene, camera);</div><div class="line">        <span class="comment">// step frame</span></div><div class="line">        frame += FPS_MOVEMENT * secs;</div><div class="line">        frame %= FRAME_MAX;</div><div class="line">        lt = now;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">loop();</div></pre></td></tr></table></figure>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>So it looks like over all this Cubic Bezier Curve class is a great built in option for quickly making curve objects in threejs for the sake of defining a path by which objects will follow. However there are a whole lot of other <a href="/2022/12/16/threejs-curve-geometry-from">use case examples for curves such as using them as a tool in the process of creating custom geometry</a>.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dustinpfister.github.io/2023/02/10/threejs-curves-cubicbeziercurve3/" data-id="cle059r5y028kdwv1t1l1v30m" class="article-share-link">Share</a>
      
        <a href="https://dustinpfister.github.io/2023/02/10/threejs-curves-cubicbeziercurve3/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/three-js/">three.js</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2023/02/03/threejs-buffer-geometry-morph-attributes/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Morph Attributes of buffer geometry objects</div>
    </a>
  
</nav>

  
</article>



<section id="comments">

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://dustinpfister.github.io/2023/02/10/threejs-curves-cubicbeziercurve3/index.html';
    this.page.identifier = '1027';
    this.page.title = 'Cubic Bezier Curves in threejs';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://dustinpfister-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular/">angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/api/">api</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/backbone/">backbone</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/discovery/">discovery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/electronjs/">electronjs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/games/">games</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/grunt/">grunt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hapi/">hapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/heroku/">heroku</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jquery/">jquery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lodash/">lodash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node-js/">node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/phaser/">phaser</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/statistics/">statistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/three-js/">three.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backbone/">backbone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/corejs/">corejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deterministic/">deterministic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discovery/">discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejs/">ejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/electronjs/">electronjs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hapi/">hapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jimp/">jimp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js13k/">js13k</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/structured-data/">structured-data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/themes/">themes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three-js/">three.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JSON/" style="font-size: 12.27px;">JSON</a> <a href="/tags/SEO/" style="font-size: 10.45px;">SEO</a> <a href="/tags/angular/" style="font-size: 13.18px;">angular</a> <a href="/tags/animation/" style="font-size: 11.82px;">animation</a> <a href="/tags/automation/" style="font-size: 11.82px;">automation</a> <a href="/tags/backbone/" style="font-size: 12.27px;">backbone</a> <a href="/tags/blog/" style="font-size: 15.45px;">blog</a> <a href="/tags/canvas/" style="font-size: 18.64px;">canvas</a> <a href="/tags/corejs/" style="font-size: 12.73px;">corejs</a> <a href="/tags/deterministic/" style="font-size: 10px;">deterministic</a> <a href="/tags/discovery/" style="font-size: 10.91px;">discovery</a> <a href="/tags/ejs/" style="font-size: 11.36px;">ejs</a> <a href="/tags/electronjs/" style="font-size: 13.64px;">electronjs</a> <a href="/tags/express/" style="font-size: 16.82px;">express</a> <a href="/tags/games/" style="font-size: 17.27px;">games</a> <a href="/tags/git/" style="font-size: 12.73px;">git</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hapi/" style="font-size: 15px;">hapi</a> <a href="/tags/heroku/" style="font-size: 11.82px;">heroku</a> <a href="/tags/hexo/" style="font-size: 14.55px;">hexo</a> <a href="/tags/jimp/" style="font-size: 10.45px;">jimp</a> <a href="/tags/jquery/" style="font-size: 11.36px;">jquery</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/js13k/" style="font-size: 10px;">js13k</a> <a href="/tags/linux/" style="font-size: 17.73px;">linux</a> <a href="/tags/lodash/" style="font-size: 18.64px;">lodash</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mongodb/" style="font-size: 14.55px;">mongodb</a> <a href="/tags/node-js/" style="font-size: 19.55px;">node.js</a> <a href="/tags/phaser/" style="font-size: 18.18px;">phaser</a> <a href="/tags/python/" style="font-size: 15.91px;">python</a> <a href="/tags/statistics/" style="font-size: 14.09px;">statistics</a> <a href="/tags/structured-data/" style="font-size: 10px;">structured-data</a> <a href="/tags/themes/" style="font-size: 10px;">themes</a> <a href="/tags/three-js/" style="font-size: 19.09px;">three.js</a> <a href="/tags/vuejs/" style="font-size: 16.36px;">vuejs</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/02/10/threejs-curves-cubicbeziercurve3/">Cubic Bezier Curves in threejs</a>
          </li>
        
          <li>
            <a href="/2023/02/03/threejs-buffer-geometry-morph-attributes/">Morph Attributes of buffer geometry objects</a>
          </li>
        
          <li>
            <a href="/2023/01/27/threejs-examples-house-two/">House Model two threejs project example</a>
          </li>
        
          <li>
            <a href="/2023/01/20/threejs-buffer-geometry-attributes-color/">Material Vertex Color and the buffer geometry attribute used for doing so</a>
          </li>
        
          <li>
            <a href="/2023/01/13/threejs-shader-material/">The shader material in threejs and getting started with a little GLSL</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2023 Dustin Pfister<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      <br>
      <a href="/privacy.html" target="_blank">Privacy Policy</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/2021/02/19/threejs-examples/" class="mobile-nav-link">ThreeJS</a>
  
    <a href="/2020/03/23/canvas-example/" class="mobile-nav-link">Canvas</a>
  
    <a href="https://www.youtube.com/user/javaweaver" class="mobile-nav-link">Youtube</a>
  
    <a href="https://github.com/dustinpfister" class="mobile-nav-link">Github</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'dustinpfister-github-io';
  
  var disqus_url = 'https://dustinpfister.github.io/2023/02/10/threejs-curves-cubicbeziercurve3/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


  </div>
</body>
</html>