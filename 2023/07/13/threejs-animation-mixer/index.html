<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <!-- disqus image-->
  <meta property="og:image" content="https://dustinpfister.github.io/css/images/banner_2023.png">
  
  <title>The Animation Mixer in threejs | Dustin John Pfister at github pages</title>
  
  <!-- no index tag or blank here -->
  
  
  <link rel="canonical" href="https://dustinpfister.github.io/2023/07/13/threejs-animation-mixer/" />

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="The animation mixer in threejs is what can be used to play animations for a given object. There is however a whole lot of other classes and features that one will also need to be aware of even to just">
<meta property="og:type" content="article">
<meta property="og:title" content="The Animation Mixer in threejs">
<meta property="og:url" content="https://dustinpfister.github.io/2023/07/13/threejs-animation-mixer/index.html">
<meta property="og:site_name" content="Dustin John Pfister at github pages">
<meta property="og:description" content="The animation mixer in threejs is what can be used to play animations for a given object. There is however a whole lot of other classes and features that one will also need to be aware of even to just">
<meta property="og:updated_time" content="2023-07-20T19:18:54.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="The Animation Mixer in threejs">
<meta name="twitter:description" content="The animation mixer in threejs is what can be used to play animations for a given object. There is however a whole lot of other classes and features that one will also need to be aware of even to just">
  
    <link rel="alternate" href="/atom.xml" title="Dustin John Pfister at github pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <!-- Google Analytics -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y8XLNG6JRW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Y8XLNG6JRW');
</script>
<!-- End Google Analytics -->


  <!-- structured data set in structured-data.ejs -->
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Person",
    "email": "distin.pfister@gmail.com",
    "givenName": "Dustin",
    "familyName" : "Pfister",
    "additionalName": "John",
    "name": "Dustin John Pfister",
    "gender": "Male"
}
</script>
<!-- end structured data -->
  
  <!-- adsense if indexed -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1658284027672315",
    enable_page_level_ads: true
  });
  </script>
  
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <!-- added the image, as well as the link to my youtube -->
        <a href="https://www.youtube.com/user/javaweaver"><div class="selfimage"></div></a>
        <!--<a href="/" id="logo">Dustin John Pfister at github pages</a>-->
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/2021/02/19/threejs-examples/">ThreeJS</a>
        
          <a class="main-nav-link" href="/2020/03/23/canvas-example/">Canvas</a>
        
          <a class="main-nav-link" href="https://www.youtube.com/user/javaweaver">Youtube</a>
        
          <a class="main-nav-link" href="https://github.com/dustinpfister">Github</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <!-- removed rss link-->
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dustinpfister.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article itemscope itemtype="http://schema.org/Blog" id="post-threejs-animation-mixer" class="article article-type-post" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/07/13/threejs-animation-mixer/" class="article-date"> Published:
  <time datetime="2023-07-13T16:57:00.000Z" itemprop="datePublished">2023-07-13</time>
</a>

    <!-- other info (dustin) -->
    <a href="/2023/07/13/threejs-animation-mixer/" class="article-date"> Modified:
  <time datetime="2023-07-20T19:18:54.000Z" itemprop="dateModified">2023-07-20</time>
</a>

    <span class="article-date">V1.11</span>

    
  <div class="article-category">
    <a class="article-category-link" href="/categories/three-js/">three.js</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      The Animation Mixer in threejs
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="text">
      
        <p>The <a href="https://threejs.org/docs/#api/en/animation/AnimationMixer" target="_blank" rel="external">animation mixer in threejs</a> is what can be used to play animations for a given object. There is however a whole lot of other classes and features that one will also need to be aware of even to just create a very basic hello world type example of this sort of thing. As such it should go without saying that this is one of the more advanced topics when it comes to using threejs, but still it is only so complex and I have found that once I have got a basic hello world style example up and running the more complex use case examples end up getting a whole lot easier to follow.</p>
<a id="more"></a>
<h2 id="Animation-Mixer-objects-and-what-to-know-first"><a href="#Animation-Mixer-objects-and-what-to-know-first" class="headerlink" title="Animation Mixer objects and what to know first"></a>Animation Mixer objects and what to know first</h2><p>This is a blog post on the use of Animation Mixer objects in the javaScript library known as threejs. If you are new to what these things are then you might want to start with some kind of <a href="/2018/04/04/threejs-getting-started/">getting started type post on threejs</a>, or maybe even on <a href="/2018/11/27/js-getting-started/">client side javaScript in general</a>. Even if you have a fair amount of experience with these topics you might still want to read up on a few topics before hand that are relevant to this topic of animation mixer objects.</p>
<h3 id="The-Vector3-class-and-the-position-property-of-object3d-class-based-objects"><a href="#The-Vector3-class-and-the-position-property-of-object3d-class-based-objects" class="headerlink" title="The Vector3 class, and the position property of object3d class based objects"></a>The Vector3 class, and the position property of object3d class based objects</h3><p>I think that a good starting point for key frame tracks to use with a mixer would be to use vector key frame track objects. If you have no idea what these are that is okay as this will be covered in the very first example of the basic section. However I am still assuming that you know at least a thing or two about <a href="/2018/04/15/threejs-vector3/">Vector3 class objects</a>, and the <a href="/2022/04/04/threejs-object3d-position/">position property of object3d class based objects</a> such as mesh objects.</p>
<h3 id="Morph-attributes-and-attributes-in-general"><a href="#Morph-attributes-and-attributes-in-general" class="headerlink" title="Morph attributes, and attributes in general"></a>Morph attributes, and attributes in general</h3><p>When it comes to creating and loading external buffer geometry data that is a whole lot to say that I will not be getting into detail here of course. There are a whole lot of file formats to choose from, and with that both built in and add on loaders to load such files into a threejs project. However the main thing of interest here is to make sure that the geometry data has some <a href="/2023/02/03/threejs-buffer-geometry-morph-attributes/">morph attributes</a> at least. Morph attributes are ways off adding additional sets of data in ether absolute data, or deltas for other main buffer geometry attributes of interest, mainly the <a href="/2021/06/07/threejs-buffer-geometry-attributes-position/">position</a> and <a href="/2021/06/08/threejs-buffer-geometry-attributes-normals/">normal attributes</a>.</p>
<h3 id="Source-Code-is-also-up-on-Github"><a href="#Source-Code-is-also-up-on-Github" class="headerlink" title="Source Code is also up on Github"></a>Source Code is also up on Github</h3><p>The source code examples that I am writing about in this post can also be found in my <a href="https://github.com/dustinpfister/test_threejs/tree/master/views/forpost/threejs-animation-mixer" target="_blank" rel="external">test threejs project</a> up on Github. This is also where I have placed all the other source code examples for the <a href="/categories/three-js/">many other blog posts on threejs</a> that I have wrote over the years.</p>
<h3 id="Version-Numbers-Matter"><a href="#Version-Numbers-Matter" class="headerlink" title="Version Numbers Matter"></a>Version Numbers Matter</h3><p>When I first wrote this blog post I was following the <a href="https://github.com/dustinpfister/test_threejs/blob/master/views/demos/r152/README.md" target="_blank" rel="external">r152 style rules</a> that I set for myself. The major change here is the use of module type script tags over that of old school text/javaScript type tags. If you do not know what these means, sorry, getting into that is outside the scope of this post. In general though if you see the use of import at the top of the code examples, then module type tags are being used.</p>
<h2 id="1-Basic-Examples-of-the-Animation-Mixer"><a href="#1-Basic-Examples-of-the-Animation-Mixer" class="headerlink" title="1 - Basic Examples of the Animation Mixer"></a>1 - Basic Examples of the Animation Mixer</h2><p>This will then be a basic section of the animation mixer objects of threejs, or at least as basic as I can make it for what it is worth. There are a whole lot of features that one will need to be aware of even when it comes to a very simple hello world type example of this sort of thing. Still the goal in this section is to keep things as striped down as possible while keeping the more advanced examples that have to do with morph attributes and various file formats, loaders and so forth at the later, more advanced sections of this post.</p>
<h3 id="1-1-Single-Vector-key-frame-track-used-with-the-position-attribute"><a href="#1-1-Single-Vector-key-frame-track-used-with-the-position-attribute" class="headerlink" title="1.1 - Single Vector key frame track used with the position attribute"></a>1.1 - Single Vector key frame track used with the position attribute</h3><p>The animation mixer of threejs is very complex, even when it comes to a simple hello world type example there is still a great deal to be aware of with this one. Still someone needs to start somewhere with this, and with that said that is what this example will be. When it comes to using an animation mixer I will want to create an animation action object. There is a method of the animation mixer object that can be used to create and return this kind of object, however in order to call this method I need an animation clip object. To create an animation clip object I can call THREE.AnimaitonClip to do so, however I will first need at least one Key frame track object to do so. There are a number of options when it comes to this keyframe track object, and sense this is a very basic example of all of this I will be starting out with the THREE.VectorKeyframeTrack class. This vector key frame track class is what I will want to use in order to animate, say the position property of a mesh object over time.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// IMPORT - threejs and any addons I want to use</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">import</span> * <span class="keyword">as</span> THREE <span class="keyword">from</span> <span class="string">'three'</span>;</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">32</span> / <span class="number">24</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">(<span class="built_in">document</span>.querySelector(<span class="string">'#demo'</span>) || <span class="built_in">document</span>.body).appendChild(renderer.domElement);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// VECTOR KEY FRAME TRACK, and ANIMATION CLIP</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> track = <span class="keyword">new</span> THREE.VectorKeyframeTrack(<span class="string">'.position'</span>, [<span class="number">0</span>, <span class="number">1</span>], [</div><div class="line">    <span class="number">5</span>,  <span class="number">0</span>, <span class="number">-5</span>,</div><div class="line">   <span class="number">-5</span>,  <span class="number">0</span>,  <span class="number">5</span></div><div class="line">]);</div><div class="line"><span class="keyword">const</span> clip = <span class="keyword">new</span> THREE.AnimationClip(<span class="string">'move'</span>, <span class="number">-1</span>, [ track ] );</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// OBJECT</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line">scene.add( <span class="keyword">new</span> THREE.GridHelper( <span class="number">10</span>,<span class="number">10</span> ) );</div><div class="line"><span class="keyword">const</span> mesh = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">    <span class="keyword">new</span> THREE.BoxGeometry(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>),</div><div class="line">    <span class="keyword">new</span> THREE.MeshNormalMaterial());</div><div class="line">scene.add(mesh);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// MIXER/ACTION</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> mixer = <span class="keyword">new</span> THREE.AnimationMixer( mesh )</div><div class="line"><span class="keyword">const</span> action = mixer.clipAction( clip );</div><div class="line">action.play();</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// ANIMATION LOOP</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line">camera.position.set(<span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line"><span class="keyword">const</span> FPS_UPDATE = <span class="number">30</span>, <span class="comment">// fps rate to update ( low fps for low CPU use, but choppy video )</span></div><div class="line">FPS_MOVEMENT = <span class="number">30</span>,     <span class="comment">// fps rate to move object by that is independent of frame update rate</span></div><div class="line">FRAME_MAX = <span class="number">90</span>,</div><div class="line">CLOCK = <span class="keyword">new</span> THREE.Clock(<span class="literal">true</span>);</div><div class="line"><span class="keyword">let</span> secs = <span class="number">0</span>,</div><div class="line">frame = <span class="number">0</span>,</div><div class="line">lt = CLOCK.getElapsedTime();</div><div class="line"><span class="keyword">const</span> update = <span class="function">(<span class="params">frame, frameMax</span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> a_frame = frame / frameMax;</div><div class="line">    <span class="keyword">const</span> a_framesin = (  <span class="built_in">Math</span>.sin(  <span class="built_in">Math</span>.PI * <span class="number">2</span> * a_frame ) + <span class="number">1</span> ) / <span class="number">2</span>;</div><div class="line">    <span class="comment">// when it comes to video projects I will often want to use setTime over update</span></div><div class="line">    mixer.setTime( <span class="number">1</span> * a_framesin );</div><div class="line">&#125;;</div><div class="line"><span class="keyword">const</span> loop = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> now = CLOCK.getElapsedTime(),</div><div class="line">    secs = (now - lt);</div><div class="line">    requestAnimationFrame(loop);</div><div class="line">    <span class="keyword">if</span>(secs &gt; <span class="number">1</span> / FPS_UPDATE)&#123;</div><div class="line">        update( <span class="built_in">Math</span>.floor(frame), FRAME_MAX);</div><div class="line">        renderer.render(scene, camera);</div><div class="line">        frame += FPS_MOVEMENT * secs;</div><div class="line">        frame %= FRAME_MAX;</div><div class="line">        lt = now;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">loop();</div></pre></td></tr></table></figure>
<h3 id="1-2-Parse-a-Clip-from-JSON-data-string-demo"><a href="#1-2-Parse-a-Clip-from-JSON-data-string-demo" class="headerlink" title="1.2 - Parse a Clip from JSON data string demo"></a>1.2 - Parse a Clip from JSON data string demo</h3><p>Although I will not be getting into external file formats in this section, maybe a good starting point would be to use the parse method of the Animation Clip class as a way to create an animation clip form a hard coded string of JSON. In a real project this JSON data will typical be in an external file that will need to be loaded in. However there might still be some situations in which I will need to parse an animation clip from an object that was parse from some JSON data that was obtained from some other source other than what is typical. Also it is a good idea to just work out one or more demos like this just for the sake of getting a better idea of how this JSON data is formated.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// IMPORT - threejs and any addons I want to use</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">import</span> * <span class="keyword">as</span> THREE <span class="keyword">from</span> <span class="string">'three'</span>;</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">32</span> / <span class="number">24</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">(<span class="built_in">document</span>.querySelector(<span class="string">'#demo'</span>) || <span class="built_in">document</span>.body).appendChild(renderer.domElement);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// CLIP</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> str_json = <span class="string">`&#123;</span></div><div class="line">  "name":"scale",</div><div class="line">  "duration":3,</div><div class="line">  "tracks":[</div><div class="line">    &#123;</div><div class="line">      "name":".scale",</div><div class="line">      "times":[0,1.5,3],</div><div class="line">      "values":[ 1,1,1, 0.5,3,0.5, 1,1,1],</div><div class="line">      "type":"vector"</div><div class="line">    &#125;,</div><div class="line">    &#123;</div><div class="line">      "name":".position",</div><div class="line">      "times":[0, 0.5, 1.5, 2.5, 3],</div><div class="line">      "values":[ 0,0.5,0, 2,1.5,0, -2,1.5,0, -2,1.5,2, 0,0.5,0],</div><div class="line">      "type":"vector"</div><div class="line">    &#125;</div><div class="line">  ],</div><div class="line">  "uuid":"eff507b6-8c41-47d4-a62e-77119a5ee288",</div><div class="line">  "blendMode":2500</div><div class="line">&#125;`;</div><div class="line"><span class="keyword">const</span> clip = THREE.AnimationClip.parse( <span class="built_in">JSON</span>.parse( str_json ) );</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// OBJECT</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line">scene.add( <span class="keyword">new</span> THREE.GridHelper( <span class="number">10</span>,<span class="number">10</span> ) );</div><div class="line"><span class="keyword">const</span> mesh = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">    <span class="keyword">new</span> THREE.BoxGeometry(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>),</div><div class="line">    <span class="keyword">new</span> THREE.MeshNormalMaterial());</div><div class="line">scene.add(mesh);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// MIXER/ACTION</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> mixer = <span class="keyword">new</span> THREE.AnimationMixer( mesh );</div><div class="line"><span class="keyword">const</span> action = mixer.clipAction( clip );</div><div class="line"><span class="comment">//action.startAt(1);</span></div><div class="line">action.play();</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// ANIMATION LOOP</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line">camera.position.set(<span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line"><span class="comment">// constant values and state for main app loop</span></div><div class="line"><span class="keyword">const</span> FPS_UPDATE = <span class="number">30</span>, <span class="comment">// fps rate to update ( low fps for low CPU use, but choppy video )</span></div><div class="line">FPS_MOVEMENT = <span class="number">30</span>,     <span class="comment">// fps rate to move object by that is independent of frame update rate</span></div><div class="line">FRAME_MAX = <span class="number">90</span>,</div><div class="line">CLOCK = <span class="keyword">new</span> THREE.Clock(<span class="literal">true</span>); <span class="comment">// USING THREE.Clock in place of new Date() or Date.now()</span></div><div class="line"><span class="keyword">let</span> secs = <span class="number">0</span>,</div><div class="line">frame = <span class="number">0</span>,</div><div class="line">lt = CLOCK.getElapsedTime();</div><div class="line"><span class="comment">// update</span></div><div class="line"><span class="keyword">const</span> update = <span class="function">(<span class="params">frame, frameMax</span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> a1 = frame / frameMax;</div><div class="line">    <span class="comment">// when it comes to video projects I will often want to use setTime over update</span></div><div class="line">    mixer.setTime( <span class="number">3</span> * a1 );</div><div class="line">&#125;;</div><div class="line"><span class="comment">// loop</span></div><div class="line"><span class="keyword">const</span> loop = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> now = CLOCK.getElapsedTime(),</div><div class="line">    secs = (now - lt);</div><div class="line">    requestAnimationFrame(loop);</div><div class="line">    <span class="keyword">if</span>(secs &gt; <span class="number">1</span> / FPS_UPDATE)&#123;</div><div class="line">        <span class="comment">// update, render</span></div><div class="line">        update( <span class="built_in">Math</span>.floor(frame), FRAME_MAX);</div><div class="line">        renderer.render(scene, camera);</div><div class="line">        <span class="comment">// step frame</span></div><div class="line">        frame += FPS_MOVEMENT * secs;</div><div class="line">        frame %= FRAME_MAX;</div><div class="line">        lt = now;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">loop();</div></pre></td></tr></table></figure>
<p>Another thing that I have done here in this demo is having two tracks for the animation clip actually. This is another thing that will typically come up when making some real models for real projects. For this basic example I have two tracks that will effect both the scale and the position for the object over time. However when making one of these for a custom geometry with morph attributes there is having one track that will effect, say a walk cycle, and another tack that will move the arms of a figure.</p>
<h2 id="2-Single-Triangle-Demos-of-Full-Objects-JSON-Strings"><a href="#2-Single-Triangle-Demos-of-Full-Objects-JSON-Strings" class="headerlink" title="2 - Single Triangle Demos of Full Objects JSON Strings"></a>2 - Single Triangle Demos of Full Objects JSON Strings</h2><p>In this Section I am now going to continue with what I started in one of the basic section examples that has to do with writing hand coded JSON data. However now I am going to be doing the whole nine yards when it comes to JSON data by going with the full object syntax for this kind of thing. I will then be using the parse method of the Object Loader as a way to parse this JSON data into a workable object. This json data will then contain all the data for a scene object along with geometry, scene child objects, materials, and yes animations as well.</p>
<p>These examples will then prove to be far more involved then the basic section examples. However in order to help keep things fairly simple though the complexity of the geometry will just be a single triangle. Also the geometry will just contain a position attribute. This will not be such great geometries for mesh objects, but they will work just fine for THREE.Points. I will then be working out morph attributes for the geometry, and then with that also animation clips that make use of these morph attributes.</p>
<h3 id="2-1-The-Core-idea-Object-Demo"><a href="#2-1-The-Core-idea-Object-Demo" class="headerlink" title="2.1 - The Core idea Object Demo"></a>2.1 - The Core idea Object Demo</h3><p>For this first example then I just wanted to get the core idea of what I hand in mode for this up an running then. So there is creating a single geometry object for the JSON that has just three points in the position attribute. I am then also creating a single morph attribute with deltas to mutate the state of that position attribute to have it so that all of the points of the triangle converge into a single point.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// IMPORT - threejs and any addons I want to use</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">import</span> * <span class="keyword">as</span> THREE <span class="keyword">from</span> <span class="string">'three'</span>;</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// CAMERA, RENDERER</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">50</span>, <span class="number">32</span> / <span class="number">24</span>, <span class="number">0.1</span>, <span class="number">1000</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">(<span class="built_in">document</span>.querySelector(<span class="string">'#demo'</span>) || <span class="built_in">document</span>.body).appendChild(renderer.domElement);</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// SCENE</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">const</span> str_json = <span class="string">`&#123;</span></div><div class="line">    "metadata": &#123;</div><div class="line">        "version": 4.3,</div><div class="line">        "type": "Object",</div><div class="line">        "generator": "Hand Coded"</div><div class="line">    &#125;,</div><div class="line">    "textures": [],</div><div class="line">    "images": [],</div><div class="line">    "geometries": [</div><div class="line">        &#123;</div><div class="line">            "uuid": "bce89f32-4cab-41c8-b3f6-15e04b1dd68e",</div><div class="line">            "type": "BufferGeometry",</div><div class="line">            "data": &#123;</div><div class="line">                "attributes": &#123;</div><div class="line">                    "position": &#123;</div><div class="line">                        "itemSize": 3,</div><div class="line">                        "type": "Float32Array",</div><div class="line">                        "array": [0,0,0, 4,0,0, 0,0,4 ],</div><div class="line">                        "normalized": false</div><div class="line">                    &#125;</div><div class="line">                &#125;,</div><div class="line">                "morphTargetsRelative": true,</div><div class="line">                "morphAttributes": &#123;</div><div class="line">                    "position": [</div><div class="line">                        &#123;</div><div class="line">                            "itemSize":3,</div><div class="line">                            "type":"Float32Array",</div><div class="line">                            "array":[</div><div class="line">                                0.0, 3.0, 0.0,</div><div class="line">                               -4.0, 3.0, 0.0,</div><div class="line">                                0.0, 3.0,-4.0</div><div class="line">                            ],</div><div class="line">                            "normalized":false</div><div class="line">                        &#125;</div><div class="line">                    ]</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    ],</div><div class="line">    "materials": [</div><div class="line">        &#123;</div><div class="line">            "uuid": "0246dafa-bf34-4460-a7eb-f5098b2120af",</div><div class="line">            "type": "PointsMaterial",</div><div class="line">            "size": 1,</div><div class="line">            "color": 65280</div><div class="line">        &#125;</div><div class="line">    ],</div><div class="line">    "animations": [</div><div class="line">        &#123;</div><div class="line">            "name": "converge",</div><div class="line">            "duration": 1,</div><div class="line">            "tracks": [</div><div class="line">                &#123;</div><div class="line">                    "name": ".morphTargetInfluences[0]",</div><div class="line">                    "times": [0, 0.5, 1],</div><div class="line">                    "values": [0, 1, 0],</div><div class="line">                    "type": "number"</div><div class="line">                &#125;</div><div class="line">            ],</div><div class="line">            "uuid": "584702c7-efb2-4fa1-ae37-43d18b5f7fb5",</div><div class="line">            "blendMode": 2500</div><div class="line">        &#125;</div><div class="line">    ],</div><div class="line">    "object": &#123;</div><div class="line">        "uuid": "ad1ecebd-b665-4e10-9ead-6d0205bec011",</div><div class="line">        "type": "Scene",</div><div class="line">        "matrix": [ 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1 ],</div><div class="line">        "children": [</div><div class="line">            &#123;</div><div class="line">                "uuid": "6b95325d-5bcc-4f85-a330-fbca8f271287",</div><div class="line">                "name": "tri_one",</div><div class="line">                "type": "Points",</div><div class="line">                "geometry": "bce89f32-4cab-41c8-b3f6-15e04b1dd68e",</div><div class="line">                "material": "0246dafa-bf34-4460-a7eb-f5098b2120af",</div><div class="line">                "matrix": [ 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1 ],</div><div class="line">                "animations": ["584702c7-efb2-4fa1-ae37-43d18b5f7fb5"]</div><div class="line">            &#125;</div><div class="line">        ]</div><div class="line">    &#125;</div><div class="line">&#125;`;</div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.ObjectLoader().parse( <span class="built_in">JSON</span>.parse( str_json ) );</div><div class="line"><span class="keyword">const</span> points = scene.getObjectByName(<span class="string">'tri_one'</span>);</div><div class="line"><span class="keyword">const</span> mixer = <span class="keyword">new</span> THREE.AnimationMixer( points );</div><div class="line"><span class="keyword">const</span> action = mixer.clipAction( points.animations[<span class="number">0</span>] );</div><div class="line">action.play();</div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// ANIMATION LOOP</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line">camera.position.set(<span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line"><span class="comment">// constant values and state for main app loop</span></div><div class="line"><span class="keyword">const</span> FPS_UPDATE = <span class="number">30</span>, <span class="comment">// fps rate to update ( low fps for low CPU use, but choppy video )</span></div><div class="line">FPS_MOVEMENT = <span class="number">30</span>,     <span class="comment">// fps rate to move object by that is independent of frame update rate</span></div><div class="line">FRAME_MAX = <span class="number">90</span>,</div><div class="line">CLOCK = <span class="keyword">new</span> THREE.Clock(<span class="literal">true</span>); <span class="comment">// USING THREE.Clock in place of new Date() or Date.now()</span></div><div class="line"><span class="keyword">let</span> secs = <span class="number">0</span>,</div><div class="line">frame = <span class="number">0</span>,</div><div class="line">lt = CLOCK.getElapsedTime();</div><div class="line"><span class="comment">// update</span></div><div class="line"><span class="keyword">const</span> update = <span class="function">(<span class="params">frame, frameMax</span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> a1 = frame / frameMax;</div><div class="line">    mixer.setTime(a1);</div><div class="line">&#125;;</div><div class="line"><span class="comment">// loop</span></div><div class="line"><span class="keyword">const</span> loop = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> now = CLOCK.getElapsedTime(),</div><div class="line">    secs = (now - lt);</div><div class="line">    requestAnimationFrame(loop);</div><div class="line">    <span class="keyword">if</span>(secs &gt; <span class="number">1</span> / FPS_UPDATE)&#123;</div><div class="line">        <span class="comment">// update, render</span></div><div class="line">        update( <span class="built_in">Math</span>.floor(frame), FRAME_MAX);</div><div class="line">        renderer.render(scene, camera);</div><div class="line">        <span class="comment">// step frame</span></div><div class="line">        frame += FPS_MOVEMENT * secs;</div><div class="line">        frame %= FRAME_MAX;</div><div class="line">        lt = now;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">loop();</div></pre></td></tr></table></figure>
<h2 id="3-Examples-using-JSON-file-assets-from-my-‘tri12’-project"><a href="#3-Examples-using-JSON-file-assets-from-my-‘tri12’-project" class="headerlink" title="3 - Examples using JSON file assets from my ‘tri12’ project"></a>3 - Examples using JSON file assets from my ‘tri12’ project</h2><p>I started a collection of JSON files that I have called just simply tri12 which as the name suggests is a collection of assets where I am creating models that are composed of no more than 12 triangles. In this section I will then be going over some Animation Mixer examples that make use of these files. With that said there are a few options when it comes to loading JSON format files, and also there are several differing formats of course. For example there is having a JSON file that just contains data for a buffer geometry object alone, but then there is a JSON format for loading one or more whole objects with geometry, materials, and animation data.</p>
<p>There are a lot of options when it comes to external data for geometry, and other data that has to do with over all objects. However I think that JSON is maybe one of the best options when it comes to learning about the THREEJS animation system to begin with. The loaders of interest are built into the core of threejs itself rather than in an additional add on loader. Also the process of converting workable objects to JSON strings and vis versa is just a matter of using the JOSN.stringify, and JSON.parse methods built into client side javaScript itself. Yet another good reason for going with this format is that when it comes creating models by hand coding data with a text editor rather than using a program like blender a plain text format like JSON makes the process of doing so easier.</p>
<h3 id="3-a-The-Buffer-Geometry-JSON-Format"><a href="#3-a-The-Buffer-Geometry-JSON-Format" class="headerlink" title="3.a - The Buffer Geometry JSON Format"></a>3.a - The Buffer Geometry JSON Format</h3><p>The buffer geometry JSON format that will then be used with the <a href="/2018/04/12/threejs-buffer-geometry-loader/">THREE.BufferGeometry loader</a> can be created by calling the toJSON method of a buffer geometry object to get a general sense of how that data is structured. However the geometry to which it is created form might not have one or more morph attributes. Morph attributes are a way to update the position, and normal attributes of a buffer geometry over time by giving additional data for these buffer geometry attributes. The data can be absolute values for each position, or in the case of the files that I am using in this section delta values from the original states of the attributes by setting the morphTargetsRelative boolean to true.</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="attr">"metadata"</span>:&#123;</div><div class="line">    <span class="attr">"version"</span>:<span class="number">4.5</span>,</div><div class="line">    <span class="attr">"type"</span>:<span class="string">"BufferGeometry"</span>,</div><div class="line">    <span class="attr">"generator"</span>:<span class="string">"Hand Coded"</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">"type"</span>:<span class="string">"BufferGeometry"</span>,</div><div class="line">  <span class="attr">"data"</span>:&#123;</div><div class="line">    <span class="attr">"attributes"</span>:&#123;</div><div class="line">      <span class="attr">"position"</span>:&#123;</div><div class="line">        <span class="attr">"itemSize"</span>:<span class="number">3</span>,</div><div class="line">        <span class="attr">"type"</span>:<span class="string">"Float32Array"</span>,</div><div class="line">        <span class="attr">"array"</span>:[</div><div class="line">          <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>,</div><div class="line">         <span class="number">-1.0</span>, <span class="number">2.0</span>, <span class="number">0.0</span>,</div><div class="line">         <span class="number">-1.0</span>, <span class="number">0.5</span>, <span class="number">0.0</span>,</div><div class="line">          <span class="number">1.0</span>, <span class="number">2.0</span>, <span class="number">0.0</span>,</div><div class="line">          <span class="number">1.0</span>, <span class="number">0.5</span>, <span class="number">0.0</span>,</div><div class="line">         <span class="number">-0.7</span>,<span class="number">-1.0</span>, <span class="number">0.0</span>,</div><div class="line">         <span class="number">-0.7</span>,<span class="number">-0.1</span>, <span class="number">0.0</span>,</div><div class="line">          <span class="number">0.7</span>,<span class="number">-1.0</span>, <span class="number">0.0</span>,</div><div class="line">          <span class="number">0.7</span>,<span class="number">-0.1</span>, <span class="number">0.0</span></div><div class="line">        ],</div><div class="line">        <span class="attr">"normalized"</span>:<span class="literal">false</span></div><div class="line">      &#125;,</div><div class="line">      <span class="attr">"normal"</span>:&#123;</div><div class="line">        <span class="attr">"itemSize"</span>:<span class="number">3</span>,</div><div class="line">        <span class="attr">"type"</span>:<span class="string">"Float32Array"</span>,</div><div class="line">        <span class="attr">"array"</span>:[</div><div class="line">          <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,</div><div class="line">          <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,</div><div class="line">          <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,</div><div class="line">          <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,</div><div class="line">          <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,</div><div class="line">          <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,</div><div class="line">          <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,</div><div class="line">          <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,</div><div class="line">          <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span></div><div class="line">        ],</div><div class="line">        <span class="attr">"normalized"</span>:<span class="literal">false</span></div><div class="line">      &#125;,</div><div class="line">      <span class="attr">"uv"</span>:&#123;</div><div class="line">        <span class="attr">"itemSize"</span>:<span class="number">2</span>,</div><div class="line">        <span class="attr">"type"</span>:<span class="string">"Float32Array"</span>,</div><div class="line">        <span class="attr">"array"</span>:[</div><div class="line">          <span class="number">0</span>,<span class="number">0</span>,</div><div class="line">          <span class="number">1</span>,<span class="number">0</span>,</div><div class="line">          <span class="number">1</span>,<span class="number">1</span>,</div><div class="line">          <span class="number">1</span>,<span class="number">0</span>,</div><div class="line">          <span class="number">1</span>,<span class="number">1</span>,</div><div class="line">          <span class="number">1</span>,<span class="number">0</span>,</div><div class="line">          <span class="number">1</span>,<span class="number">1</span>,</div><div class="line">          <span class="number">1</span>,<span class="number">0</span>,</div><div class="line">          <span class="number">1</span>,<span class="number">1</span></div><div class="line">        ],</div><div class="line">        <span class="attr">"normalized"</span>:<span class="literal">false</span></div><div class="line">      &#125;,</div><div class="line">      <span class="attr">"color"</span>:&#123;</div><div class="line">        <span class="attr">"itemSize"</span>:<span class="number">3</span>,</div><div class="line">        <span class="attr">"type"</span>:<span class="string">"Float32Array"</span>,</div><div class="line">        <span class="attr">"array"</span>:[</div><div class="line">          <span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,</div><div class="line">          <span class="number">0.7</span>,<span class="number">0.5</span>,<span class="number">0</span>,</div><div class="line">          <span class="number">0.7</span>,<span class="number">0.5</span>,<span class="number">0</span>,</div><div class="line">          <span class="number">0.7</span>,<span class="number">0.5</span>,<span class="number">0</span>,</div><div class="line">          <span class="number">0.7</span>,<span class="number">0.5</span>,<span class="number">0</span>,</div><div class="line">          <span class="number">0.9</span>,<span class="number">0.5</span>,<span class="number">0</span>,</div><div class="line">          <span class="number">0.9</span>,<span class="number">0.5</span>,<span class="number">0</span>,</div><div class="line">          <span class="number">0.9</span>,<span class="number">0.5</span>,<span class="number">0</span>,</div><div class="line">          <span class="number">0.9</span>,<span class="number">0.5</span>,<span class="number">0</span></div><div class="line">        ],</div><div class="line">        <span class="attr">"normalized"</span>:<span class="literal">false</span></div><div class="line">      &#125;</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">"index"</span>:&#123; </div><div class="line">        <span class="attr">"type"</span>: <span class="string">"Uint16Array"</span>,</div><div class="line">        <span class="attr">"array"</span>: [</div><div class="line">          <span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,</div><div class="line">          <span class="number">0</span>,<span class="number">4</span>,<span class="number">3</span>,</div><div class="line">          <span class="number">0</span>,<span class="number">6</span>,<span class="number">5</span>,</div><div class="line">          <span class="number">0</span>,<span class="number">7</span>,<span class="number">8</span></div><div class="line">        ]</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">"morphTargetsRelative"</span>: <span class="literal">true</span>,</div><div class="line">    <span class="attr">"morphAttributes"</span>: &#123;</div><div class="line">      <span class="attr">"position"</span>: [</div><div class="line">        &#123;</div><div class="line">          <span class="attr">"itemSize"</span>:<span class="number">3</span>,</div><div class="line">          <span class="attr">"type"</span>:<span class="string">"Float32Array"</span>,</div><div class="line">          <span class="attr">"array"</span>:[</div><div class="line">            <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>,</div><div class="line">            <span class="number">0.0</span>, <span class="number">0.0</span>,<span class="number">-0.8</span>,</div><div class="line">            <span class="number">0.0</span>, <span class="number">0.0</span>,<span class="number">-0.8</span>,</div><div class="line">            <span class="number">0.0</span>, <span class="number">0.0</span>,<span class="number">-0.8</span>,</div><div class="line">            <span class="number">0.0</span>, <span class="number">0.0</span>,<span class="number">-0.8</span>,</div><div class="line">            <span class="number">0.0</span>, <span class="number">0.0</span>,<span class="number">-0.4</span>,</div><div class="line">            <span class="number">0.0</span>, <span class="number">0.0</span>,<span class="number">-0.4</span>,</div><div class="line">            <span class="number">0.0</span>, <span class="number">0.0</span>,<span class="number">-0.4</span>,</div><div class="line">            <span class="number">0.0</span>, <span class="number">0.0</span>,<span class="number">-0.4</span></div><div class="line">          ],</div><div class="line">          <span class="attr">"normalized"</span>:<span class="literal">false</span></div><div class="line">        &#125;</div><div class="line">      ]</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="3-1-Creating-an-animation-clip-using-buffer-geometry-format-JSON-that-has-a-morph-attribute"><a href="#3-1-Creating-an-animation-clip-using-buffer-geometry-format-JSON-that-has-a-morph-attribute" class="headerlink" title="3.1 - Creating an animation clip using buffer geometry format JSON that has a morph attribute"></a>3.1 - Creating an animation clip using buffer geometry format JSON that has a morph attribute</h3><p>For this demo then I am loading the above JSON data in the buffer geometry format, and then creating an animation keyframe track from it by using hard coded data in the javaScript file rather than loading additional JSON data. When it comes to the option that I use to do this I am using the new THREE.NumberKeyframeTrack class as the property that I want to mutate is the value of the first element of the morphTargetInfluences property of the mesh object that I will be using for the geometry. Once I have the key frame track I can then created the animation clip, the animation mixer, and then create the animation action by calling the clipAction method of the mixer.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="comment">// IMPORT - threejs and any addons I want to use</span></div><div class="line"><span class="comment">// ---------- ----------</span></div><div class="line"><span class="keyword">import</span> * <span class="keyword">as</span> THREE <span class="keyword">from</span> <span class="string">'three'</span>;</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// SCENE, CAMERA, RENDERER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> scene = <span class="keyword">new</span> THREE.Scene();</div><div class="line"><span class="keyword">const</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">65</span>, <span class="number">4</span> / <span class="number">3</span>, <span class="number">0.1</span>, <span class="number">100</span>);</div><div class="line"><span class="keyword">const</span> renderer = <span class="keyword">new</span> THREE.WebGL1Renderer();</div><div class="line">renderer.setSize(<span class="number">640</span>, <span class="number">480</span>, <span class="literal">false</span>);</div><div class="line">( <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>)  || <span class="built_in">document</span>.body ).appendChild(renderer.domElement);</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// LOOP</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line">camera.position.set(<span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>);</div><div class="line">camera.lookAt(<span class="number">0</span>, <span class="number">0.5</span>, <span class="number">0</span>);</div><div class="line"><span class="keyword">const</span> state = &#123;</div><div class="line">   <span class="attr">mesh</span>: <span class="literal">null</span>,</div><div class="line">   <span class="attr">mixer</span>: <span class="literal">null</span></div><div class="line">&#125;;</div><div class="line"><span class="keyword">let</span> frame = <span class="number">0</span>;</div><div class="line"><span class="keyword">const</span> frame_max = <span class="number">30</span>;</div><div class="line"><span class="keyword">const</span> loop = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    requestAnimationFrame(loop);</div><div class="line">    <span class="keyword">const</span> a1 = frame / frame_max;</div><div class="line">    state.mixer.setTime(<span class="number">1</span> * a1);</div><div class="line">    renderer.render(scene, camera);</div><div class="line">    frame += <span class="number">1</span>;</div><div class="line">    frame %= frame_max;</div><div class="line">&#125;;</div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="comment">// BUFFER GEOMETY LOADER</span></div><div class="line"><span class="comment">//-------- ----------</span></div><div class="line"><span class="keyword">const</span> loader = <span class="keyword">new</span> THREE.BufferGeometryLoader();</div><div class="line"><span class="comment">// load a resource</span></div><div class="line">loader.load(</div><div class="line">    <span class="comment">// resource URL</span></div><div class="line">    <span class="string">'/json/tri12-butterfly/set1-buffergeometry/0.json'</span>,</div><div class="line">    <span class="comment">// onLoad callback</span></div><div class="line">    (geometry) =&gt; &#123;</div><div class="line">        <span class="comment">// add mesh</span></div><div class="line">        state.mesh = <span class="keyword">new</span> THREE.Mesh(</div><div class="line">            geometry,</div><div class="line">            <span class="keyword">new</span> THREE.MeshBasicMaterial(&#123;</div><div class="line">                <span class="attr">vertexColors</span>: <span class="literal">true</span>, </div><div class="line">                <span class="attr">side</span>: THREE.DoubleSide</div><div class="line">            &#125;)</div><div class="line">        );</div><div class="line">        scene.add(state.mesh);</div><div class="line">        <span class="comment">// creating a Number Key Frame Track, clip, mixer, and action</span></div><div class="line">        <span class="keyword">const</span> track = <span class="keyword">new</span> THREE.NumberKeyframeTrack(<span class="string">'.morphTargetInfluences[0]'</span>, </div><div class="line">           [ <span class="number">0</span>, <span class="number">0.25</span>, <span class="number">0.5</span>, <span class="number">0.75</span>, <span class="number">1</span>],</div><div class="line">           [ <span class="number">0</span>, <span class="number">0.30</span>, <span class="number">0.5</span>, <span class="number">0.15</span>, <span class="number">0</span>]</div><div class="line">        );</div><div class="line">        <span class="keyword">const</span> clip = <span class="keyword">new</span> THREE.AnimationClip(<span class="string">'flap'</span>, <span class="number">-1</span>, [ track ] );</div><div class="line">        state.mesh.animations.push( clip );</div><div class="line">        state.mixer = <span class="keyword">new</span> THREE.AnimationMixer(state.mesh);</div><div class="line">        <span class="keyword">const</span> action = state.mixer.clipAction( state.mesh.animations[<span class="number">0</span>] );</div><div class="line">        action.play();</div><div class="line">        <span class="comment">// LOGGING OIT THE JSON FOR THIS TO USE WITH OBJECT LOADER</span></div><div class="line">        <span class="built_in">console</span>.log( <span class="built_in">JSON</span>.stringify( state.mesh.toJSON()) );</div><div class="line">        <span class="comment">// start loop</span></div><div class="line">        loop();</div><div class="line">    &#125;</div><div class="line">);</div></pre></td></tr></table></figure>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>So then there is a lot more ground to cover when it comes to animation mixer objects in threejs, as well as all the various other closely related objects that are needed in order to do anything at all with this kind of threejs feature. Still I have found that once that I have worked out just a very simple hello type example that just involves moving a mesh across an area the bulk of the hard work is all ready out of the way.</p>
<p>When it comes to KeyFrameTracks it is good that there are options for vectors, and quaternion for the sake of local rotation. However often I think that what I will be using for many of the use case examples will in fact just be the plain old Number Key frame tracks, as I am sure that many of the animations that I will be working out will make use of morph attributes and with those I just need to set what the alpha values are over time.</p>
<p>I am sure that I will be coming back to edit this post a few times now and then as I write more content on animation topics as this is still an area where I need to wrote more on for sure.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dustinpfister.github.io/2023/07/13/threejs-animation-mixer/" data-id="clkyg75h9021r0gv1tcbcb165" class="article-share-link">Share</a>
      
        <a href="https://dustinpfister.github.io/2023/07/13/threejs-animation-mixer/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/three-js/">three.js</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2023/07/19/threejs-object-loader/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          The Object Loader in threejs
        
      </div>
    </a>
  
  
    <a href="/2023/07/11/linux-apt/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Linux apt Debian package manager</div>
    </a>
  
</nav>

  
</article>



<section id="comments">

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://dustinpfister.github.io/2023/07/13/threejs-animation-mixer/index.html';
    this.page.identifier = '1060';
    this.page.title = 'The Animation Mixer in threejs';
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://dustinpfister-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/angular/">angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/api/">api</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/backbone/">backbone</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/canvas/">canvas</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/discovery/">discovery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/electronjs/">electronjs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/express/">express</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/games/">games</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/grunt/">grunt</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hapi/">hapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/heroku/">heroku</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/jquery/">jquery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lodash/">lodash</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/mongodb/">mongodb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node-js/">node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/phaser/">phaser</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/statistics/">statistics</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/three-js/">three.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animation/">animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/backbone/">backbone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/corejs/">corejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deterministic/">deterministic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discovery/">discovery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ejs/">ejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/electronjs/">electronjs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/games/">games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hapi/">hapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/heroku/">heroku</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jimp/">jimp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js13k/">js13k</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lodash/">lodash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/structured-data/">structured-data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/themes/">themes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/three-js/">three.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JSON/" style="font-size: 12.38px;">JSON</a> <a href="/tags/SEO/" style="font-size: 10.48px;">SEO</a> <a href="/tags/angular/" style="font-size: 13.33px;">angular</a> <a href="/tags/animation/" style="font-size: 11.9px;">animation</a> <a href="/tags/automation/" style="font-size: 11.9px;">automation</a> <a href="/tags/backbone/" style="font-size: 12.38px;">backbone</a> <a href="/tags/blog/" style="font-size: 15.71px;">blog</a> <a href="/tags/canvas/" style="font-size: 18.57px;">canvas</a> <a href="/tags/corejs/" style="font-size: 12.86px;">corejs</a> <a href="/tags/deterministic/" style="font-size: 10px;">deterministic</a> <a href="/tags/discovery/" style="font-size: 10.95px;">discovery</a> <a href="/tags/ejs/" style="font-size: 11.43px;">ejs</a> <a href="/tags/electronjs/" style="font-size: 13.81px;">electronjs</a> <a href="/tags/express/" style="font-size: 17.14px;">express</a> <a href="/tags/games/" style="font-size: 17.62px;">games</a> <a href="/tags/git/" style="font-size: 13.81px;">git</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hapi/" style="font-size: 15.24px;">hapi</a> <a href="/tags/heroku/" style="font-size: 11.9px;">heroku</a> <a href="/tags/hexo/" style="font-size: 14.76px;">hexo</a> <a href="/tags/jimp/" style="font-size: 10.48px;">jimp</a> <a href="/tags/jquery/" style="font-size: 11.43px;">jquery</a> <a href="/tags/js/" style="font-size: 20px;">js</a> <a href="/tags/js13k/" style="font-size: 10px;">js13k</a> <a href="/tags/linux/" style="font-size: 18.1px;">linux</a> <a href="/tags/lodash/" style="font-size: 18.57px;">lodash</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mongodb/" style="font-size: 14.76px;">mongodb</a> <a href="/tags/node-js/" style="font-size: 19.52px;">node.js</a> <a href="/tags/phaser/" style="font-size: 18.1px;">phaser</a> <a href="/tags/python/" style="font-size: 16.19px;">python</a> <a href="/tags/statistics/" style="font-size: 14.29px;">statistics</a> <a href="/tags/structured-data/" style="font-size: 10px;">structured-data</a> <a href="/tags/themes/" style="font-size: 10px;">themes</a> <a href="/tags/three-js/" style="font-size: 19.05px;">three.js</a> <a href="/tags/vuejs/" style="font-size: 16.67px;">vuejs</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/08/">August 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">July 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/06/">June 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">May 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">April 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/08/02/threejs-matrix4/">Matrix4 Objects in threejs</a>
          </li>
        
          <li>
            <a href="/2023/08/01/linux-folders/">Linux Root Folders</a>
          </li>
        
          <li>
            <a href="/2023/07/27/threejs-materials-loader/">The Matheral Loader in threejs</a>
          </li>
        
          <li>
            <a href="/2023/07/25/linux-lsb-release/">Linux System Base Release command lsb_release for Distribution info</a>
          </li>
        
          <li>
            <a href="/2023/07/19/threejs-object-loader/">The Object Loader in threejs</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2023 Dustin Pfister<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
      <br>
      <a href="/privacy.html" target="_blank">Privacy Policy</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/2021/02/19/threejs-examples/" class="mobile-nav-link">ThreeJS</a>
  
    <a href="/2020/03/23/canvas-example/" class="mobile-nav-link">Canvas</a>
  
    <a href="https://www.youtube.com/user/javaweaver" class="mobile-nav-link">Youtube</a>
  
    <a href="https://github.com/dustinpfister" class="mobile-nav-link">Github</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'dustinpfister-github-io';
  
  var disqus_url = 'https://dustinpfister.github.io/2023/07/13/threejs-animation-mixer/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>


  </div>
</body>
</html>